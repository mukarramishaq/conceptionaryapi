{"version":3,"sources":["images/insta.png","images/youtube.png","Spinner.svg","images/sort.png","images/conceptionary.png","loading.gif","components/LoaderComponent/Loader.js","components/AdComponent/AdComponent.js","schema/conceptSchema.js","actions/conceptsActions.js","utils/getSortedAuthor.js","actions/navbaractions.js","utilities/index.js","components/SocialShareButtons/ShareButtons.js","components/SocialShareButtons/TwitterSharedButton.js","components/ConceptsPage/Context/Context.js","utils/keywordsSorterFunction.js","utils/conceptsSorterFunction.js","selectors/index.js","components/ConceptsPage/ConceptsPage.js","schema/conceptClusterSchema.js","actions/conceptClustersActions.js","components/ConceptClustersPage/Context.js","components/ConceptClustersPage/ConceptClustersPage.js","components/Messages/Message.js","schema/authorClusterSchema.js","actions/autherCluster.js","components/AutherCluster/AutherCluster.js","schema/authorSchema.js","actions/authorActions.js","components/AuthorPage/AutherPage.js","utils/setAuthorizationToken.js","actions/loginActions.js","components/Login/Login.js","helpers/validateLogin.js","actions/signupActions.js","helpers/validateSignup.js","components/Signup/Signup.js","components/TopNavBar/TopNavBar.js","components/HomePage/HomePage.js","components/FileUpload/FileUpload.js","components/perspectiveDetail/perspective.js","components/about/about.js","components/contact/contact.js","components/termsofuse/termsofuse.js","App.js","serviceWorker.js","reducers/auth.js","reducers/navbar.js","reducers/concepts.js","reducers/conceptClusters.js","reducers/author.js","reducers/keyword.js","reducers/autherCluster.js","reducers/index.js","index.js"],"names":["module","exports","__webpack_require__","p","Component","AdsComponent","react_default","a","createElement","class","style","display","textAlign","data-ad-format","data-ad-layout","data-ad-client","data-ad-slot","React","author","schema","Entity","keyword","perspective","Author","Keywords","conceptSchema","Perspectives","axios","require","perspectivesByAuthor","sortedAuthors","createPerspectivesByAuthor","perspectives","arguments","length","undefined","authorPerspectives","Object","assign","forEach","id","AuthorId","push","console","log","createNormalizePerspectives","data","createPerspectivesByAuthorKeywords","arr","map","createNormalizePerspectivesKeywords","result","flushConceptState","dispatch","type","getAllPerspectivesByConcept","conceptId","page_no","conceptPage","post","concat","process","then","responseType","payload","getConceptPerspectivesByKeywords","keywordId","scroll","upScroll","getPerspectivesByAuthors","authorIds","merge","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","_x","apply","this","catch","err","getConceptPerspectivesByLikes","concept","offset","isScroll","finish","isScrollLike","getConceptPerspectivesByAuthorLastName","author_lastName","get","increasePerspectiveLike","like","res","isLike","decreasePerspectiveLike","LoadByLikes","sortByAuthorLast","sortBy","showAllPerspective","value","sortByKeyword","getConceptFromApi","obj","Conceptobj","conceptDetailsFromApi","perspectivesRelations","sortedAuthorIds","normalizedData","normalize","entities","ids","perspectiveids","concepts","authors","uniqueAuthorWithDetails","uniqueAuthorNames","indexOf","firstName","lastName","sort","b","authorALastName","toUpperCase","authorBLastName","getUniqueSortedAuthors","error","getListRelatedByConceptId","listRelatedData","ConceptClusters","flushState","setAutherClusterSelectedItems","selectedItems","setSelectedItem","selectedItem","setSelectedCategory","selectedCategory","addTag","tag","removeTag","getAuthorGroups","name","callback","results","i","label","toLowerCase","startsWith","login","account","username","Email","password","Password","headers","Content-Type","accept","response","JSON","parse","stringify","success","userInfo","user","e","logout","signup","Username","email","temp","filters","filterobj","Promise","resolve","reject","Axios","ShareButtons","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","show","_this2","_this$props","title","link","text","pronoun","charAt","slice","description","react_facebook_lib","appId","href","handleClick","onMouseDown","setState","onClick","backgroundColor","border","FacebookIcon","size","round","dist_default","target","TwitterIcon","Helmet","Context","visibility","showShare","keywords","marginTop","marginBottom","onMouseLeave","width","borderBottom","height","paddingLeft","paddingTop","paddingBottom","src","className","onAuthorClick","author_first","author_last","born","dob","died","dod","auth_id","color","cursor","fontSize","padding","textTransform","selectedOption","k","alignContent","justifyContent","aria-hidden","onMouseOver","onLikeClick","background","marginLeft","boxShadow","SocialShareButtons_ShareButtons","longDescription","citation","keywordsSorter","conceptsSorter","getUniqueKeywords","perspectiveIds","uniqueKeysWords","uniqueKeywordNamesOnly","includes","count","keywordSorterFunction","getUniqueConcept","authorsWithDetails","sortedKeywords","getSortedPerspectivesByConceptName","tempPerspectives","getUniqueAuthorBooks","books","authorBooks","Books","bookids","uniqueBookNameWithId","uniqueBookIds","bookid","discrete_book_id","getAuthorBioData","authorGroups","authorBioHeadings","AuthorGroups","uniqueBioHeadings","AuthorBioHeading","element","heading","values","getPerspectivesFromConceptCluster","conceptClusters","conceptClusterWithDetails","getUniqueSortedConceptNameFromAuthorCluster","autherCluster","authorCluster","uniqueConceptNames","uniqueConcepts","conceptid","conceptName","getDynamicSortedAuthorClusterWithDetails","copyAuthorClusterWithDetails","authorClicked","conceptClicked","textA","authorLastName","textB","authorA","authorB","getSortedAuthorClusterWithDetailsByAuthorLast","clustersWithDetails","authorClustersWithDetails","toConsumableArray","getFilteredPerspectives","normalizedPerspectives","sortByLikes","ConceptsPage","devo","prevFirst","prevSecond","prevThird","countDown","countUp","AutherNotClicked","onceAuthorClicked","showAuthors","prevScroll","sortedByKewords","allowDownScrollCallBack","keywordsdIndex","upKeywordsIndex","updateState","showTargetElement","disableBodyScroll","targetElement","hideTargetElement","enableBodyScroll","getConcept","concept_name","myRef","createRef","query","apiLoading","apiServerError","apiNetworkError","listRelatedLoading","listRelatedServerError","listRelatedNetworkError","listRelated","listRelatedRole","navbar","uniqueKeywords","authorId","all","sortByAuthor","filteredPerspectives","perspectiveLoading","prevOffset","keywordsClicked","viewport","upScrollLock","upScrolling","firstPaddingTop","thirdPaddingTop","upScrollFilterLock","leftDropdownOpen","rightDropdownOpen","filterConceptDefinations","bind","assertThisInitialized","onListClick","onListRelatedClick","onRelatedClick","toggleListRelated","scrollDownPerspectiveHandler","scrollUpPerspectiveHandler","handleScrollCallback","handleScrollCallbackJQUERY","loadPerspectivesByLikes","loadByAuthor","handleThirdCallBack","handleFirstCallback","handleSecondWheeel","handleFirstWheeel","handleWheeel","handleThirdWheeel","showAll","handleUpScroll","handleDown","handleUp","fixcolumn","scrollColumn","loadKeywordsDown","toggleSortLeft","toggleSortRight","category","concept_id","tags","$","css","position","bottom","top","addClass","left","removeClass","window","scrollTop","relationary_supra","relationary_thing_supra_id","match","params","queryString","location","search","queryFilters","author_group","history","nextProps","conceptWithDetails","conceptsWithDetails","orignalConceptsWithDetails","loading","initial","document","getElementById","scrollIntoView","behavior","x","ReactDOM","findDOMNode","refs","myscroll","thirdScroll","firstScroll","diff","deltaY","outerHeight","conceptIds","scrollHeight","windowHeight","innerHeight","UpConcepts","rightBarHeight","addEventListener","keyCode","index","findIndex","oldState","loves","keyword_id","rtn","keywords_id","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","return","beginners","last","calledapi","prevState","_this3","onWheel","overflow","margin","react_loading_default","ref","onScroll","borderRadius","lineHeight","listStyle","textDecoration","sortByKeywordId","concate","fontWeight","zIndex","reactstrap_es","isOpen","toggle","returnOnlyListData","right","ConceptsPage_Context_Context","minHeight","loadPerspectivesByAuthor","borderLeft","AdComponent","listData","withRouter","connect","pageNumber","isScrollByLike","bindActionCreators","Concepts","flushConceptClusterState","setClickedState","getSortedAuthors","getConceptClusterFromApi","idsArray","key","reverse","d","ConceptId","ConceptName","Concept","ConceptClustersPage","topIndex","start","sortedConcepts","sortedPerspectives","uniqueAuthors","cluster","querySelector","groupIds","group","getConceptCluster","Redirect","to","aut","components_ConceptClustersPage_Context","borderRight","Message","authorClusterSchema","flushAuthorClusterState","getAuthorCluster","via","rej","result1","sent","t0","_x2","getAuthorClusterHelper","AutherCluster","sortedConceptsNames","dynamicSortedAuthorCluster","sortedAuthorClusterDetail","authorGroup","url","pathname","split","getAuthorGroupByName","getAutherCluster","authorFirstName","long_description","authorBioHeading","book","authorSchema","flushAuthorState","perspectivesByKeywords","up","authorDetailsFromApi","getPictureLinks","getAuthorInfluencedByAuthors","author_authors_details","join","author_firstName","author_image","pictureLink","getAuthorDetails","likes","AuthorPage","clickedOnKeywords","getAuthor","dropdownOpen","author_authors","authorInfluencedByAuthors","authorInfluencedOnAuthors","AuthorInfluenceAuthors","authorConvoWithAuthors","AuthorConvoAuthors","showBooks","sortedAuthorInfluencedByAuthors","setInitialsortedAuthorInfluencedByAuthors","sortedAuthorInfluencedOnAuthors","setInitialsortedAuthorInfluencedOnAuthors","sortedAuthorConvoWithAuthors","setInitialsortedAuthorConvoWithAuthors","index1","index2","UniqueConcepts","uniqueconcepts","sortedperpectives","authorBio","authorBooksById","loadImage","sortByName","end","showAfterFilter","showAuthorImage","getSortedAuthorInfluencedByAuthors","forward","reverse1","forward1","reverse2","forward2","onConceptClick","onBioClick","sortByLike","loadPerspectivesByKeyWords","toggleSort","conc","author_authors_apiLoading","author_authors_apiServerError","author_authors_apiNetworkError","bio","distinct_grouping","distinct_grouping_id","rtnArray","getSortedAuthorInfluencedOnAuthors","getSortedAuthorConvoWithAuthors","totalLength","defineProperty","alignItems","caret","maxWidth","item","v","Link","marginRight","maxHeight","alt","textOverflow","whiteSpace","BookDescriptions","bookDescription","source","ends","setAuthorizationToken","token","defaults","common","setCurrentUser","userLoginRequest","userData","Access-Control-Allow-Origin","localStorage","setItem","jwt","decode","Login","errors","isLoading","onChange","onSubmit","_validateLogin","loginData","validator","isEmpty","isValid","validateLogin","preventDefault","_this$state","form","classnames","has-error","placeholder","disabled","userSignupRequest","Signup","firstname","lastname","_validateSignup","signupData","isEmail","validateSignup","fname","lname","body","server","TopNavBar","allow","val","Joi","string","required","toggleModalOpen","modalOpen","toggleModalSignupOpen","modalSignupOpen","validate","abortEarly","details","path","message","handleLoginChange","input","currentTarget","errorMessage","validateProperty","objectSpread","handleSubmit","isSignup","loginStatus_admin","onTagsChanged","searchCategory","suggestions","filter","onInputChanged","handleDelete","splice","handleAddition","toString","loadTags","cb","loadSuggestions","tagsObject","labels","handleChange","myInput","focus","handleTagChange","selectedTag","renderRedirect","seletedSearch","authorClusterSelectedOptions","authorClusters","dropdownData","labelsArray","loadOptionsData","loginRequestStatus_admin","userAccount","default","modal","term","defination","original","thanksModal","loadOptions","onSelectedCatagoryChange","handleTerm","handleDefination","handleOriginal","handleAuthor","handleCitation","handleSubmitNew","searchAllConceptionary","status","inputValue","shuffle","alert","_this4","_this5","_this6","_this7","_this8","_this9","_this10","searchConcepts","searchConceptClusters","searchAuthorGroups","searchAuthors","searchAuthorClusters","searchAuthorGroupsNav","selectOption","SIGNUP_SUCCESS","invalidLogin","pushState","_this11","paddingRight","light","expand","Async_default","onOpen","onFocus","styles","colourStyles","autoFocus","outline","selected","isDisabled","nav","inNavbar","divider","index_es","open","onClose","center","react_loader_spinner_default","for","data-dismiss","aria-label","dot",":before","content","control","option","_ref2","isFocused","isSelected","chroma","alpha","contrast","singleValue","_ref3","userExist_admin","loggedInUserAccount_admin","HomePage","isTopBarOpen","flexDirection","conceptionary_svg","colourStylesResponsive","_ref4","_ref5","FileUpload","selectedFile","msg","skip","wait","onChangeHandler","onClickHandler","event","files","FormData","append","multiple","role","listStyleType","PerspectiveDetail","Perspective","imgURL","img","og","meta","Fragment","property","About","PinterestIcon","Icon","insta","youtube","Contact","subject","handleName","handleEmail","handleSubject","handleBody","submitEmail","contact","action","htmlFor","rows","TermsOfUse","createBrowserHistory","App","isAuthenticated","auth","Router","components_TopNavBar_TopNavBar","Switch","Route","exact","component","AuthorCluster","Boolean","hostname","initialState","perspectivesDetail","keywordIds","conceptClustersWithDetails","conceptClusterConceptsDiscrete","conceptCluster","keywordsForPerspectiveId","authorClusterConceptsDiscrete","resort","combineReducers","oldPerspectives","keys","newPerspectives","oldoffset","searchSuggestions","Array","isArray","AuthorBioHeadings","prevAuthorPerspective","prevAuthor","prevConcept","unshift","author_authors_apiNetworkrError","authorBioData","neww","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","jwtToken","render","es","BrowserRouter","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a5f16a6b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/insta.f7f18e1e.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Spinner.de191b2f.svg\";","module.exports = __webpack_public_path__ + \"static/media/sort.2d3d6cfd.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/gif;base64,R0lGODlhEAALAPQAAP///01NVOXl5t7e4PDw8VJSWU1NVG5uc6iorJCQlc/P0WVla4GBhq6usZOTl9LS1GhoblBQV4SEie7u7uTk5ff3+HV1eufn6Pb29szMzr29wNra3PPz9E1NVE1NVE1NVCH5BAkLAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7\"","import React, { Component } from 'react';\r\nimport spiner from '../../../src/Spinner.svg';\r\nclass Loader extends Component{\r\n    render(){\r\n        return(\r\n            <img src={spiner}></img>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport AdSense from 'react-adsense';\r\nclass AdsComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <ins class=\"adsbygoogle\"\r\n            \r\n            style={{display:'block', textAlign:'center'}}\r\n            data-ad-format=\"fluid\"\r\n            data-ad-layout=\"in-article\"\r\n            data-ad-client=\"ca-pub-0123456789101112\"\r\n            data-ad-slot=\"9876543210\"></ins>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdsComponent;","import { schema } from 'normalizr';\r\nconst author = new schema.Entity('authors');\r\nconst keyword = new schema.Entity('keywords');\r\nconst perspective = new schema.Entity('perspectivesRelations', {\r\n    Author: author,\r\n    Keywords: [keyword]\r\n});\r\nexport const conceptSchema = new schema.Entity('concepts', {\r\n    Perspectives: [perspective],\r\n});\r\n","import { normalize } from 'normalizr';\r\nimport { conceptSchema } from '../schema/conceptSchema';\r\nimport getUniqueSortedAuthors from '../utils/getSortedAuthor';\r\nconst axios = require('axios');\r\nvar perspectivesByAuthor = {};\r\nvar sortedAuthors = [];\r\nfunction createPerspectivesByAuthor(perspectives = null) {\r\n    let authorPerspectives = Object.assign({}, perspectivesByAuthor);\r\n    if (perspectives) {\r\n        sortedAuthors.forEach(a => {\r\n            authorPerspectives[a.id] = [];\r\n        })\r\n        perspectives.forEach(p => {\r\n            if (!authorPerspectives[p.AuthorId]) {\r\n                authorPerspectives[p.AuthorId] = [p.id]\r\n            } else {\r\n                authorPerspectives[p.AuthorId].push(p.id)\r\n            }\r\n        })\r\n        console.log(\"returning array is \",authorPerspectives)\r\n        return authorPerspectives\r\n    }\r\n}\r\nfunction createNormalizePerspectives(perspectives = null) {\r\n    let data={};\r\n    if (perspectives) {\r\n        perspectives.forEach(p => {\r\n           data[p.id]=p;\r\n        })\r\n        console.log(\"returning normalized data is \",data);\r\n        return data;\r\n    }\r\n}\r\nfunction createPerspectivesByAuthorKeywords(arr ) {\r\n    console.log(\"got data\",arr)\r\n    let authorPerspectives = Object.assign({}, perspectivesByAuthor);\r\n\r\n    arr.map(perspectives => {\r\n        if (perspectives) {\r\n            sortedAuthors.forEach(a => {\r\n                authorPerspectives[a.id] = [];\r\n            })\r\n            perspectives.Perspectives.forEach(p => {\r\n                console.log(\"adding value of\",p)\r\n                if (!authorPerspectives[p.AuthorId]) {\r\n                    console.log(\"sum value of \",p.id)\r\n                    console.log(\"at\",authorPerspectives[p.AuthorId])\r\n                    authorPerspectives[p.AuthorId] = [p.id]\r\n                } else {\r\n                    console.log(\"sum value\",p.id)\r\n                    console.log(\"at\",p.AuthorId)\r\n\r\n                    authorPerspectives[p.AuthorId].push(p.id)\r\n                }\r\n            })\r\n        }\r\n\r\n    })\r\n    console.log(\"returning array is \",authorPerspectives)\r\n    return authorPerspectives\r\n\r\n\r\n}\r\nfunction createNormalizePerspectivesKeywords(arr) {\r\n    console.log(\"received data\",arr);\r\n    let data={};\r\n    let result=[];\r\n        \r\n    arr.map(perspectives => {\r\n        \r\n        if (perspectives.Perspectives) {\r\n            perspectives.Perspectives.forEach(p => {\r\n                console.log(\"making\",p);\r\n            //    data[p.id]=p;\r\n            result.push(p);\r\n            })\r\n        }\r\n    })\r\n    \r\n    console.log(\"returning normalized data is \",result);\r\n    return result;\r\n}\r\nexport function flushConceptState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_CONCEPT\",\r\n        })\r\n    }\r\n}\r\nexport function setConceptPageNo(pageNo) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: 'SET_PAGE_NO',\r\n            payload: pageNo\r\n        })\r\n    }\r\n}\r\nexport function getAllPerspectivesByConcept(conceptId, page_no) {\r\n    let conceptPage = {\r\n        conceptId,\r\n        page_no,\r\n    }\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/perspective`, { conceptPage })\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE',\r\n                        payload: data.data.perspectives\r\n                    })\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getConceptPerspectivesByKeywords(keywordId,scroll=false,upScroll=false) {\r\n    // console.log(\"got data\",)\r\n    console.log(\"zzz\",keywordId)\r\n    return dispatch => {\r\n \r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/keywords/perspective`,{id:keywordId})\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    \r\n                    console.log(\"got scroll\")\r\n                    console.log(\"got scroll\")\r\n                    console.log(\"got scroll\")\r\n                    console.log(\"got scroll\")\r\n                    console.log(\"got scroll\")\r\n                    console.log(\"got scroll\")\r\n                    console.log(\"got scroll\",data.data)\r\n                    if(scroll)\r\n                    {\r\n                       if(data.data.data!==null)\r\n                       {\r\n                        data.data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthorKeywords(data.data.data)\r\n                        data.data.data[\"normalizedPerspectives\"]=createNormalizePerspectivesKeywords(data.data.data);\r\n                        if(upScroll)\r\n                        {\r\n                            dispatch({\r\n                                type: 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS_SCROLL_UP',\r\n                                payload: data.data.data\r\n                            })\r\n                        }\r\n                        else\r\n                        {\r\n                            dispatch({\r\n                                type: 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS_SCROLL',\r\n                                payload: data.data.data\r\n                            })\r\n                        }\r\n                       }\r\n                    }\r\n                    else\r\n                    {\r\n                        \r\n                        data.data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthorKeywords(data.data.data)\r\n                        data.data.data[\"normalizedPerspectives\"]=createNormalizePerspectivesKeywords(data.data.data);\r\n                    \r\n                        dispatch({\r\n                            type: 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS',\r\n                            payload: data.data.data\r\n                        })\r\n                    }\r\n                    }\r\n\r\n            })\r\n    }\r\n}\r\nexport function getPerspectivesByAuthors(authorIds, conceptId, merge = false) {\r\n    let perspective = {};\r\n    perspective[\"authorIds\"] = authorIds;\r\n    perspective[\"conceptId\"] = conceptId;\r\n    return dispatch => {\r\n        console.log('got authos are',perspective);\r\n        console.log('parameters are ',conceptId);\r\n        console.log('merge is',merge)\r\n      axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/authors`, { perspective })\r\n            .then(async data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    console.log('got data from api')\r\n                    if (merge) {\r\n                            data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives);\r\n                          await  dispatch({\r\n                                type: 'SET_DETAILED_PERSPECTIVE_BY_SCROLL',\r\n                                payload: data.data\r\n                            })\r\n                    } else {\r\n                        data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthor(data.data.perspectives)\r\n                        data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives);\r\n                        dispatch({\r\n                            type: 'SET_DETAILED_PERSPECTIVE_BY_AUTHOR',\r\n                            payload: data.data\r\n                        })\r\n                    }\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n}\r\nexport function getConceptPerspectivesByLikes(concept,offset,merge,isScroll=true)\r\n{   \r\n    if(merge)\r\n    {\r\n        let perspective={};\r\n        perspective['conceptid']=concept.id\r\n        perspective['offset']=offset\r\n        return dispatch => {\r\n            axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/likes`,{perspective}).then(data => {\r\n                data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives)                \r\n               console.log(\"sending data\",data.data);\r\n               let finish=false;\r\n               if(data.data.perspectives.length<100)\r\n               {\r\n                   finish=true\r\n               } \r\n\r\n\r\n               dispatch({\r\n                    type:'SET_NORMALIZED_PERSPECTIVES_BY_SCROLL',\r\n                    payload:{data:data.data['perspectives'],finish:finish}\r\n                })\r\n            });\r\n        }\r\n    }\r\n    else\r\n    {\r\n        let perspective={};\r\n        perspective['conceptid']=concept.id\r\n        perspective['offset']=offset\r\n        return dispatch => {\r\n            axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/likes`,{perspective}).then(data => {\r\n                data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives)\r\n                console.log(\"sending data\",data.data);\r\n                let finish=false;\r\n                if(data.data.perspectives.length<100)\r\n                {\r\n                    finish=true\r\n                } \r\n \r\n                dispatch({\r\n                    type:'SET_NORMALIZED_PERSPECTIVES',\r\n                    payload:{data:data.data['perspectives'],isScrollLike:isScroll,finish:finish}\r\n                })\r\n            });\r\n        }\r\n    } \r\n}\r\nexport function getConceptPerspectivesByAuthorLastName(author_lastName) {\r\n    return dispatch => {\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/perspective/${author_lastName}`)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE',\r\n                        payload: data.data.perspectives\r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                // dispatch({\r\n                //     type: 'SET_PERSPECTIVE_LIKE',\r\n                //     payload: res.data.perspective\r\n                // })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                // dispatch({\r\n                //     type: 'SET_PERSPECTIVE_LIKE',\r\n                //     payload: res.data.perspective\r\n                // })\r\n            })\r\n    }\r\n}\r\nexport function LoadByLikes()\r\n{\r\n    return dispatch => {\r\n        dispatch ({\r\n            type: \"LOAD_BY_LIKES\"\r\n        })\r\n    }\r\n}\r\nexport function sortByAuthorLast(sortBy) {\r\n    return dispatch => {\r\n        dispatch ({\r\n            type: \"sortByAuthorLast\",\r\n            payload: sortBy\r\n        })\r\n    }\r\n}\r\nexport function showAllPerspective(value) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SHOW_ALL_PERSPECTIVE\",\r\n            payload: value\r\n        })\r\n    }\r\n}\r\nexport function sortByKeyword(keyword) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"sortByKeyword\",\r\n            payload: keyword\r\n        })\r\n    }\r\n}\r\nexport function getConceptFromApi(concept) {\r\n   \r\n    let obj = {}\r\n    obj.Conceptobj = concept\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        console.log(\"sending id \",obj);\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/filter?relationships=true`, obj).then(data => {\r\n            const { responseType } = data.data;\r\n            console.log(\"got data \",data.data);\r\n            if (responseType == 'success') {\r\n               \r\n                const conceptDetailsFromApi = data.data.Perspectives.perspectivesRelations;\r\n                let sortedAuthorIds = [];\r\n                const normalizedData = normalize(conceptDetailsFromApi, conceptSchema);\r\n                \r\n                console.log(\"sending\",normalizedData.entities,normalizedData.result);\r\n\r\n                sortedAuthors = getUniqueSortedAuthors(normalizedData.entities, normalizedData.result)\r\n                console.log(\"checking\",sortedAuthors)\r\n                if(sortedAuthors)\r\n                {\r\n                    \r\n                sortedAuthors.forEach(author => {\r\n                    sortedAuthorIds.push(author.id);\r\n                    perspectivesByAuthor[author.id] = [];\r\n                });\r\n                normalizedData.entities[\"perspectivesByAuthor\"] = perspectivesByAuthor;\r\n                normalizedData.entities.sortedAuthorIds = sortedAuthorIds;\r\n                normalizedData.entities.sortedAuthors = sortedAuthors;\r\n                dispatch({\r\n                    type: \"REQUEST_SUCCESSFUL_CONCEPT\",\r\n                    payload: conceptDetailsFromApi\r\n                });\r\n                dispatch({\r\n                    type: 'setPerspectiveIds',\r\n                    payload: normalizedData.entities.concepts[normalizedData.result].Perspectives\r\n                });\r\n                dispatch({\r\n                    type: \"SET_CONCEPT_DETAILS\",\r\n                    payload: normalizedData.entities\r\n                });\r\n                }\r\n                else\r\n                {\r\n                    \r\n                dispatch({\r\n                    type: \"SET_MESSAGE\",\r\n                    \r\n                });\r\n                }\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log(\"error is\", error);\r\n            dispatch({\r\n                type: \"NETWORK_ERROR1\"\r\n            })\r\n            console.log('Error While fetching concept details from api', error);\r\n        })\r\n    }\r\n}\r\nexport function getListRelatedByConceptId(concept) {\r\n    let obj = {}\r\n    obj.Conceptobj = concept\r\n\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"LIST_RELATED_LOADING\"\r\n        })\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/filter?relationships=true&withListAndRelatedOnly=true&fbclid=IwAR07GYuFbZ9CIrkYUy-0gMPOQrk-aSlLSKP-w0TP1FV5noOp1T-qLJE5xOk`, obj)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == 'success') {\r\n                    let listRelatedData = data.data.data;\r\n                    listRelatedData = listRelatedData.ConceptClusters;\r\n                    dispatch({\r\n                        type: \"GET_LIST_RELATED\",\r\n                        payload: listRelatedData\r\n                    })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"LIST_RELATED_SERVER_ERROR\"\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: 'LIST_RELATED_NETWORK_ERROR'\r\n                })\r\n                console.log('Error While getting list related data', error);\r\n            })\r\n    }\r\n\r\n}\r\n","\r\nexport default function getUniqueSortedAuthors(entities, ids) {\r\n    console.log(\"Got author ids\",ids)\r\n    console.log(\"entities are \",entities)\r\n    let perspectiveids = entities.concepts[ids].Perspectives;\r\n    let perspectivesRelations = entities.perspectivesRelations;\r\n    let authors = entities.authors;\r\n    if (perspectiveids && perspectiveids.length > 0 && authors && perspectivesRelations) {\r\n        let uniqueAuthorWithDetails = [];\r\n        let uniqueAuthorNames = [];\r\n        perspectiveids.forEach(id => {\r\n            if(perspectivesRelations[id].Author)\r\n            {\r\n                if (!(uniqueAuthorNames.indexOf((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName)) > -1)) {\r\n                    uniqueAuthorNames.push((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName));\r\n                    uniqueAuthorWithDetails.push(authors[perspectivesRelations[id].Author]);\r\n                }\r\n            }\r\n        })\r\n        return uniqueAuthorWithDetails.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        });\r\n    }\r\n}","const axios = require('axios');\r\nlet request = require(\"request\");\r\nfunction shuffle(a) {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\nexport function flushState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_NAV_BAR\",\r\n        })\r\n    }\r\n}\r\nexport function setAutherClusterSelectedItems(selectedItems) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_AUTHOR_CLUSTER_SELECTED_OPTIONS\",\r\n            payload: selectedItems,\r\n        })\r\n    }\r\n}\r\nexport function setSelectedItem(selectedItem) {\r\n    // console.log(\"set selected item called---------------->\");\r\n// alert('hello');\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_SELECTED_OPTION\",\r\n            payload: selectedItem,\r\n        })\r\n    }\r\n}\r\nexport function setSelectedCategory(selectedCategory) {\r\n    // console.log(\"set selected category called\");\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_SEARCH_CATEGORY\",\r\n            payload: selectedCategory,\r\n        })\r\n    }\r\n}\r\nexport function addTag(tag) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"ADD_TAG\",\r\n            payload: tag\r\n        });\r\n    }\r\n}\r\nexport function removeTag(id) {\r\n    return dispatch => {\r\n    console.log(\"not calling\",id)\r\n        dispatch({\r\n            type: \"REMOVE_TAG\",\r\n            payload: id\r\n        });\r\n    }\r\n}\r\nexport function getAllAsync(name, data, callback) {\r\n    if (name) {\r\n        if (data.length > 0) {\r\n            let results = [];\r\n            for (let i = 0; i < data.length; i++) {\r\n                if (data[i].label.toLowerCase().startsWith(name.toLowerCase())) {\r\n                    if (results.length < 9) {\r\n                        results.push(data[i]);\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            callback(null, shuffle(results));\r\n        }\r\n        else {\r\n            callback(null, []);\r\n        }\r\n    }\r\n}\r\n\r\nexport function getAllData(inputValue) {\r\n    return \"a\";\r\n}\r\n\r\nexport function prefetchConceptsForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/concepts?fields=id+name', {\r\n            headers: {\r\n                \"X-Requested-With\": \"XMLHttpRequest\"\r\n            }\r\n        }).then(data => {\r\n            const { responseType } = data.data;\r\n            console.log(data)\r\n            if (responseType == 'success') {\r\n                const conceptsForNavBar = data.data.data;\r\n                if (conceptsForNavBar.length > 0) {\r\n                    conceptsForNavBar.map(concept => {\r\n                        return result.push({ label: concept.name, value: concept.name, id: concept.id, category: \"Concept\", color: \"#000000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n        //     request(options, function L(error, response, body) {\r\n        //         // console.log(\"Options\")\r\n        //         let data = JSON.parse(body);\r\n\r\n        //         if (error === null && body.error == undefined) {\r\n        //             if (data.length > 0) {\r\n        //                 let j = 0;\r\n        //                 data.map(part => {\r\n        //                     returndata[j] = { label: part.discrete_concept_name, value: part.discrete_concept_name, id: part.discrete_concept_name_id, image: part.discrete_concept_name_image, category: \"Concept\", color: \"#000000\" };\r\n        //                     j++;\r\n        //                 })\r\n        //                 dispatch({\r\n        //                     type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                     payload: returndata\r\n        //                 })\r\n        //             }\r\n        //             else {\r\n        //                 dispatch({\r\n        //                     type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                     payload: [],\r\n        //                 })\r\n        //             }\r\n        //         }\r\n        //         else {\r\n        //             dispatch({\r\n        //                 type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                 payload: [],\r\n        //             })\r\n        //         }\r\n        //     });\r\n        // }\r\n    }\r\n}\r\nexport function prefetchConceptClustersForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/conceptClusters?fields=id+name+pictureLink').then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                const conceptClustersForNavBar = data.data.data;\r\n                if (conceptClustersForNavBar.length > 0) {\r\n                    conceptClustersForNavBar.map(conceptCluster => {\r\n                        result.push({ label: conceptCluster.name, value: conceptCluster.name, id: conceptCluster.id, category: \"Concept Cluster\", color: \"#FF0000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function prefetchAuthorsForNavbar() {\r\n    let returndata = [];\r\n    let query = `SELECT first_name, last_name, id, dob, dod, picture_link FROM author `;\r\n    var options = {\r\n        method: 'GET',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/authors/',\r\n        form: { query: query }\r\n    };\r\n    return dispatch => {\r\n        request(options, function L(error, response, body) {\r\n            // console.log(\"Options\")\r\n            let data = JSON.parse(body);\r\n            if (error === null && body.error == undefined) {\r\n                if (data.data.length > 0) {\r\n                    let j = 0;\r\n                    data.data.map(part => {\r\n                        let label = part.firstName + \" \" + part.lastName;\r\n                        let value = label;\r\n                        let id = part.id;\r\n                        let born = part.dob;\r\n                        let died = part.dod;\r\n                        let img = part.picturelink;\r\n                        returndata[j] = { label, value, id, born, died, img, page: \"Authors\", category: \"Author\", color: \"#A52A2A\" };\r\n                        j++;\r\n                    })\r\n                    dispatch({\r\n                        type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                        payload: returndata\r\n                    })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                        payload: [],\r\n                    })\r\n                }\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport function prefetchAuthorClustersForNavbar() {\r\n    let returndata = [];\r\n    let query = `SELECT * FROM Conceptionary.author_relationary_distinct_groupings`;\r\n    var options = {\r\n        method: 'POST',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/authors',\r\n        headers:\r\n        {\r\n            'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n            'cache-control': 'no-cache',\r\n            'content-type': 'application/x-www-form-urlencoded'\r\n        },\r\n        form: { query: query }\r\n    };\r\n    // console.log(\"Hi\")\r\n    return dispatch => {\r\n        request(options, function L(error, response, body) {\r\n            // console.log(\"Options\")\r\n            let data = JSON.parse(body);\r\n\r\n            if (error === null && body.error == undefined) {\r\n                let query1 = `SELECT * FROM Conceptionary.author_relationary_supra where author_relationary_supra.categories is null;`;\r\n                // console.log(\"Query in getAutherClusterAsynch\", query);\r\n                var options1 = {\r\n                    method: 'POST',\r\n                    url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n                    headers:\r\n                    {\r\n                        'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n                        'cache-control': 'no-cache',\r\n                        'content-type': 'application/x-www-form-urlencoded'\r\n                    },\r\n                    form: { query: query1 }\r\n                };\r\n                request(options1, function L(error1, response1, body1) {\r\n                    let data1 = JSON.parse(body1);\r\n                    if (error1 === null && body1.error == undefined) {\r\n                        if (data.length > 0) {\r\n                            // console.log(\"data\", data);\r\n                            let j = 0;\r\n\r\n                            data.map(part => {\r\n                                let label = part.distinct_grouping;\r\n                                let value = label;\r\n                                let id = part.distinct_grouping_id;\r\n                                let search_display = part.search_display;\r\n                                let photograph = part.photograph;\r\n                                returndata[j] = { label, value, id, search_display, photograph, category: \"Author Cluster\", color: \"#800080\" };\r\n                                j++;\r\n                            })\r\n                        }\r\n                        if (data1.length > 0) {\r\n                            // console.log(\"Data1 \", data1)\r\n                            data1.map(part => {\r\n                                // console.log(\"@\");\r\n                                let label = part.author_supra;\r\n                                let value = label;\r\n                                let id = part.author_supra_id;\r\n                                let search_display = part.search_display;\r\n                                let categories = part.categories;\r\n                                let author_relationary_image = part.author_relationary_image;\r\n                                let via = \"supra\"\r\n                                returndata.push({ label, value, id, search_display, categories, author_relationary_image, via, category: \"Author Cluster\", color: \"#800080\" });\r\n                            })\r\n                            // console.log(\"Return data\", returndata)\r\n                            if (returndata.length > 0) {\r\n                                dispatch({\r\n                                    type: \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                                    payload: returndata\r\n                                })\r\n                            }\r\n                            else {\r\n                                dispatch({\r\n                                    type: \"AUTHORS_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                                    payload: [],\r\n                                })\r\n                            }\r\n                        }\r\n                        // console.log(\"return data authorCluster\", returndata);\r\n                    }\r\n                });\r\n\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\nexport function getConcepts() {\r\n    let query = \"Select discrete_concept_name,discrete_concept_name_id from Conceptionary.concept_discrete;\"\r\n\r\n    var options = {\r\n        method: 'POST',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/concepts',\r\n        headers:\r\n        {\r\n            'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n            'cache-control': 'no-cache',\r\n            'content-type': 'application/x-www-form-urlencoded'\r\n        },\r\n        form: { query: query }\r\n    };\r\n    return dispatch => {\r\n        request(options, function (error, response, body) {\r\n            // console.log(\"Error is :\", error);\r\n            let data = JSON.parse(body);\r\n            // console.log(\"Gulzain Re/sponse\", response);\r\n            // console.log(\"BODY_________\", data);\r\n            let returndata = [];\r\n            if (error === null && body.error == undefined) {\r\n                if (data.length > 0) {\r\n                    let j = 0;\r\n                    data.map(part => {\r\n                        returndata[j] = { label: part.discrete_concept_name, value: part.discrete_concept_name, id: part.discrete_concept_name_id };\r\n                        j++;\r\n                    })\r\n                    dispatch({\r\n                        type: \"GET_CONCEPTS_NAMES_NAVBAR\",\r\n                        payload: returndata,\r\n\r\n                    })\r\n                }\r\n            }\r\n\r\n            // if (returndata.length > 0) {\r\n            //     console.log(\"return Data\", returndata);\r\n            //     dispatch({\r\n            //         type: \"GET_RELATIONARY_SUPRA_ITEMS_NAVBAR\",\r\n            //         payload: returndata,\r\n\r\n            //     })\r\n            // }\r\n\r\n            // for (var i = 0; i < parts.length; i += 1) {\r\n            //     relationArray.push(\"\\\"\" + parts[i].relationary_supra.replaceAll(\"\\'\", \"\\\\\\'\") + \"\\\"\");\r\n            // }\r\n            // var myhtml = fs.readFileSync('splash.html');\r\n            // //console.log(termsArray);\r\n            // res.send(myhtml + \"<script>autocomplete(document.getElementById(\\\"myInput\\\"),[\" + termsArray + \"],[\" + termsArray + \"]);</script>\" + \"<script>autocomplete(document.getElementById(\\\"myAuthorInput\\\"),[\" + authorArray + \"],[\" + authorArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"groupInput\\\"),[\" + groupArray + \"],[\" + valArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"myListInput\\\"),[\" + listArray + \"],[\" + listArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"myRelationInput\\\"),[\" + relationArray + \"],[\" + relationArray + \"]);</script>\");\r\n\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function prefetchAuthorGroupsForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/authorGroups/all').then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const authroGroupsNavbar = data.data.data;\r\n                console.log(data.data.data)\r\n                if (authroGroupsNavbar.length > 0) {\r\n                    authroGroupsNavbar.map(conceptCluster => {\r\n                        result.push({ label: conceptCluster.name, value: conceptCluster.name, id: conceptCluster.id, category: \"Concept Cluster\", color: \"#FF0000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport function getAuthorGroups(name, data, callback) {\r\n\r\n    console.log(data)\r\n\r\n    if (name) {\r\n\r\n        if (data.length > 0) {\r\n            let results = [];\r\n            for (let i = 0; i < data.length; i++) {\r\n                if (data[i].label.toLowerCase().startsWith(name.toLowerCase())) {\r\n                    if (results.length < 9) {\r\n                        results.push(data[i]);\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            callback(null, results);\r\n        }\r\n        else {\r\n            callback(null, []);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function login(account) {\r\n    return (dispatch) => {\r\n        let obj = {};\r\n\r\n        obj.username = account.Email;\r\n        obj.password = account.Password\r\n\r\n        dispatch(loginRequest());\r\n\r\n        //let accountJSON = JSON.stringify(obj);\r\n        \r\n        return axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/login`, obj, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'accept': 'application/json'\r\n            }\r\n        }).then((response) => {\r\n            let res = JSON.parse(JSON.stringify(response));\r\n            console.log(res)\r\n            console.log(res.data.success)\r\n            if (res.data.success) {\r\n                dispatch(loginSuccess(res.data.user));\r\n\r\n            } else {\r\n                dispatch(loginFailed());\r\n            }\r\n        }).catch(e => {\r\n            dispatch(loginFailed());\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function loginRequest() {\r\n    return {\r\n        type: 'LOGIN_REQUEST'\r\n    }\r\n}\r\n\r\nexport function loginSuccess(userInfo) {\r\n    return {\r\n        type: \"LOGIN_SUCCESS\",\r\n        userInfo: userInfo\r\n    }\r\n}\r\n\r\nexport function loginFailed() {\r\n    return {\r\n        type: \"LOGIN_FAILURE\"\r\n    }\r\n}\r\n\r\n//Logout \r\n\r\n\r\nexport function logout() {\r\n    return {\r\n        type: \"LOGOUT\"\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function signup(account) {\r\n    return (dispatch) => {\r\n        let obj = {};\r\n\r\n        obj.username = account.Username;\r\n        obj.email = account.Email;\r\n        obj.password = account.Password\r\n\r\n        let temp = {};\r\n        temp[\"User\"] = obj;\r\n\r\n\r\n\r\n        dispatch(signupRequest());\r\n        //console.log(accountJSON);\r\n        //let accountJSON = temp;\r\n\r\n        return axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/users`, temp, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'accept': 'application/json'\r\n            }\r\n        }).then((response) => {\r\n            let res = JSON.parse(JSON.stringify(response));\r\n            console.log(res)\r\n            // console.log(res.data.responseType==='success')\r\n            if (res.data.responseType === 'success') {\r\n                dispatch(signupSuccess(res.data.data));\r\n            } else {\r\n                dispatch(signupFailed());\r\n            }\r\n        }).catch(e => {\r\n            dispatch(signupFailed());\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function signupRequest() {\r\n    return {\r\n        type: 'SIGNUP_REQUEST'\r\n    }\r\n}\r\n\r\n\r\nexport function signupSuccess(userInfo) {\r\n    return {\r\n        type: \"SIGNUP_SUCCESS\",\r\n        userInfo: userInfo\r\n    }\r\n}\r\n\r\nexport function signupFailed() {\r\n    return {\r\n        type: \"SIGNUP_FAILURE\"\r\n    }\r\n}\r\n","import Axios from \"axios\";\r\nexport function getAuthorGroups(filters){\r\n    let filterobj = {};\r\n    filterobj.filters = filters;\r\n    return new Promise((resolve, reject) => {\r\n        Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups`, filterobj)\r\n            .then(data => {\r\n                resolve(data.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    });\r\n}","import React, { Component } from 'react';\r\n//import { ShareButton } from \"react-custom-share\";\r\nimport { FacebookProvider, Share } from 'react-facebook';\r\nimport ShareLink from 'react-twitter-share-link'\r\n\r\nimport {\r\n    FacebookIcon,TwitterIcon\r\n} from 'react-share';\r\nimport { Helmet } from \"react-helmet\";\r\nimport TwitterSharedButton from './TwitterSharedButton';\r\nclass ShareButtons extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n          show:false\r\n        }\r\n    }\r\n    render() {\r\n      \r\n        const { data,title,author } = this.props;\r\n        const link = `http://conceptionary.io/perspective/${data.id}`;\r\n        const tweetLink=\" \";\r\n        let text=\" \";\r\n        if(data.pronoun!==null && data.pronoun!==undefined)\r\n        {\r\n          text=data.pronoun.charAt(0).toUpperCase() + data.pronoun.slice(1)+\" \"+title.charAt(0).toUpperCase() + title.slice(1)+\" is \"+data.description+\"\\n- \"+author+ \"   conceptionary.io\";\r\n        }\r\n        else\r\n        text=title.charAt(0).toUpperCase() + title.slice(1)+\" is \"+data.description+\"\\n- \"+author+ \"   conceptionary.io\";\r\n        return (\r\n          <div >\r\n            <FacebookProvider appId=\"930857800581355\">\r\n              <Share href={link}>\r\n                {({ handleClick}) => (\r\n                \r\n              <button type=\"button\" onMouseDown={()=>{this.setState({show:true})}} onClick={handleClick} style={{backgroundColor: 'transparent',border: 'none'}}> <FacebookIcon size={32} round={true} /></button>\r\n                )}\r\n              </Share>\r\n            </FacebookProvider>\r\n            <ShareLink link={tweetLink} text={text}>\r\n              {link => (\r\n                <a href={link} style={{display:\"inline-block\"}} target='_blank'> <TwitterIcon size={32} round={true} /></a>\r\n              )}\r\n          </ShareLink>\r\n\r\n         {this.state.show && <Helmet>\r\n            {/* <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${data.id}`} />\r\n            <meta property=\"og:type\" content=\"website\" />\r\n            <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n            <meta property=\"og:title\" content={title} />\r\n            <meta property=\"og:description\" content={data.description} />\r\n            <meta property=\"og:image\" content={`http://conceptionary.io/images/${data.id}.png`} />\r\n        \r\n          \r\n\r\n            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n            <meta name=\"Twitter:site\" content=\"Conceptionary\" />\r\n            <meta name=\"twitter:creator\" content=\"Conceptionary.com\" />\r\n            <meta name=\"twitter:title\" content={title} />\r\n            <meta name=\"twitter:description\" content={data.description} />\r\n            <meta name=\"twitter:image\" content={`http://conceptionary.io/images/${data.id}.png`} /> */}\r\n\r\n          {/* <meta name=\"description\" content={data.description}/>\r\n          <meta property=\"og:site_name\" content=\"Conceptionary\" />\r\n          <meta property=\"og:title\" content={title} />\r\n          <meta property=\"og:type\" content=\"article\" />\r\n          <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${data.id}`} />\r\n          <meta property=\"og:description\" content={data.description} />\r\n          <meta property=\"twitter:card\" content=\"summary\" />\r\n          <meta property=\"twitter:title\" content={data.title} />\r\n          <meta property=\"twitter:description\" content={data.description} />\r\n          <meta property=\"twitter:domain\" content=\"http://conceptionary.io\" />\r\n          <meta property=\"og:image\" content={`http://conceptionary.io/images/${data.id}.png`} />\r\n          <meta property=\"og:image:type\" content=\"image/jpeg\" />\r\n          <meta property=\"og:image:width\" content=\"200\" />\r\n          <meta property=\"og:image:height\" content=\"200\" />\r\n          <meta property=\"twitter:image:src\" content={`http://conceptionary.io/images/${data.id}.png`} /> */}\r\n\r\n\r\n        </Helmet>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n          </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default ShareButtons;\r\n","import React, { Component } from 'react';\r\n//import { ShareButton } from \"react-custom-share\";\r\nimport ShareLink from 'react-twitter-share-link'\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nimport './TwitterShareButton.css'\r\nimport {\r\n    TwitterShareButton,TwitterIcon\r\n} from 'react-share';\r\nclass TwitterSharedButton extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n   \r\n    render() {\r\n        const { id } = this.props;\r\n        const links = `http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${id}`\r\n        return (\r\n        //     <ShareLink link={links}>\r\n        //         {link => (\r\n        //         <a href={link} target='_blank'>Share this on Twitter</a>\r\n        //         )}\r\n        //  </ShareLink>\r\n            <div>\r\n            <Helmet>\r\n                <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                <meta name=\"twitter:site\" content=\"@nytimes\" />\r\n                <meta name=\"twitter:creator\" content=\"@SarahMaslinNir\" />\r\n                <meta name=\"twitter:title\" content=\"Parade of Fans for Houston’s Funeral\" />\r\n                <meta name=\"twitter:description\" content=\"NEWARK - The guest list and parade of limousines with celebrities emerging from them seemed more suited to a red carpet event in Hollywood or New York than than a gritty stretch of Sussex Avenue near the former site of the James M. Baxter Terrace public housing project here.\" />\r\n                <meta name=\"twitter:image\" content=\"http://graphics8.nytimes.com/images/2012/02/19/us/19whitney-span/19whitney-span-articleLarge.jpg\" />\r\n            </Helmet>\r\n        <TwitterShareButton\r\n            url={links}\r\n            title=\"Hello World. \\n My name is Jennifer. \\n What is your name?\"\r\n            className=\"Demo__some-network__share-button\">\r\n            <TwitterIcon\r\n            size={32}\r\n            round />\r\n      </TwitterShareButton>\r\n      </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default TwitterSharedButton;\r\n","import React, { Component } from 'react';\r\nimport ShareButtons from '../../SocialShareButtons/ShareButtons';\r\nimport './Context.css'\r\nclass Context extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visibility: 'none',\r\n            showShare:false\r\n        }\r\n    }\r\n    render() {\r\n        const { data, authors, keywords } = this.props;\r\n        // console.log(\"errors\",this.props);\r\n        // console.log(\"checking author\",authors[data.Author])\r\n        if(authors[data.Author]===undefined)\r\n        {\r\n            // console.log(\"it is not undefined\")\r\n        }\r\n        // else\r\n        // console.log(\"it is undefined\")\r\n        let keywordId=''\r\n        if(data.Keywords && data.Keywords.length > 0)\r\n        keywordId=keywords[data.Keywords[0]].name\r\n        return (\r\n            <div id={keywordId} style={{ marginTop: \"10px\",marginBottom:'40px'}}  onMouseLeave={() => {this.setState({showShare:false})}}>\r\n            <div style={{border:\"1px solid #ececec\",width:\"100%\",borderBottom:'none',height:'40px',paddingLeft:15,paddingTop:9,paddingBottom:'44px'}}><img style={{width:30,height:30}} src=\"https://conceptionary-images.s3.amazonaws.com/freud+sigmund.jpg\" className=\"rounded-circle\"/> \r\n                <b  onClick={() => this.props.onAuthorClick({ author_first: authors[data.Author].firstName, author_last: authors[data.Author].lastName, born: authors[data.Author].dob, died: authors[data.Author].dod, auth_id: data.Author })} style={{ color: \"#7b7676\", cursor: \"pointer\",fontSize:'20px' }}> {authors[data.Author].firstName}{\" \"}{authors[data.Author].lastName}</b></div>\r\n                \r\n            <div id={authors[data.Author].lastName} className=\"clearfix\" style={{ backgroundColor: \"white\", padding: \"25px\", border: \"1px solid #ececec\", textAlign: 'justify' }} >\r\n                <b style={{ fontSize: '18px', textTransform: 'capitalize' }}>{data.pronoun}{\" \"} {this.props.selectedOption.label}</b>{\" is \"}{data.description}\r\n                {/* <div onClick={() => this.props.onAuthorClick({ author_first: authors[data.Author].firstName, author_last: authors[data.Author].lastName, born: authors[data.Author].dob, died: authors[data.Author].dod, auth_id: data.Author })} style={{ color: \"red\", cursor: \"pointer\" }}><b>{authors[data.Author].firstName}{\" \"}{authors[data.Author].lastName}</b></div> */}\r\n                <div>   \r\n                   {\r\n                        data.Keywords && data.Keywords.length > 0 && data.Keywords.map(k => {\r\n                            return <span id={keywords[k].name} style={{ color: \"grey\",fontSize:13 }}>{data.Keywords.length > 1 && (keywords[k].name + \" | \")}{data.Keywords.length < 2 && (keywords[k].name + \" \")}</span>\r\n                        })\r\n                    }\r\n                </div>\r\n                <div onMouseLeave={() => {this.setState({showShare:false})}} >\r\n                <div className=\"\"  style={{display:'flex',alignContent:'center',justifyContent:'center',marginTop:'30px'}} >\r\n                    {/* <div className=\"col-md-5 col-sm-5 col-xs-5 pt-3\">\r\n                        <ShareButtons data={data} title={this.props.selectedOption.label} author={authors[data.Author].firstName+\" \"+authors[data.Author].lastName}></ShareButtons>\r\n                    </div>\r\n                    <div className=\"col-md  -7 col-sm-7 col-xs-7 text-right  \">*/}\r\n                        <i id=\"shareButton\"  className=\"fa fa-send \" aria-hidden=\"true\" onClick={() => {this.setState({showShare:!this.state.showShare})}} onMouseOver={() => {this.setState({showShare:true})}}></i> \r\n                        {/* <div class=\"social-links\">\r\n                        <a href=\"#\"><i class=\"fa fa-send fa-lg\"></i></a>\r\n                        <a href=\"#\"><i class=\"fa fa-twitter fa-lg\"></i></a>\r\n                        <a href=\"#\"><i class=\"fa fa-google-plus fa-lg\"></i></a>\r\n                        <a href=\"#\"><i class=\"fa fa-pinterest fa-lg\"></i></a>\r\n                        </div> */}\r\n                        <span className=\"contextbutton\" onClick={() => {\r\n                            this.setState({\r\n                                visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                // id: data.id,\r\n                            })\r\n                        }} style={{ cursor: \"pointer\",marginTop:'15px' }}><span className=\"fa fa-ellipsis-h\" id='ellipseCircle' style={{ fontSize: '8px', color: 'black' }}></span></span>\r\n                         \r\n                        <i style={{ color: data.isLike ? \"red\" : \"grey\", fontSize: '20px',cursor:'pointer' }} className=\"fa fa-heart-o \" aria-hidden=\"true\" onClick={() => this.props.onLikeClick(data.id)}></i> \r\n                        \r\n                    {/* </div> \r\n                    <div class=\"col-md-12 col-sm-12 col-xs-7\">*/}\r\n\r\n                    {/* </div> */} \r\n\r\n                </div>\r\n                {this.state.showShare && <div  onMouseLeave={() => {this.setState({showShare:!this.state.showShare})}}  onMouseOver={() => {this.setState({showShare:true})}} style={{background:'#fff',width:\"18%\",marginLeft:'40%',height:35,display:'flex',alignContent:'center',justifyContent:'center',border:\"1px solid #bdbaba\",boxShadow:'3px 3px #bdb2b2'}}>\r\n                    <ShareButtons data={data} title={this.props.selectedOption.label} author={authors[data.Author].firstName+\" \"+authors[data.Author].lastName}></ShareButtons>\r\n                    \r\n                </div>}\r\n                </div> \r\n                <div id={data.id} style={{ marginTop: \"20px\", display: [this.state.visibility], backgroundColor: 'center' }} >{this.props.data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{this.props.data.citation}</div></div>\r\n\r\n                {/* <div className=\"text-right\" >\r\n                    <i style={{ color: data.isLike ? \"red\" : \"grey\",fontSize:'20px' }} className=\"fa fa-thumbs-o-up \" aria-hidden=\"true\" onClick={() => this.props.onLikeClick(data.id)}></i>&nbsp;[{data.loves ? this.props.data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton\" onClick={() => {\r\n                        this.setState({\r\n                            visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                            // id: data.id,\r\n                        })\r\n                    }} style={{ cursor: \"pointer\" }}><i className=\"fa fa-ellipsis-h\" style={{fontSize:'20px'}}></i></span>\r\n                <div id={data.id} style={{ marginTop: \"20px\", display: [this.state.visibility] }} >{this.props.data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{this.props.data.citation}</div></div>\r\n                \r\n                </div>\r\n                \r\n                <div>\r\n                    <ShareButtons id={data.id}></ShareButtons>\r\n                </div> */}\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// Context.PropTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n//     selectedOption: PropTypes.object.isRequired,\r\n//     onAuthorClick: PropTypes.func.isRequired,\r\n// }\r\nexport default Context;","const keywordsSorter = (a, b) => {\r\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n        return -1;\r\n    }\r\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nexport default keywordsSorter;","const conceptsSorter = (a, b) => {\r\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n        return -1;\r\n    }\r\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nexport default conceptsSorter;","import keywordSorterFunction from '../utils/keywordsSorterFunction';\r\nimport conceptsSorter from '../utils/conceptsSorterFunction';\r\nexport function getUniqueKeywords(state) {\r\n    \r\n    let perspectivesRelations = state.concepts.perspectivesRelations;\r\n    let perspectiveIds = state.concepts.perspectiveIds;\r\n    let keywords = state.concepts.keywords;\r\n    if (perspectivesRelations && perspectiveIds && perspectiveIds.length > 0 && keywords) {\r\n        const uniqueKeysWords = [];\r\n        const uniqueKeywordNamesOnly = [];\r\n        perspectiveIds.forEach(id => {\r\n            perspectivesRelations[id].Keywords.forEach(keyword => {\r\n               \r\n                if (!uniqueKeywordNamesOnly.includes(keywords[keyword].name)) {\r\n                    \r\n                keywords[keyword].count = 1; \r\n                    uniqueKeywordNamesOnly.push(keywords[keyword].name)\r\n                    uniqueKeysWords.push(keywords[keyword])\r\n                }\r\n                else {\r\n                    for (let i = 0; i < uniqueKeysWords.length; i++) {\r\n                        if (uniqueKeysWords[i].id === keywords[keyword].id) {\r\n                            \r\n                            uniqueKeysWords[i].count = uniqueKeysWords[i].count + 1;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        // console.log(\"Return Keywords\",uniqueKeysWords.sort(keywordSorterFunction));\r\n        return uniqueKeysWords.sort(keywordSorterFunction);\r\n    } else {\r\n        return []\r\n    }\r\n}\r\n\r\nexport function getUniqueSortedAuthors(state) {\r\n    let perspectiveids = state.concepts.perspectiveIds;\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;;\r\n    let authors = state.concepts.authors;\r\n    if (perspectiveids && perspectiveids.length > 0 && authors && perspectivesRelations) {\r\n        let uniqueAuthorWithDetails = [];\r\n        let uniqueAuthorNames = [];\r\n        perspectiveids.forEach(id => {\r\n            if (!(uniqueAuthorNames.indexOf((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName)) > -1)) {\r\n                uniqueAuthorNames.push((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName));\r\n                uniqueAuthorWithDetails.push(authors[perspectivesRelations[id].Author]);\r\n            }\r\n        })\r\n        return uniqueAuthorWithDetails.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        });\r\n    }\r\n}\r\n\r\nexport function getUniqueConcept(state) {\r\n    \r\n    let concepts=[]\r\n    console.log(\"Checking\",state.author.authorsWithDetails.sortedKeywords)\r\n    if(state.author.authorsWithDetails &&  state.author.authorsWithDetails.sortedKeywords  )\r\n    {\r\n        if( state.author.authorsWithDetails.sortedKeywords.length>0)\r\n        {\r\n                concepts=state.author.authorsWithDetails.sortedKeywords;\r\n    \r\n        }\r\n    }\r\n   return concepts;\r\n   \r\n    // let author = state.author.author;\r\n    // let perspectives = state.author.authorPerspectives;\r\n    // let concepts = state.author.concepts;\r\n    // let allow=false;\r\n    // if(author.Perspectives){\r\n    //     let temp=[];\r\n    //     if(author.Perspectives.length==Object.keys(perspectives).length)\r\n    //     {\r\n    //         allow=true\r\n    //     }\r\n    // }\r\n    // if(allow)\r\n    // {\r\n    //     if (author.Perspectives && author.Perspectives.length > 0 && perspectives) {\r\n    //         let uniqueConcecptObjects = [];\r\n    //         let helperUniqueIds = [];\r\n    //         author.Perspectives.forEach(element => {\r\n    //             let count = 0;\r\n    //             if (!(helperUniqueIds.includes(perspectives[element].ConceptId))) {\r\n    //                 count += 1;\r\n    //                 let discrete_author_name_id = perspectives[element].ConceptId;\r\n    //                 let discrete_author_name = concepts[perspectives[element].ConceptId].name;\r\n    //                 helperUniqueIds.push(perspectives[element].ConceptId)\r\n    //                 uniqueConcecptObjects.push({ discrete_author_name_id, discrete_author_name, count })\r\n    //             }\r\n    //             else {\r\n    //                 uniqueConcecptObjects.forEach(object => {\r\n    //                     if (object.discrete_author_name_id == perspectives[element].ConceptId) {\r\n    //                         object.count += 1;\r\n    //                     }\r\n    //                 })\r\n    //             }\r\n    //         });\r\n    //         // uniqueConcecptObjects.sort(function (a, b) {\r\n    //         //     var textA = a.discrete_author_name.toUpperCase();\r\n    //         //     var textB = b.discrete_author_name.toUpperCase();\r\n    //         //     return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         // });\r\n    //         return uniqueConcecptObjects;\r\n    //     }\r\n    // }\r\n    // // let temp=[{count:1,discrete_author_name: \"abreaction\",discrete_author_name_id: 57}]\r\n    // //         return temp;\r\n}\r\n\r\nexport function getSortedPerspectivesByConceptName(state) {\r\n    let author = state.author.author;\r\n    let perspectives = state.author.authorPerspectives;\r\n    let concepts = state.author.concepts;\r\n\r\n    if (author.Perspectives   && perspectives) {\r\n        let tempPerspectives = [];\r\n        author.Perspectives.forEach(id => {\r\n            tempPerspectives.push(perspectives[id]);\r\n        })\r\n        \r\n        // console.log(\"Checking state\",tempPerspectives);\r\n        console.log(\"sending back\",tempPerspectives)\r\n        return tempPerspectives;\r\n    }\r\n}\r\nexport function getSortedPerspectivesByLikes(perspectives) {\r\n    if (!perspectives)\r\n        perspectives = [];\r\n    return perspectives.sort((a, b) => {\r\n        if (!a.loves)\r\n            a.loves = 0;\r\n        if (!b.loves)\r\n            b.loves = 0;\r\n        return a.loves > b.loves ? -1 : 0;\r\n\r\n    })\r\n}\r\nexport function getUniqueAuthorBooks(state) {\r\n    let author = state.author.author;\r\n    let books = state.author.authorBooks;\r\n    if (author && author.Books && author.Books.length > 0 && books) {\r\n        let bookids = author.Books;\r\n        let uniqueBookNameWithId = [];\r\n        let uniqueBookIds = [];\r\n        bookids.forEach(bookid => {\r\n            if (!(uniqueBookIds.indexOf(books[bookid].id) > -1)) {\r\n                uniqueBookIds.push(books[bookid].id);\r\n                let discrete_book_id = books[bookid].id;\r\n                let title = books[bookid].title;\r\n                uniqueBookNameWithId.push({ discrete_book_id, title });\r\n            }\r\n        })\r\n        return uniqueBookNameWithId;\r\n    }\r\n}\r\nexport function getAuthorBioData(state) {\r\n    let authorGroups = state.author.authorGroups;\r\n    let authorBioHeadings = state.author.authorBioHeadings;\r\n    let author = state.author.author;\r\n    if (author && author.AuthorGroups && author.AuthorGroups.length > 0) {\r\n        let data = [];\r\n        let uniqueBioHeadings = [];\r\n        author.AuthorGroups.map(id => {\r\n            if (authorGroups[id].AuthorBioHeading) {\r\n                if (!uniqueBioHeadings.includes(authorBioHeadings[authorGroups[id].AuthorBioHeading].name)) {\r\n                    uniqueBioHeadings.push(authorBioHeadings[authorGroups[id].AuthorBioHeading].name);\r\n                    data.push({ heading: authorBioHeadings[authorGroups[id].AuthorBioHeading].name, values: [{ name: authorGroups[id].name, id: authorGroups[id].id }] });\r\n                }\r\n                else {\r\n                    data.forEach(element => {\r\n                        if (element.heading === authorBioHeadings[authorGroups[id].AuthorBioHeading].name) {\r\n                            element.values.push({ name: authorGroups[id].name, id: authorGroups[id].id });\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        })\r\n        return data;\r\n    }\r\n    return;\r\n}\r\n\r\nexport function getUniqueSortedConceptsFromConceptCluster(state) {\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    let concepts = state.conceptClusters.concepts;\r\n    if (conceptCluster && conceptCluster.Concepts && conceptCluster.Concepts.length > 0 && concepts) {\r\n        let uniqueConceptNames = [];\r\n        let sortedUniqueConcepts = [];\r\n        conceptCluster.Concepts.map(id => {\r\n            if (!uniqueConceptNames.includes(concepts[id].name)) {\r\n                uniqueConceptNames.push(concepts[id].name);\r\n                sortedUniqueConcepts.push(concepts[id]);\r\n            }\r\n        })\r\n        return sortedUniqueConcepts.sort((a, b) => {\r\n            let conceptNameA = a.name.toLowerCase();\r\n            let conceptNameB = b.name.toLowerCase();\r\n            return conceptNameA < conceptNameB ? -1 : (conceptNameA > conceptNameB) ? 1 : 0;\r\n        })\r\n    }\r\n}\r\n\r\nexport function getPerspectivesFromConceptCluster(state) {\r\n    // let conceptCluster = state.conceptClusters.conceptCluster;\r\n    // let concepts = state.conceptClusters.concepts;\r\n    // let perspective = state.conceptClusters.perspective;\r\n    // let authorClicked = state.conceptClusters.authorClicked;\r\n    // let conceptClicked = state.conceptClusters.conceptClicked;\r\n    // let authors = state.conceptClusters.authors;\r\n    // console.log(\"findin\");\r\n    // if (conceptCluster && conceptCluster.Concepts && conceptCluster.Concepts.length > 0 && concepts && perspective) {\r\n    //     console.log(\"finding\")\r\n    \r\n    //     const perspectives = [];\r\n    //     let conceptids = conceptCluster.Concepts;\r\n    //     conceptids.forEach(id => {\r\n    //         perspectives.push(...concepts[id].Perspectives.map(perspectiveId => {\r\n    //             perspective[perspectiveId].ConceptName = concepts[id].name;\r\n    //             return perspective[perspectiveId];\r\n    //         }));\r\n    //     })\r\n    //     if (authorClicked) {\r\n    //         perspectives.sort(function (a, b) {\r\n    //             var textA = authors[a.Author].lastName.toUpperCase();\r\n    //             var textB = authors[b.Author].lastName.toUpperCase();\r\n    //             return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         });\r\n    //     }\r\n    //     else if (conceptClicked) {\r\n    //         perspectives.sort(function (a, b) {\r\n    //             var authorA = authors[a.Author].lastName.toUpperCase();\r\n    //             var authorB = authors[b.Author].lastName.toUpperCase();\r\n    //             var textA = a.ConceptName.toUpperCase();\r\n    //             var textB = b.ConceptName.toUpperCase();\r\n    //             if (textA === textB) {\r\n    //                 return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n    //             }\r\n    //             else {\r\n    //                 return (textA < textB) ? -1 : 1;\r\n    //             }\r\n    //         });\r\n\r\n    //     }console.log(\"retuuuuuu\",state.conceptClusters.conceptClusterWithDetails)\r\n    //     return state.conceptClusters.conceptClusterWithDetails;\r\n    // }\r\n    // console.log(\"retuuuuuu\",state.conceptClusters.conceptClusterWithDetails)\r\n        if(state.conceptClusters.conceptClusterWithDetails)\r\n        {\r\n            // console.log(\"length is \",state.conceptClusters.conceptClusterWithDetails.length)\r\n        }\r\n        return state.conceptClusters.conceptClusterWithDetails;\r\n}\r\n\r\nexport function getUniqueAuthorsFromConceptCluster(state) {\r\n    \r\n    let concepts = state.conceptClusters.concepts;\r\n    let authors = state.conceptClusters.authors;\r\n    let perspective = state.conceptClusters.perspective;\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    if (conceptCluster && conceptCluster.Concepts && concepts && perspective && authors) {\r\n        const conceptids = conceptCluster.Concepts;\r\n        const uniqueAuthors = [];\r\n        const uniqueAuthorNames = [];\r\n        conceptids.forEach(id => {\r\n            concepts[id].Perspectives.forEach(perspecid => {\r\n                if (!uniqueAuthorNames.includes(perspective[perspecid].AuthorId)) {\r\n                    uniqueAuthorNames.push(perspective[perspecid].AuthorId)\r\n                    uniqueAuthors.push({\r\n                        id: perspective[perspecid].AuthorId,\r\n                        firstName: authors[perspective[perspecid].Author].firstName,\r\n                        lastName: authors[perspective[perspecid].Author].lastName\r\n                    })\r\n                }\r\n            })\r\n        })\r\n        uniqueAuthors.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        })\r\n        return uniqueAuthors;\r\n    }\r\n}\r\n\r\nexport function getUniqueSortedConceptNameFromAuthorCluster(state) {\r\n    let perspectives = state.autherCluster.perspectives;\r\n    let authorCluster = state.autherCluster.authorCluster;\r\n    if (perspectives && perspectives.length > 0 && authorCluster) {\r\n        let uniqueConceptNames = [];\r\n        let uniqueConcepts = [];\r\n        perspectives.map(conceptid => {\r\n            if (!uniqueConceptNames.includes(authorCluster[conceptid].conceptName)) {\r\n                uniqueConceptNames.push(authorCluster[conceptid].conceptName);\r\n                uniqueConcepts.push({ name: authorCluster[conceptid].conceptName, id: authorCluster[conceptid].conceptId });\r\n            }\r\n        })\r\n        return uniqueConcepts.sort(conceptsSorter);\r\n    }\r\n}//\r\n\r\nexport function getDynamicSortedAuthorClusterWithDetails(state) {\r\n    let perspectives = state.autherCluster.perspectives;\r\n    let authorCluster = state.autherCluster.authorCluster;\r\n    let copyAuthorClusterWithDetails = [];\r\n    if(authorCluster)\r\n    {\r\n        let authorClicked = authorCluster.authorClicked;\r\n    let conceptClicked = authorCluster.conceptClicked;\r\n    if (perspectives && perspectives.length > 0 && authorCluster) {\r\n        \r\n        perspectives.forEach(id => {\r\n            copyAuthorClusterWithDetails.push(authorCluster[id]);\r\n        })\r\n        if (authorClicked) {\r\n            copyAuthorClusterWithDetails.sort(function (a, b) {\r\n                var textA = a.authorLastName.toUpperCase();\r\n                var textB = b.authorLastName.toUpperCase();\r\n                return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n            });\r\n        }\r\n        else if (conceptClicked) {\r\n            copyAuthorClusterWithDetails.sort(function (a, b) {\r\n                var authorA = a.authorLastName.toUpperCase();\r\n                var authorB = b.authorLastName.toUpperCase();\r\n                var textA = a.conceptName.toUpperCase();\r\n                var textB = b.conceptName.toUpperCase();\r\n                if (textA === textB) {\r\n                    return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n                }\r\n                else {\r\n                    if (textA === \"CULTURE\") {\r\n                        console.log(\"not author sorting\");\r\n                    }\r\n                    else {\r\n                        if (textA === \"CULTURE\") {\r\n                            console.log(\"not author sorting\");\r\n                        }\r\n                        return (textA < textB) ? -1 : 1;\r\n                    }\r\n                    // return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    }\r\n    \r\n    console.log(\"sending back\",copyAuthorClusterWithDetails)\r\n    return copyAuthorClusterWithDetails;\r\n}\r\n\r\nexport function getSortedAuthorClusterWithDetailsByAuthorLast(state) {\r\n    let clustersWithDetails = state.autherCluster.authorClustersWithDetails;\r\n    if (clustersWithDetails && clustersWithDetails.length > 0) {\r\n        let copyAuthorClusterWithDetails = [...clustersWithDetails];\r\n        copyAuthorClusterWithDetails.sort(function (a, b) {\r\n            var textA = a.authorLastName.toUpperCase();\r\n            var textB = b.authorLastName.toUpperCase();\r\n            return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n        });\r\n        return copyAuthorClusterWithDetails;\r\n    }\r\n}\r\n\r\nexport function getFilteredPerspectives(state) {\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;\r\n    let authors = state.concepts.authors;\r\n    let perspectivesByAuthor = state.concepts.perspectivesByAuthor;\r\n    let sortedAuthorIds = state.concepts.sortedAuthorIds\r\n    \r\n    let normalizedPerspectives=state.concepts.normalizedPerspectives;\r\n    if (perspectivesRelations && authors && sortedAuthorIds && sortedAuthorIds.length > 0) {\r\n        let result = [];\r\n        // console.log(state)\r\n        // if (this.state.sortBy == 'keyword') {\r\n        //     let filteredPerspectives = [];\r\n        //     let nonFilteredPerspectives = [];\r\n        //     perspectivesDetail.forEach(perspective => {\r\n        //         let includes = false;\r\n        //         if (perspectivesRelations[perspective.id]) {\r\n        //             perspectivesRelations[perspective.id].Keywords.forEach(k => {\r\n        //                 if (k == this.state.sortByKeywordId) {\r\n        //                     perspective.Author = perspectivesRelations[perspective.id].Author;\r\n        //                     perspective.Keywords = perspectivesRelations[perspective.id].Keywords;\r\n        //                     includes = true;\r\n        //                 }\r\n        //             });\r\n        //             includes === true ? filteredPerspectives.push(perspective) : nonFilteredPerspectives.push(perspective);\r\n        //         }\r\n        //     });\r\n        //     result = filteredPerspectives.sort(function (a, b) {\r\n        //         let authorALastName = authors[a.Author].lastName.toUpperCase();\r\n        //         let authorBLastName = authors[b.Author].lastName.toUpperCase();\r\n        //         return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        //     });\r\n        //     return result;\r\n        // }\r\n        // else {\r\n        //     if (this.state.sortByAuthor) {\r\n        //         let includes = false;\r\n        //         for (let perspective of perspectivesDetail) {\r\n        //             if (perspectivesRelations[perspective.id]) {\r\n        //                 if (authors[perspectivesRelations[perspective.id].Author].lastName === this.state.sortByAuthor) {\r\n        //                     includes = true;\r\n        //                     break;\r\n        //                 }\r\n        //             }\r\n        //         }\r\n        //         if (includes) {\r\n        //             perspectivesDetail.forEach(perspective => {\r\n        //                 if (perspectivesRelations[perspective.id]) {\r\n        //                     perspective.Author = perspectivesRelations[perspective.id].Author;\r\n        //                     perspective.Keywords = perspectivesRelations[perspective.id].Keywords;\r\n        //                     result.push(perspective)\r\n        //                 }\r\n        //             })\r\n        //             result = result.sort(function (a, b) {\r\n        //                 let authorALastName = authors[a.Author].lastName.toUpperCase();\r\n        //                 let authorBLastName = authors[b.Author].lastName.toUpperCase();\r\n        //                 return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        //             })\r\n        //             return result;\r\n        //         } else {\r\n        //             let index = sortedAuthorIds.indexOf(this.state.authorId);\r\n        //             let authors = [];\r\n        //             // let beginners = sortedAuthorIds.slice(index - 5, index);\r\n        //             // let last = sortedAuthorIds.slice(index + 1, index + 5)\r\n        //             // authors.push(...beginners, sortedAuthorIds[index], ...last);\r\n        //             authors.push(sortedAuthorIds[index - 1], sortedAuthorIds[index], sortedAuthorIds[index + 1]);\r\n        //             this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true)\r\n        //         }\r\n        //     } else {\r\n        // if (perspectivesByAuthor[sortedAuthorIds[0]].length==0) {\r\n        //     let authors = sortedAuthorIds.slice(0, 5);\r\n        //     this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n        // }\r\n        if(state.concepts.sortByLikes)\r\n        {\r\n            let temp={};\r\n            // console.log(\"checking\",normalizedPerspectives);\r\n            // console.log(\"For\",perspectivesRelations)\r\n            normalizedPerspectives.map(temp => {\r\n                // console.log(\"maoppp;aldjf\");\r\n                if(perspectivesRelations[temp.id])\r\n                {\r\n                    temp.Author=perspectivesRelations[temp.id].Author;\r\n                    temp.Keywords = perspectivesRelations[temp.id].Keywords;\r\n                    result.push(temp);\r\n                }\r\n            })\r\n        }\r\n        else\r\n        {\r\n            // console.log(\"Sorted Author Ids are\",sortedAuthorIds)\r\n            sortedAuthorIds.forEach(id => {\r\n                // console.log(\"id is \",id)\r\n                if (perspectivesByAuthor[id]) {\r\n                    \r\n                    // console.log(\"checking\",normalizedPerspectives);\r\n                    // console.log(\"For\",perspectivesRelations)\r\n                    // console.log(\"perspectives by authors\",perspectivesByAuthor)\r\n                    perspectivesByAuthor[id].forEach(p => {\r\n                        // console.log(\"checking\",p);\r\n                        let temp={};\r\n                        if (perspectivesRelations[p]) {\r\n                            console.log(\"loop is \",p);\r\n                            console.log(\"perspective Relations are\",perspectivesRelations[p])\r\n                            temp=normalizedPerspectives[p]\r\n                            temp.Author = perspectivesRelations[p].Author;\r\n                            temp.Keywords = perspectivesRelations[p].Keywords;\r\n                            result.push(temp);\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        return result;\r\n    }\r\n    //}\r\n    // }\r\n\r\n}","import React, { Component } from 'react';\r\nimport Loader from '../LoaderComponent/Loader';\r\nimport ReactDOM from 'react-dom';\r\nimport AdSense from 'react-adsense';\r\nimport \"./ConceptsPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ReactLoading from 'react-loading';\r\nimport AdsComponent from '../AdComponent/AdComponent';\r\nimport loading from '../../../src/loading.gif';\r\nimport $ from \"jquery\";\r\nimport sort from '../../images/sort.png'\r\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport {\r\n    flushConceptState, getListRelatedByConceptId,\r\n    getConceptFromApi,\r\n    increasePerspectiveLike,\r\n    decreasePerspectiveLike,\r\n    sortByKeyword,\r\n    showAllPerspective,\r\n    sortByAuthorLast,\r\n    getConceptPerspectivesByAuthorLastName,\r\n    getConceptPerspectivesByLikes,\r\n    getConceptPerspectivesByKeywords,\r\n    getAllPerspectivesByConcept,\r\n    getPerspectivesByAuthors,\r\n    LoadByLikes\r\n} from \"../../actions/conceptsActions\";\r\nimport { setSelectedCategory, setSelectedItem, addTag } from \"../../actions/navbaractions\";\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport Context from \"./Context/Context\";\r\nimport { getFilteredPerspectives, getUniqueKeywords, getSortedPerspectivesByLikes } from '../../selectors';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\n\r\nclass ConceptsPage extends Component {\r\n    a=1;\r\n    devo=false;\r\n    prevFirst=0;\r\n    prevSecond=0;\r\n    prevThird=0;\r\n    countDown=0;\r\n    countUp=0;\r\n    AutherNotClicked=true;\r\n    onceAuthorClicked=false;\r\n    showAuthors=false\r\n\r\n    prevScroll=0;\r\n    \r\n    sortedByKewords=false\r\n    allowDownScrollCallBack=false;\r\n    keywordsdIndex=0\r\n    upKeywordsIndex=0\r\n    updateState=true;\r\n    constructor(props) {\r\n    \r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            query: \"\",\r\n            filters: false,\r\n            apiLoading: this.props.concepts.apiLoading,\r\n            apiServerError: this.props.concepts.apiServerError,\r\n            apiNetworkError: this.props.concepts.apiNetworkError,\r\n            listRelatedData: this.props.concepts.listRelatedData,\r\n            listRelatedLoading: this.props.concepts.listRelatedLoading,\r\n            listRelatedServerError: this.props.concepts.listRelatedServerError,\r\n            listRelatedNetworkError: this.props.concepts.listRelatedNetworkError,\r\n            listRelated:true,\r\n            listRelatedRole: 'list',\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            perspectives: this.props.concepts.perspectives,\r\n            keywords: this.props.concepts.keywords,\r\n            concept: this.props.concepts.concept,\r\n            authors: this.props.concepts.authors,\r\n            sortedAuthors: this.props.concepts.sortedAuthors,\r\n            sortedKeywords: this.props.uniqueKeywords,\r\n            visibility: \"hidden\",\r\n            keywordId: null,\r\n            authorId: null,\r\n            id: \"\",\r\n            all: false,\r\n            sortByAuthor: null,\r\n            isLike: this.props.concepts.isLike,\r\n            filteredPerspectives: this.props.filteredPerspectives,\r\n            perspectiveLoading: false,\r\n            offset:0,\r\n            sortByLikes:false,\r\n            prevOffset:1000,\r\n            isScroll:true,\r\n            keywordsClicked:false,\r\n            viewport:\"\",\r\n            finish:false,\r\n            upScrollLock:false,\r\n            upScrolling :false,\r\n            firstPaddingTop:0,\r\n            thirdPaddingTop:0,\r\n            upScrollFilterLock:false,\r\n            leftDropdownOpen:false,\r\n            rightDropdownOpen:false\r\n        };\r\n        this.filterConceptDefinations = this.filterConceptDefinations.bind(this);\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onListClick = this.onListClick.bind(this);\r\n        this.onListRelatedClick = this.onListRelatedClick.bind(this);\r\n        this.onRelatedClick = this.onRelatedClick.bind(this);\r\n        this.toggleListRelated = this.toggleListRelated.bind(this);\r\n        this.scrollDownPerspectiveHandler = this.scrollDownPerspectiveHandler.bind(this);\r\n        this.scrollUpPerspectiveHandler = this.scrollUpPerspectiveHandler.bind(this);\r\n        this.onLikeClick = this.onLikeClick.bind(this);\r\n        this.handleScrollCallback = this.handleScrollCallback.bind(this);\r\n        this.handleScrollCallbackJQUERY = this.handleScrollCallbackJQUERY.bind(this);\r\n        this.loadPerspectivesByLikes=this.loadPerspectivesByLikes.bind(this)\r\n        this.loadByAuthor=this.loadByAuthor.bind(this)\r\n        this.handleThirdCallBack=this.handleThirdCallBack.bind(this);\r\n        this.handleFirstCallback=this.handleFirstCallback.bind(this);\r\n        this.handleSecondWheeel=this.handleSecondWheeel.bind(this);\r\n        this.handleFirstWheeel=this.handleFirstWheeel.bind(this);\r\n        this.handleWheeel=this.handleWheeel.bind(this);\r\n        this.handleThirdWheeel=this.handleThirdWheeel.bind(this);\r\n        this.showAll=this.showAll.bind(this);\r\n        this.handleUpScroll=this.handleUpScroll.bind(this)\r\n        this.handleDown=this.handleDown.bind(this);\r\n        this.handleUp=this.handleUp.bind(this)\r\n        this.fixcolumn=this.fixcolumn.bind(this);\r\n        this.scrollColumn=this.scrollColumn.bind(this)\r\n        this.loadKeywordsDown=this.loadKeywordsDown.bind(this)\r\n        this.toggleSortLeft=this.toggleSortLeft.bind(this)\r\n        this.toggleSortRight=this.toggleSortRight.bind(this)\r\n\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Concepts\") {\r\n                    let concept = {\r\n                        \"concept_id\": this.props.navbar.selectedOption.id,\r\n                        \"filters\": this.props.navbar.tags.map(tag => tag.id),\r\n                    };\r\n                    this.props.getConceptFromApi(concept);\r\n                    this.props.getListRelatedByConceptId(concept)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    shouldComponentUpdate()\r\n    {\r\n        if(!this.updateState)\r\n        {\r\n            this.updateState=true\r\n            return false\r\n        }\r\n        else\r\n        return true\r\n    }\r\n    fixcolumn(id,padding){\r\n\r\n        $(`#${id}`).css({\r\n            position:'fixed',\r\n            paddingTop:padding,\r\n            bottom:'',\r\n            top:'',\r\n            marginLeft:'5px'\r\n        })\r\n        \r\n        if(id==='firstScr')\r\n        {\r\n            \r\n            $('.left').addClass(\"offset-md-3\")\r\n        }\r\n        else if(id==='thirdInnerScr')\r\n        {\r\n            console.log('fixing Third Column');\r\n            // alert('fixing Third column')            \r\n        }\r\n                \r\n                \r\n                \r\n                \r\n\r\n    }\r\n    scrollColumn(id,padding)\r\n    {\r\n        $(`#${id}`).css({\r\n            position: 'static',\r\n            left: '',\r\n            bottom: '',\r\n            paddingTop:padding,\r\n            marginLeft:''\r\n        })\r\n        \r\n        \r\n        if(id==='firstScr')\r\n        {\r\n            \r\n            $('.left').removeClass(\"offset-md-3\")\r\n        }\r\n        else if(id==='thirdInnerScr')\r\n        {\r\n            \r\n        }\r\n    }\r\n\r\n    showTargetElement = () => {\r\n        // ... some logic to show target element\r\n        \r\n        // 3. Disable body scroll\r\n        disableBodyScroll(this.targetElement);\r\n      };\r\n      \r\n      hideTargetElement = () => {\r\n        // ... some logic to hide target element\r\n        \r\n        // 4. Re-enable body scroll\r\n        enableBodyScroll(this.targetElement);\r\n      }\r\n\r\n\r\n\r\n\r\n    showAll()\r\n    {\r\n        this.offset=0;\r\n        $(window).scrollTop(0);\r\n        if(!this.state.sortByLikes)\r\n        {\r\n            let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n            let authors = sortedAuthorIds.slice(0, 30);\r\n            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n            this.showAuthors=true;\r\n        }\r\n        else\r\n        {\r\n            $(window).scrollTop(0);\r\n        this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n        \r\n        }\r\n\r\n    }\r\n    handleScrollCallbackJQUERY()\r\n    {\r\n        // console.log(\"you called me\");\r\n    }\r\n    onListRelatedClick(listRelated) {\r\n        let label = listRelated.relationary_supra;\r\n        let value = label;\r\n        let id = listRelated.relationary_thing_supra_id;\r\n        let category = \"Concept-Clusters\";\r\n        this.props.flushConceptState()\r\n        this.props.setSelectedItem({ label, value, id, category });\r\n    }\r\n    getConcept = (concept_name) => {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts?name=${concept_name}`).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                let concept_name = this.props.match.params.name;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                this.setState({\r\n                    query: concept_name,\r\n                    filters: true\r\n                })\r\n                let result = await this.getConcept(concept_name);\r\n                let author_group = await getAuthorGroups(filters);\r\n                if (result) {\r\n                    this.props.addTag(author_group);\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                    });\r\n                } else {\r\n                    this.props.history.push('/Message');\r\n                }\r\n\r\n            } else {\r\n                let concept_name = this.props.match.params.name;\r\n                this.setState({\r\n                    query: concept_name\r\n                });\r\n                let result = await this.getConcept(concept_name);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                    })\r\n                } else {\r\n                    this.props.history.push('/Message');\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        // console.log(\"Recieving new Props\");\r\n        this.setState({perspectiveLoading:false})\r\n\r\n\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushConceptState();\r\n            this.setState({\r\n                apiLoading: nextProps.concepts.apiLoading,\r\n                apiServerError: nextProps.concepts.apiServerError,\r\n                apiNetworkError: nextProps.concepts.apiNetworkError,\r\n                conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n                conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                sortedAuthors: nextProps.concepts.sortedAuthors,\r\n                sortedKeywords: nextProps.uniqueKeywords,\r\n                concept: nextProps.concepts.concept,\r\n                authors: nextProps.concepts.authors,\r\n                keywords: nextProps.concepts.keywords,\r\n                listRelatedData: nextProps.concepts.listRelatedData,\r\n                listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n                listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n                listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n                loading: nextProps.concepts.loading,\r\n                filteredPerspectives: nextProps.filteredPerspectives\r\n                //page_no: nextProps.concepts.page_no\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n                this.setState({\r\n                    selectedOption: nextProps.navbar.selectedOption,\r\n                });\r\n\r\n                let concept = {\r\n                    \"concept_id\": nextProps.navbar.selectedOption.id,\r\n                    \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n                };\r\n                this.props.getConceptFromApi(concept)\r\n                this.props.getListRelatedByConceptId(concept);\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                apiLoading: nextProps.concepts.apiLoading,\r\n                apiServerError: nextProps.concepts.apiServerError,\r\n                apiNetworkError: nextProps.concepts.apiNetworkError,\r\n                conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n                conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                perspectiveids: nextProps.concepts.perspectiveids,\r\n                keywords: nextProps.concepts.keywords,\r\n                listRelatedData: nextProps.concepts.listRelatedData,\r\n                listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n                listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n                listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n                loading: nextProps.concepts.loading,\r\n                sortedAuthors: nextProps.concepts.sortedAuthors,\r\n                sortedKeywords: nextProps.uniqueKeywords,\r\n                concept: nextProps.concepts.concept,\r\n                authors: nextProps.concepts.authors,\r\n                isLike: nextProps.concepts.isLike,\r\n                filteredPerspectives: nextProps.filteredPerspectives\r\n                // page_no: nextProps.concepts.page_no\r\n            })\r\n        }\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n                let concept = {\r\n                    \"concept_id\": this.state.selectedOption.id,\r\n                    \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n                };\r\n                this.props.getConceptFromApi(concept)\r\n                this.props.getListRelatedByConceptId(concept);\r\n            }\r\n\r\n        }\r\n        if (nextProps.concepts.sortedAuthorIds && nextProps.concepts.sortedAuthorIds.length > 0 && nextProps.concepts.perspectivesByAuthor) {\r\n            let sortedAuthorIds = nextProps.concepts.sortedAuthorIds;\r\n            if (!nextProps.concepts.initial) {\r\n                let authors = sortedAuthorIds.slice(0, 10);\r\n                // if(nextProps.isScrollLike)\r\n                // {\r\n            \r\n                //         this.a--;\r\n                //         this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false,false);\r\n                        \r\n                //         this.setState({sortByLikes:false})\r\n                        \r\n                    \r\n                // }\r\n                // else\r\n                // {\r\n                //     if(this.a==1)\r\n                //     {     \r\n                if(nextProps.isScrollLike)\r\n                {\r\n                    this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n                    this.showAuthors=false\r\n                    // this.setState({isScrollByLike})\r\n                }\r\n                else\r\n                {\r\n                    this.showAuthors=true\r\n                    this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n                }\r\n\r\n                \r\n                //     }\r\n                //     else\r\n                //     this.a++;\r\n                // }\r\n            }\r\n        }\r\n        if (nextProps.concepts.perspectivesByAuthor !== this.props.filteredPerspectives) {\r\n            this.setState({\r\n                perspectiveLoading: false\r\n            })\r\n        }\r\n        if (nextProps.sortByLikes !== this.props.sortByLikes){\r\n            this.setState({\r\n                sortByLikes: nextProps.sortByLikes\r\n            })\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n        // $('#favouriteSecond').css({position:'',bottom:0});\r\n        // $('#thirdScr').add('offs',)f\r\n        // console.log(\"updated\");\r\n        // if (this.state.sortByAuthor) {\r\n            console.log(\"Set view port to id \",this.state.viewport);\r\n            const element = document.getElementById(this.state.viewport);\r\n            if (element) {\r\n                // console.log(\"yes got this\");\r\n                element.scrollIntoView({ behavior: 'auto' });\r\n                $(window).scrollTop($(window).scrollTop()-100)\r\n                }\r\n                else\r\n                {\r\n                    // console.log(\"not got this\")\r\n                }\r\n        // }\r\n        // if(this.sortedByKewords )\r\n        // {\r\n        //     $(window).scrollTop(0)\r\n        // }\r\n        // console.log($(window).scrollTop());\r\n        if(!this.AutherNotClicked)\r\n        {\r\n            $(window).scrollTop($(window).scrollTop()-200)\r\n        }\r\n        // console.log($(window).scrollTop());\r\n        // this.hideTargetElement();\r\n        this.prevScroll=$(window).scrollTop()\r\n\r\n        \r\n        //getSortedPerspectivesByLikes(this.state.filteredPerspectives);\r\n        // this.allowDownScrollCallBack=true;\r\n\r\n    }\r\n    handleWheeel(x)\r\n    {\r\n        // if(x.deltaY<0)\r\n        // {\r\n        //     this.hideTargetElement()\r\n        //     console.log(\"scrolling up\")\r\n        // }\r\n        // else\r\n        // console.log(\"scrolling down\");\r\n\r\n    }\r\n    handleFirstWheeel(x)\r\n    {\r\n\r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        if(this.prevFirst>firstScroll.scrollTop)\r\n        {\r\n            diff=this.prevFirst-firstScroll.scrollTop;\r\n            thirdScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        else if(this.prevFirst==firstScroll.scrollTop)\r\n        {\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                thirdScroll.scrollTop+=100\r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                thirdScroll.scrollTop-=100\r\n            }\r\n        }\r\n        else\r\n        {\r\n            diff=firstScroll.scrollTop-this.prevFirst;\r\n            element.scrollTop+=diff;\r\n            thirdScroll.scrollTop+=diff\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop;  \r\n\r\n    }\r\n    handleFirstCallback()\r\n    {\r\n       \r\n    }\r\n    handleThirdWheeel(x)\r\n    {\r\n\r\n    \r\n            const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        if(this.prevThird>thirdScroll.scrollTop)\r\n        {\r\n            diff=this.prevThird-thirdScroll.scrollTop;\r\n            firstScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        \r\n        else if(this.prevThird==thirdScroll.scrollTop)\r\n        {\r\n\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                if(!this.state.perspectiveLoading)\r\n                {\r\n                    firstScroll.scrollTop+=100\r\n                }\r\n                \r\n                \r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                firstScroll.scrollTop-=100\r\n            }\r\n        \r\n        }\r\n        \r\n        else\r\n        {\r\n            diff=thirdScroll.scrollTop-this.prevThird;\r\n            element.scrollTop+=diff;   \r\n            if(!this.state.perspectiveLoading)\r\n            {\r\n                firstScroll.scrollTop+=diff;\r\n            }\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop; \r\n        \r\n\r\n        \r\n    }\r\n    handleThirdCallBack()\r\n    {\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n      \r\n    }\r\n    handleSecondWheeel(x)\r\n    {\r\n        if(!this.state.perspectiveLoading)\r\n        {\r\n            \r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n          \r\n        // thirdScroll.scrollTop=element.scrollTop;\r\n        // firstScroll.scrollTop=element.scrollTop;\r\n        \r\n        \r\n            \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n            // let diff=0;\r\n            //     if(this.prevSecond>element.scrollTop)\r\n            //     {\r\n               \r\n            //         diff=this.prevSecond-element.scrollTop;\r\n                  \r\n               \r\n            //         thirdScroll.scrollTop-=diff;\r\n            //         firstScroll.scrollTop-=diff; \r\n                \r\n            //     }\r\n            //  else  if(this.prevSecond==element.scrollTop)\r\n            //     {\r\n                    \r\n                    \r\n            //         if(x.deltaY>0)\r\n            //         {\r\n            //             thirdScroll.scrollTop+=100;\r\n            //            firstScroll.scrollTop+=100; \r\n                \r\n            //         }\r\n            //         else\r\n            //         {\r\n            //             thirdScroll.scrollTop-=100;\r\n            //            firstScroll.scrollTop-=100; \r\n                \r\n            //         } \r\n                \r\n            //     }\r\n            //     else\r\n            //     {\r\n            //         diff=element.scrollTop-this.prevSecond;\r\n            //         thirdScroll.scrollTop+=diff  \r\n            //         firstScroll.scrollTop+=diff\r\n                    \r\n                    \r\n            //     }s\r\n            // this.prevSecond=element.scrollTop;\r\n            // this.prevFirst=firstScroll.scrollTop;\r\n            // this.prevThird=thirdScroll.scrollTop;  \r\n        }\r\n    }\r\n    loadKeywordsDown()\r\n    {\r\n        \r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        var rightBarHeight = $('#favouriteSecond').outerHeight();\r\n        \r\n        if((windowHeight + scrollHeight) >=rightBarHeight)\r\n        {\r\n            // console.log(\"index of uniquey keywords is \",this.keywordsdIndex)\r\n            let concepts =this.state.sortedKeywords.slice(this.keywordsdIndex,this.keywordsdIndex+6);\r\n            // console.log(\"New Concepts will be\",concepts);\r\n        \r\n            // this.setState({keywordsdIndex:this.keywordsdIndex+6})\r\n            this.keywordsdIndex+=6\r\n            let conceptIds=concepts.map(concept => concept.id)\r\n            // console.log(\"ids are\",conceptIds);\r\n            this.setState({viewport:\"\"})\r\n            this.props.getConceptPerspectivesByKeywords(conceptIds,true)\r\n\r\n\r\n                // console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ rightBarHeight);\r\n\r\n                // this.scrollDownPerspectiveHandler();\r\n            \r\n        }\r\n\r\n    }\r\n    handleDown()\r\n    {\r\n        console.log(\"fixing\",scrollHeight)\r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        \r\n        if(this.state.upScrolling )\r\n        {\r\n\r\n            let paddingTop=scrollHeight\r\n            console.log(\"setting padding first \",paddingTop)\r\n            console.log(\"setting padding third \",paddingTop)\r\n            console.log('scrolling column')\r\n            this.scrollColumn('firstScr',paddingTop) \r\n            console.log('setting padding',paddingTop)\r\n\r\n            this.scrollColumn('thirdInnerScr',paddingTop);\r\n            console.log(\"updating state\")\r\n         this.updateState=false;\r\n            this.setState({\r\n                upScrolling:false,\r\n                firstPaddingTop:paddingTop,\r\n                thirdPaddingTop:paddingTop,\r\n                viewport:\"\"\r\n            })\r\n    }\r\n        console.log(\"Keywords Click\")\r\n        if(this.state.keywordsClicked)\r\n    {\r\n        this.loadKeywordsDown();\r\n    }\r\n        console.log(\"outside\")\r\n        console.log(\"   checking\",(windowHeight + scrollHeight))\r\n        console.log(\"For\",$('#favouriteSecond').innerHeight())\r\n        if((windowHeight + scrollHeight) >= $('#favouriteSecond').innerHeight())\r\n        {\r\n            console.log(\"Down Scroll Call Back is \",this.allowDownScrollCallBack)\r\n            if(this.allowDownScrollCallBack)\r\n            {\r\n                // console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ $('#favouriteSecond').innerHeight()/100*85);\r\n                this.allowDownScrollCallBack=false;\r\n                console.log('sorted keywords is ',this.sortedByKewords)\r\n              if(!this.sortedByKewords)\r\n              {\r\n                    console.log(\"updating state\")\r\n                //   this.setState({viewport:\"\"})\r\n                  console.log(\"Down state is \",this.props.concepts);\r\n                if(!this.props.concepts.finish)\r\n                this.scrollDownPerspectiveHandler();\r\n              }\r\n            }\r\n\r\n\r\n\r\n        }   \r\n        else\r\n        {\r\n            this.allowDownScrollCallBack=true;\r\n        }\r\n    }\r\n    handleUp()\r\n    {\r\n        console.log('upScrolled')\r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        \r\n        if(!this.state.upScrolling )\r\n        {\r\n            console.log(\"Ending Algorithm\"   )\r\n            console.log(\"UpScroll Filter lock is \",this.state.upScrollFilterLock )\r\n                \r\n        let paddingTop=0;\r\n        if(!this.state.upScrollFilterLock )\r\n        {\r\n            \r\n            console.log(\"calculating at first if\")\r\n            \r\n          paddingTop=(windowHeight + scrollHeight)-$('#firstInnerScr').outerHeight()\r\n            console.log(\"ins\")\r\n        }\r\n         if( $('.right').css('position')==='fixed')\r\n        {\r\n            \r\n          paddingTop=(windowHeight + scrollHeight)-$('#firstInnerScr').outerHeight()\r\n          console.log(\"Calculating at Seconde if\")\r\n            \r\n        } \r\n        let thirdPaddingTop=0;\r\n        console.log(\"position is \",$('#thirdInnerScr').css('position'))\r\n        console.log(\"statrting Algorithm\"   )\r\n        console.log(\"UpScroll Filter lock is \",this.state.upScrollFilterLock )\r\n        if(!this.state.upScrollFilterLock )\r\n        {\r\n            console.log(\"calculating at first if\")\r\n            // Here if Scrolling upward by clicking\r\n            thirdPaddingTop=(windowHeight + scrollHeight)-$('#thirdInnerScr').outerHeight()\r\n    \r\n        }\r\n        console.log(\"Css positoin is \",$('#thirdInnerScr').css('position'))\r\n         if( $('#thirdInnerScr').css('position')==='fixed')\r\n        {\r\n            console.log(\"Calculating at Seconde if\")\r\n            \r\n            thirdPaddingTop=(windowHeight + scrollHeight)-$('#thirdInnerScr').outerHeight()-250\r\n    \r\n        }\r\n        console.log(\"setting padding First\",paddingTop)\r\n        console.log(\"setting padding Third\",thirdPaddingTop)\r\n        console.log(\"Scrolling Both Columns\")\r\n            console.log(\"updating state\")\r\n            this.updateState=false\r\n            this.setState({upScrolling:true,firstPaddingTop:paddingTop,thirdPaddingTop:thirdPaddingTop})\r\n            this.scrollColumn('firstScr',paddingTop)\r\n            console.log('setting padding',thirdPaddingTop)\r\n            this.scrollColumn('thirdInnerScr',thirdPaddingTop)\r\n    \r\n        }\r\n        console.log(\"WindowHeight + RightBarHeight\",(windowHeight + $('#firstInnerScr').outerHeight()))\r\n        console.log(\"Scroll Height is \",scrollHeight)\r\n        if((windowHeight + this.state.firstPaddingTop) >= scrollHeight){\r\n            // console.log(\"line  710\")\r\n            console.log(\"setting first 0\")       \r\n           console.log(\"fixing First Columns\")\r\n            this.fixcolumn('firstScr',0)\r\n            if($(window).height()<$('#firstInnerScr').innerHeight() && !this.state.upScrollLock)\r\n            {\r\n                \r\n                // $('#firstScr').css({\r\n                //     bottom:'0'\r\n                // })  \r\n            }\r\n            $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        if((windowHeight + this.state.thirdPaddingTop) >= scrollHeight){\r\n            // console.log(\"line  710\")   \r\n            console.log(\"fixing\")    \r\n            console.log(\"setting third 0\")       \r\n           console.log(\"fixing Third Columns\")\r\n           console.log('setting padding 0')\r\n\r\n            this.fixcolumn('thirdInnerScr',0)\r\n            if($(window).height()<$('#firstInnerScr').innerHeight() && !this.state.upScrollLock)\r\n            {\r\n                \r\n                // $('#firstScr').css({\r\n                //     bottom:'0'\r\n                // })  \r\n            }\r\n            // $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        console.log(\"scrolling up\");\r\n        if($(window).scrollTop()-200<0)\r\n        {\r\n            if(this.state.keywordsClicked)\r\n            {\r\n                if(!this.state.perspectiveLoading)\r\n                {\r\n                    console.log(\"perspective loading is \",this.state.perspectiveLoading)\r\n                //Up Scroll For keyWords\r\n                console.log(\"Calling up for keywordss\",this.upKeywordsIndex);\r\n                console.log(\"and \",this.keywordsdIndex)\r\n                if(this.upKeywordsIndex>0)\r\n                {\r\n                    \r\n                // this.setState({sortByAuthor:this.state.sortedPerspectives[0]})\r\n                \r\n                    console.log(\"calling scrollCallBack\")\r\n                    let UpConcepts=[]\r\n                    if(this.upKeywordsIndex-5<0)\r\n                    {\r\n                        console.log(\"calling this\");\r\n                        UpConcepts=this.state.sortedKeywords.slice(0,this.upKeywordsIndex)\r\n                    }\r\n                    else\r\n                    {\r\n                        console.log(\"dcallin\")\r\n                        UpConcepts=this.state.sortedKeywords.slice(this.upKeywordsIndex-5,this.upKeywordsIndex)\r\n                    }\r\n\r\n                    // this.index=5+index;\r\n                    console.log(\"Setting view prot \",this.state.sortedKeywords[this.upKeywordsIndex].name)\r\n            console.log(\"updating state\")\r\n                 \r\n                    this.setState({\r\n                        viewport:this.state.sortedKeywords[this.upKeywordsIndex].name,\r\n                        perspectiveLoading:true,\r\n                        upScrollLock:true,\r\n                        upScrollFilterLock:true\r\n                    })\r\n                \r\n                    this.upKeywordsIndex=this.upKeywordsIndex-5\r\n                    \r\n                    let conceptIds=UpConcepts.map(concept => concept.id)\r\n                    //Up Scroll lock on First Column\r\n                   \r\n\r\n                    //Fixing Column 1\r\n                    console.log(\"fixing column 1\")\r\n                    this.fixcolumn('firstScr',0)\r\n                    \r\n\r\n                    \r\n                    $('.left').addClass(\"offset-md-3\")\r\n                    \r\n                    //Fixing Column 3\r\n                    console.log(\"fixing column 3\")\r\n            console.log('setting padding',0)\r\n\r\n                    this.fixcolumn('thirdInnerScr',0)\r\n                    $('#thirdInnerScr').css({\r\n                        position:'fixed'\r\n                    })\r\n                    \r\n                    \r\n                    this.props.getConceptPerspectivesByKeywords(conceptIds,true,true)\r\n                                                     \r\n                    \r\n                }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                this.scrollUpPerspectiveHandler();\r\n        \r\n            }\r\n        }\r\n\r\n    }\r\n    \r\n    handleScrollCallback() {\r\n    \r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        console.log(\"Scroll Top is\",windowHeight + scrollHeight)\r\n        console.log(\"Right Bar Height is \",$('#firstInnerScr').outerHeight())\r\n       \r\n        // if(this.onceAuthorClicked)\r\n        // {\r\n        //     this.onceAuthorClicked=false\r\n        //     $(window).scrollTop($(window).scrollTop()-40);\r\n        // }\r\n        if($(window).scrollTop()>this.prevScroll)\r\n        {\r\n            //Down Scrolling\r\n            this.handleDown();\r\n        }\r\n        else\r\n        {\r\n            //Up Scrolling\r\n            this.handleUp()\r\n        }\r\n        \r\n        this.prevScroll=$(window).scrollTop()\r\n        // For First Column\r\n        var rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n        var rightBarHeight = $('#firstInnerScr').outerHeight();\r\n        // var rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n        var rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        \r\n        if(!this.state.upScrolling)\r\n        {\r\n            console.log('window Height is',(windowHeight + scrollHeight))\r\n            console.log('Rigt Bar Height is ',rightBarHeight);\r\n            if((windowHeight + scrollHeight) >= rightBarHeight){\r\n                console.log(\"setting first 0\")\r\n                this.fixcolumn('firstScr',0)\r\n                // this.setState({\r\n                //     firstPaddingTop:0\r\n                // })\r\n                \r\n                if($(window).height()<$('#firstInnerScr').innerHeight() && !this.state.upScrollLock)\r\n                {\r\n                    \r\n                    $('#firstScr').css({\r\n                        bottom:'0'\r\n                    })  \r\n                }\r\n            }\r\n            \r\n        else{\r\n            console.log(\"Scroll Lock is \",this.state.upScrollLock)\r\n                if(!this.upScrollFilterLock)\r\n                {\r\n                    console.log('Scrolling First Colum')\r\n                    this.scrollColumn('firstScr',0);\r\n                }\r\n            \r\n        }\r\n        }\r\n        \r\n        \r\n        // For Third Column\r\n        windowHeight = $(window).height();\r\n         scrollHeight = $(window).scrollTop();\r\n         rightBarHeight = $('#thirdInnerScr').outerHeight();\r\n        //  rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n         rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight - 30 < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        \r\n        if(!this.state.upScrolling)\r\n        {\r\n            \r\n            console.log(\"nine 80 \",(windowHeight + scrollHeight))\r\n            console.log(\"greater than\",rightBarHeight)\r\n            if((windowHeight + scrollHeight) >= rightBarHeight){\r\n                console.log(\"setting third 0\")\r\n                \r\n                this.fixcolumn('thirdInnerScr',0)\r\n                // this.setState({\r\n                //     thirdPaddingTop:0,\r\n                //     viewport:''0\r\n                // })\r\n                \r\n                if($(window).height()<$('#thirdInnerScr').innerHeight() && !this.state.upScrollLock)\r\n                {\r\n                    \r\n                    $('#thirdInnerScr').css({\r\n                        bottom:'0'\r\n                    })  \r\n                }\r\n            \r\n            }\r\n            \r\n        else{\r\n            console.log(\"Scroll Lock is \",this.state.upScrollLock)\r\n                if(!this.upScrollFilterLock)\r\n                {\r\n                    \r\n                    console.log(\"line 943\")\r\n                     console.log('setting padding 0')\r\n                    console.log('scrolling first column')\r\n                    this.scrollColumn('thirdInnerScr',0)\r\n                \r\n            \r\n            }\r\n        \r\n            \r\n        }\r\n        }\r\n        \r\n    }\r\n    componentDidMount() {\r\n\r\n        \r\n\r\n        // $(window).scroll(this.handleScrollCallback());\r\n\r\n\r\n        // $(window).bind('mousewheel', function(e){\r\n        //     if(e.originalEvent.wheelDelta > 0)\r\n        //     {\r\n        //         console.log(\"upScroll\")\r\n        //         this.handleScrollCallbackJQUERY();\r\n        //     }\r\n        //     else\r\n        //     {\r\n        //        console.log(\"Down SCroll\")\r\n        //     }\r\n        // });\r\n\r\n        // var sc=ReactDOM.findDOMNode(this.refs.myscroll);\r\n        // if(sc)\r\n        // {\r\n        //         sc.addEventListener('scroll', this.handleScrollCallback);\r\n        //  }\r\n        //  this.setState({\r\n        //      isScroll:true\r\n        //  })\r\n         window.addEventListener('scroll', this.handleScrollCallback, true);\r\n         window.addEventListener('mousewheel', (e) => {\r\n            if(e.deltaY<0)\r\n            {\r\n               //UpScroll\r\n                \r\n\r\n            }\r\n            else\r\n            {\r\n                // console.log(\"got state\",this.state.upScrollLock)\r\n                //down Scrll\r\n                if(this.state.upScrollLock)\r\n                {\r\n                    this.setState({upScrollLock:false})\r\n                }\r\n\r\n            }\r\n\r\n\r\n         }, true);\r\n         window.addEventListener('keydown', (e) => {\r\n            // console.log(\"key is \",e)\r\n            if(e.keyCode===40)\r\n            {\r\n                if(this.state.upScrollLock)\r\n                {\r\n                    this.setState({upScrollLock:false})\r\n                }\r\n            }\r\n\r\n         }, true);\r\n        //  $(document).keydown(function(e) {\r\n        //     console.log(e.keyCode);\r\n        // });\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n    \r\n    handleUpScroll() {\r\n        if(this.state.keywordsClicked)\r\n        {\r\n            console.log(\"Allowing the Body to scroll up\");\r\n            // this.hideTargetElement()\r\n        }\r\n    }\r\n    toggleListRelated() {\r\n        this.setState({\r\n            listRelated: !this.state.listRelated,\r\n        })\r\n    }\r\n    onListClick() {\r\n        this.setState({\r\n            listRelatedRole: 'list'\r\n        })\r\n        // this.toggleListRelated();\r\n    }\r\n    onRelatedClick() {\r\n        this.setState({\r\n            listRelatedRole: 'related',\r\n        })\r\n        // this.toggleListRelated();\r\n    }\r\n    onLikeClick(id) {\r\n        // this.setState({viewport:\"\"})\r\n    let index=this.state.filteredPerspectives.findIndex(x => x.id==id)\r\n    let oldState=this.state.filteredPerspectives;\r\n    \r\n    if (this.state.filteredPerspectives[index].isLike) {\r\n\r\n            this.props.decreasePerspectiveLike(id);\r\n            oldState[index].loves=--oldState[index].loves;\r\n        \r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n            oldState[index].loves=++oldState[index].loves;\r\n            \r\n        \r\n        }\r\n        \r\n        oldState[index].isLike=!oldState[index].isLike;\r\n        \r\n        // this.setState({filteredPerspectives:oldState})\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\"\r\n        this.props.flushConceptState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    filterConceptDefinations(keyword_id) {\r\n        let rtn = [];\r\n        this.state.orignalConceptsWithDetails.forEach(element => {\r\n            if (element.keywords_id == keyword_id) {\r\n                rtn.push(element);\r\n            }\r\n        });\r\n        this.setState({\r\n            conceptsWithDetails: rtn,\r\n        })\r\n    }\r\n    loadPerspectivesByLikes()\r\n    {\r\n        $(window).scrollTop(0);\r\n        this.setState({keywordsClicked:false})\r\n        this.sortedByKewords=false\r\n        this.keywordsClicked=false;\r\n        this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n                   \r\n        // if(!this.state.sortByLikes)\r\n        // {\r\n        //     this.props.getConceptPerspectivesByLikes(this.state.selectedOption,this.props.offset,false);\r\n        // }\r\n        // const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        // element.scrollTop=0;\r\n    }\r\n    loadPerspectivesByAuthor() {\r\n        \r\n        // $(window).scrollTop(30);\r\n        // console.log(\"Variables are\",$(window).scrollTop());\r\n        this.keywordsClicked=false\r\n        this.prevFirst=$(window).scrollTop();\r\n        this.prevThird=$(window).scrollTop();\r\n        this.prevSecond=$(window).scrollTop();\r\n        this.AutherNotClicked=false;\r\n        this.onceAuthorClicked=true;\r\n\r\n        \r\n        // $('#thirdScr').css('position','fixed');\r\n        // if($('#thirdScr').innerHeight()>$(window).innerHeight())\r\n        // {\r\n        //     $('#thirdScr').css('overflow','scroll');\r\n\r\n        // }\r\n        // $('#thirdScr').css('paddingLeft','40px');\r\n        \r\n\r\n\r\n        // $(\"#thirdScr\").css('paddingBottom','50px')\r\n        \r\n        // $('#firstScr').css('position','fixed');\r\n        // // $('#firstScr').css('bottom','0');\r\n        // $(\"#firstScr\").css('paddingBottom','50px')\r\n        // $('#secondScr').addClass('offset-md-3')\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n        let perspectives = this.state.filteredPerspectives;\r\n        let includes = false;\r\n        for (let p of perspectives) {\r\n            if (p.Author == this.state.authorId) {\r\n                includes = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!includes) {\r\n            let index = sortedAuthorIds.indexOf(this.state.authorId);\r\n            let authors = [];\r\n            let beginners = sortedAuthorIds.slice(index - 5, index);\r\n            let last = sortedAuthorIds.slice(index + 1, index + 5)\r\n            authors.push(...beginners, sortedAuthorIds[index], ...last);\r\n            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id)\r\n        } else {\r\n            this.setState({\r\n                sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].lastName]\r\n            })\r\n        }\r\n    }\r\n    scrollDownPerspectiveHandler() {\r\n            // console.log(\"down called\");\r\n            if(this.state.sortByLikes)\r\n            {\r\n                // console.log(\"mergingd\",this.state.prevOffset);\r\n                // console.log(\"other\",this.props.offset)\r\n                if(this.state.prevOffset!==this.props.offset)\r\n                {\r\n                    this.setState({\r\n                        perspectiveLoading:true,\r\n                    })\r\n                    this.props.getConceptPerspectivesByLikes(this.state.selectedOption,this.props.offset,true);\r\n                    this.setState({calledapi:false})\r\n                    this.state.prevOffset=this.props.offset\r\n                }\r\n            }\r\n            else\r\n            {\r\n                \r\n                let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n                let perspectives = this.state.filteredPerspectives;\r\n                let index = sortedAuthorIds.indexOf(perspectives[perspectives.length - 1].Author)\r\n                let authors = sortedAuthorIds.slice(index + 1, index + 50);\r\n                console.log(authors);\r\n                if(authors.length>0)\r\n                {\r\n                    this.setState({\r\n                        perspectiveLoading: true,\r\n                        // sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].Author].lastName,\r\n                        sortByAuthor:null\r\n                    })\r\n                    this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n            \r\n                }\r\n                // else\r\n                // {\r\n                //     this.setState({\r\n                //         perspectiveLoading: false,\r\n                //         // sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].Author].lastName,\r\n                //         sortByAuthor:null\r\n                //     })\r\n                // }\r\n            }\r\n         \r\n    }\r\n    scrollUpPerspectiveHandler() {\r\n\r\n        // console.log(\"setting positon fixed\")\r\n            if(!this.state.sortByLikes)\r\n            {\r\n                if(this.state.filteredPerspectives)\r\n                {\r\n                    \r\n                    let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n                    let perspectives = this.state.filteredPerspectives;\r\n                    let index = sortedAuthorIds.indexOf(perspectives[0].Author)\r\n                    if (index !== 0) {\r\n                        let authors = [];\r\n                        for (var i = 1; i < 5; i++) {\r\n                            let value = sortedAuthorIds[index - i];\r\n                            if (value !== undefined) {\r\n                                authors.push(value)\r\n                            }\r\n                        }\r\n                        if(authors.length>0)\r\n                        {\r\n                            console.log(\"updating state\")\r\n                            \r\n                            this.setState({\r\n                                sortByAuthor: this.state.authors[perspectives[0].Author].lastName,\r\n                                perspectiveLoading: true,\r\n                                viewport:this.state.authors[this.state.filteredPerspectives[0].AuthorId].lastName\r\n        \r\n                            })\r\n                            //Up Scroll lock on First and Third Column\r\n                            console.log(\"updating state\")\r\n\r\n                            this.setState({\r\n                                upScrollLock:true\r\n                            })\r\n\r\n                            //Fixing Column 1\r\n                            \r\n                            $('#firstScr').css({\r\n                                position:'fixed'\r\n                            })\r\n\r\n                            \r\n                            $('.left').addClass(\"offset-md-3\")\r\n                            \r\n                            //Fixing Column 3\r\n                            $('#thirdInnerScr').css({\r\n                                position:'fixed'\r\n                            })\r\n                            \r\n                            \r\n                            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n                            \r\n                        }\r\n                        else\r\n                        {\r\n                            console.log(\"updating state\")\r\n\r\n                            this.setState({\r\n                                sortByAuthor: this.state.authors[perspectives[0].Author].lastName,\r\n                                perspectiveLoading: false,\r\n                                viewport:this.state.authors[this.state.filteredPerspectives[0].AuthorId].lastName\r\n\r\n        \r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            \r\n            }\r\n\r\n\r\n    }\r\n    loadByAuthor()\r\n    {\r\n        this.setState({keywordsClicked:false})\r\n\r\n        if(this.state.sortByLikes)\r\n        {\r\n            let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n            let authors = sortedAuthorIds.slice(0, 30);\r\n            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n            this.showAuthors=true;\r\n        }\r\n        $(window).scrollTop(0);\r\n    }\r\n    \r\n    toggleSortLeft() {\r\n        this.setState(prevState => ({\r\n          leftDropdownOpen: !prevState.leftDropdownOpen\r\n        }))\r\n    }   \r\n    toggleSortRight() {\r\n      this.setState(prevState => ({\r\n        rightDropdownOpen: !prevState.rightDropdownOpen\r\n      }))\r\n  }\r\n    render() {\r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll);  \r\n        \r\n        if(element && firstScroll && thirdScroll)\r\n        {\r\n            this.prevSecond=element.scrollTop;\r\n            this.prevFirst=firstScroll.scrollTop;\r\n            this.prevThird=thirdScroll.scrollTop;\r\n        }\r\n    \r\n        return (\r\n            <div  onWheel={this.handleWheeel}    className=\"\" style={{ overflow: \"\",paddingTop:50 }}>\r\n                {(this.state.selectedOption.id && this.state.selectedOption.category == \"Concepts\" || this.state.query) && < div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div ref=\"firstScroll\" id=\"firstScr\" onWheel={this.handleFirstWheeel} onScroll={this.handleFirstCallback} className=\"col-6 col-sm-6 col-md-3 right d-none d-md-block \" style={{paddingBottom:50, borderRadius: \"3px\", backgroundColor: \"white\", textTransform: 'capitalize', overflow: [this.state.perspectiveLoading?'hidden':\"auto\"], textAlign: \"\" }}>\r\n                            <div className='' id='firstInnerScr' style={{ width: \"100%\", margin: \"auto\", background: \"white\", textAlign: '', borderRadius: '20px' }}>\r\n                                {this.state.listRelatedLoading && <div style={{ width: \"100px\", margin: \"auto\" }}>\r\n                                    <ReactLoading type=\"balls\" color=\"red\" />\r\n                                </div>}\r\n\r\n                                {/* {!this.state.listRelatedLoading && <div>\r\n                                    <div style={{ backgroundColor: 'white', textAlign: 'center', marginTop: '10px', padding: '5px' }}><h3>{this.state.selectedOption.label}</h3></div>\r\n                                </div>} */}\r\n                                {/* <div style={{ backgroundColor: 'white', marginBottom: '5px' }}>\r\n                                        {!this.state.listRelatedLoading && <div style={{ paddingLeft: '50px', marginTop: '5px', background: 'white' }}>\r\n                                            <label style={{ border:[this.state.listRelatedRole==='list'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='list'?'black': 'grey'], borderRadius: \"15px\", padding: \"5px 20px\", marginTop: \"10px\", marginLeft: \"\", marginRight: \"5px\", cursor: \"pointer\",fontSize:12,fontWeight:\"650\" }}\r\n                                                onClick={this.onListClick} >Lists</label>\r\n                                            <label style={{ cursor: \"pointer\", borderRadius: \"15px\", border:[this.state.listRelatedRole==='related'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='related'?'black': 'grey'], padding: \"5px 15px\", marginTop: \"10px\", marginLeft: \"5px\",fontSize:12,fontWeight:\"650\" }}\r\n                                                onClick={this.onRelatedClick}>Related</label>\r\n                                        </div>}\r\n                                        <div style={{  borderBottom: \"1px solid grey\", display: [this.state.listRelated ? 'block' : 'none'],marginLeft:30,paddingLeft:\"10px\",paddingTop:\"10px\",paddingBottom:\"25px\" }}>\r\n                                            {this.state.listRelatedRole == 'list' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n                                                return <span style={{fontSize:14,fontWeight:\"500\",color:'grey',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</span>\r\n                                            })}\r\n                                            {this.state.listRelatedRole == 'related' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyRelationData(this.state.listRelatedData).map(data => {\r\n                                                return <span style={{fontSize:14,fontWeight:\"500\",color:'grey',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</span>\r\n                                            })}\r\n                                        </div>\r\n                                        {/* <div onClick={() => this.props.showAllPerspective(true)}  className=\"btn btn-link text-center\">Show All</div> */}\r\n                                    {/* </div> */} \r\n                                {this.state.sortedKeywords && (this.state.sortedKeywords.length > 0 && <div style={{ width: \"100%\", margin: \"auto\" }} >\r\n                                    <div style={{ backgroundColor: 'white', width: '100%',paddingTop:\"50px\" }}>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-2 col-sm-2 col-md-2\" style={{backgroundColor:\"white\",cursor:'pointer'}}>\r\n                                                {/* <div onClick={() => {\r\n                                                    // this.props.showAllPerspective(this.state.selectedOption.id)\r\n                                                    this.showAll()\r\n                                                }\r\n                                                } className=\"btn btn-link text-center rotate\"  ><b style={{fontSize:16}}>Show All</b></div> */}\r\n                                            </div>\r\n                                            <div id='favourite' className=\"col-8 col-sm-8 col-md-8\" style={{ backgroundColor: 'white',paddingLeft:\"30px\" }}>\r\n                                                <ul  style={{\"lineHeight\": \"0.9em\",height: \"auto\",listStyle:\"none\",padding:0}}>\r\n                                                {this.state.sortedKeywords.map((keyword,index) => {\r\n                                                    return <li style={{ padding:\"8px\"}}><a href=\"#top\" style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                                       \r\n                                                        this.sortedByKewords=true\r\n                                                      \r\n                                                        this.setState({\r\n                                                            sortBy: \"keyword\",\r\n                                                            sortByKeywordId: keyword.id,\r\n                                                            sortByAuthor: null,\r\n                                                            keywordsClicked:true,\r\n                                                            viewport:keyword.name,\r\n                                                            upScrollFilterLock:true\r\n                                                        }, () => {\r\n                                                            $(window).scrollTop(0);\r\n                                                            {/* console.log(\"index of uniquey keywords is \",this.keywordsdIndex) */}\r\n                                                            \r\n                                                            let concepts =this.state.sortedKeywords.slice(index,5+index);\r\n                                                            \r\n                                                            let UpConcepts=[]\r\n                                                            if(index-5<0)\r\n                                                            {\r\n                                                                {/* console.log(\"calling this\"); */}\r\n                                                                UpConcepts=this.state.sortedKeywords.slice(0,index)\r\n                                                            }\r\n                                                            else\r\n                                                            {\r\n                                                                {/* console.log(\"dcallin\") */}\r\n                                                                UpConcepts=this.state.sortedKeywords.slice(index-5,index)\r\n                                                            }\r\n                                                            {/* console.log(\"Up Perspectives are \",UpConcepts); */}\r\n                                                            \r\n                                                            let concate=UpConcepts.concat(concepts);\r\n                                                            {/* console.log(\"concatinated is \",concate); */}\r\n                                                            \r\n                                                            {/* console.log(\"New Concepts will be\",concepts); */}\r\n                                                        \r\n                                                            // this.setState({keywordsdIndex:this.keywordsdIndex+6})\r\n                                                            this.keywordsdIndex+=index+6\r\n                                                            this.upKeywordsIndex=index-5;\r\n                                                            let conceptIds=concate.map(concept => concept.id)\r\n                                                            {/* console.log(\"ids are\",conceptIds);\r\n                                                            console.log(\"Clciked index is \",index) */}\r\n                                                           \r\n                                                            this.props.getConceptPerspectivesByKeywords(conceptIds)\r\n                                                            \r\n\r\n                                                        })\r\n                                                    }}><b style={{ color: 'black', fontWeight: '15px:', fontSize: '14px'}}>{keyword.name}</b>&nbsp;<span style={{ color: 'gray',fontSize:11 }}>{\" (\" + keyword.count + \")\"}</span></a></li>\r\n\r\n                                                })}\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n                                    </div>\r\n                                </div>)}\r\n                            </div>\r\n                        </div>\r\n                        <div ref=\"myscroll\" id=\"secondScr\" onWheel={this.handleSecondWheeel} onScroll={this.handleScrollCallback} className=\"col-12 col-sm-12 col-md-4 left \" style={{ borderRadius: \"3px\", backgroundColor: \"white\"}}>\r\n                            <div  ref=\"myscrollInner\"  id=\"favouriteSecond\" style={{ backgroundColor: \"white\" }}>\r\n                               <div id=\"space\"  style={{background:'#fff',position:'fixed',height:'20px'}}>\r\n                               <div id=\"header\" className=\"\"  style={{zIndex:'4',position:'fixed',backgroundColor:'#fff',border:'1px solid #b7b7b7',boxShadow:'3px 3px #a99e9e'}}>\r\n                                \r\n                               <div className=\"row\" >\r\n                               <div className=\"col-md-2 col-2 col-sm-2\">\r\n                                    <div className=\"dropdown\">\r\n                                        \r\n                                        <Dropdown isOpen={this.state.leftDropdownOpen}  toggle={this.toggleSortLeft}>\r\n                                            <DropdownToggle  style={{background:'none',border:'none',color:'black',boxShadow:' 0 0 0 0 white'}}>\r\n                                            <i className=\"fa fa-list\" style={{padding:'10px',fontSize:'20px',color:'#6f6b6b'}}></i>\r\n                                            </DropdownToggle>\r\n                                            <DropdownMenu >\r\n                                                { this.state.listRelatedData  && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n                                                    return <DropdownItem className=\"list-group-item\" style={{fontSize:16,fontWeight:\"500\",color:'black',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>\r\n                                                                 {data.name}\r\n                                                         </DropdownItem>\r\n                                                })} \r\n                                            \r\n                                            </DropdownMenu>\r\n                                        </Dropdown>\r\n                                        \r\n                                        {/* <button class=\"\" type=\"button\" data-toggle=\"dropdown\" style={{backgroundColor: \"Transparent\",backgroundRepeat:\"no-repeat\",border: \"none\",cursor:\"pointer\",overflow: \"hidden\",outline:\"none\"}}><i className=\"fa fa-list\" style={{padding:'10px',fontSize:'20px',color:'#6f6b6b'}}></i>\r\n                                        </button>\r\n                                        <ul className=\"dropdown-menu \" >\r\n                                \r\n                                        { this.state.listRelatedData  && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n                                                return <li className=\"list-group-item\" style={{fontSize:16,fontWeight:\"500\",color:'black',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</li>\r\n                                            })}\r\n                                        </ul> */}\r\n                                    </div>\r\n                                    </div>\r\n                                    <div className=\"col-8 col-md-8 col-sm-8\" style={{top:'-3px'}}><b style={{fontSize:'30px'}}>{this.state.selectedOption.label}</b></div>\r\n                                    <div className=\"col-2 col-md-2 col-sm-2\">\r\n                                    <div className=\"dropdown\">\r\n                                        <Dropdown isOpen={this.state.rightDropdownOpen}  toggle={this.toggleSortRight}>\r\n                                            <DropdownToggle  style={{background:'none',border:'none',color:'black',boxShadow:' 0 0 0 0 white'}} color='none'>\r\n                                                <img src={sort} className=\"img-responsive\" style={{width:\"60%\",marginTop:7}}/>  \r\n                                            </DropdownToggle>\r\n                                            <DropdownMenu right>\r\n                                            <DropdownItem className=\"list-group-item\"  onClick={this.loadPerspectivesByLikes} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by popularity</DropdownItem>\r\n                                            <DropdownItem className=\"list-group-item\"   onClick={this.loadByAuthor} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by author</DropdownItem>\r\n                                        \r\n                                            \r\n                                            </DropdownMenu>\r\n                                        </Dropdown>\r\n                                        \r\n                                        \r\n                                        {/* <button className=\"\" type=\"button\" data-toggle=\"dropdown\" style={{backgroundColor: \"Transparent\",backgroundRepeat:\"no-repeat\",border: \"none\",cursor:\"pointer\",overflow: \"hidden\",outline:\"none\"}}><img src={sort} className=\"img-responsive\" style={{width:\"40%\",marginTop:7}}/>\r\n                                        </button>\r\n                                        <ul className=\"dropdown-menu dropdown-menu-right\" style={{left:'-92px'}}>\r\n                                            <li className=\"list-group-item\"  onClick={this.loadPerspectivesByLikes} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by popularity</li>\r\n                                            <li className=\"list-group-item\"   onClick={this.loadByAuthor} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by author</li>\r\n                                        </ul> */}\r\n                                    </div>\r\n                                    </div>\r\n                               </div>\r\n                               </div>\r\n                               </div>\r\n                               \r\n                                {/* <div ref=\"img\" id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                <div ref=\"analogy\" style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                </div> */}\r\n   \r\n                                {\r\n                                    <div id=\"top\" ></div>\r\n                                }\r\n                                {/* <div className=\"d-block d-sm-block d-md-none\" style={{display:'flex',textAlign:'center',alignItems:'center',justifyContent:'center',marginTop:'45px',fontSize:'30px'}}><b>{this.state.selectedOption.label}</b></div> */}\r\n                                {this.state.perspectiveLoading &&\r\n                                    <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                    <img src={loading} style={{ height: '20px' }}></img>\r\n                                    </div>\r\n                                    \r\n                                }  \r\n\r\n                                {\r\n                                    this.state.selectedOption && this.state.filteredPerspectives && this.state.filteredPerspectives.length > 0 && this.state.filteredPerspectives.map(data => {\r\n                                       {/* console.log(\"cehcking\",this.state.authors) */}\r\n                                        return (\r\n                                            <div>\r\n                                                <Context data={data}\r\n                                                    authors={this.state.authors}\r\n                                                    selectedOption={this.state.selectedOption}\r\n                                                    keywords={this.state.keywords}\r\n                                                    onAuthorClick={this.onAuthorClick}\r\n                                                    onLikeClick={this.onLikeClick}\r\n                                                    isLike={this.state.isLike}\r\n                                                \r\n                                                />\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                             {this.state.perspectiveLoading &&\r\n                            <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%',bottom:\"20\"}}>\r\n                            <img src={loading} style={{ height: '20px' }}></img>\r\n                            </div>\r\n                            \r\n                        }  \r\n                            <div style={{height:'100px'}}>   </div>\r\n\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2 d-none d-md-block\" id=\"thirdScr\" style={{  background:'white',minHeight:'90vh'}}>\r\n                        \r\n                        <div  ref=\"thirdScroll\" id=\"thirdInnerScr\" onWheel={this.handleThirdWheeel}  onScroll={this.handleThirdCallBack}  style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow:[this.state.perspectiveLoading?'hidden':'auto'] }}>\r\n                            {/* <div style={{ backgroundColor: 'white' }}>\r\n                                <div style={{ paddingLeft: '30px', marginTop: '5px', background: 'white' }}>\r\n                                    <b style={{fontSize:20}}>Arranged by</b>\r\n                                    <p style={{fontSize:14,paddingLeft:12}}><label onClick={this.loadByAuthor} style={{paddingLeft:'0px',cursor:'pointer',fontWeight:700,color:this.state.sortByLikes?'grey':'black'}}>Author</label> <label style={{paddingLeft:'8px',cursor:'pointer',fontWeight:700,color:this.state.sortByLikes?'black':'gray'}} onClick={this.loadPerspectivesByLikes}>Likes</label></p>\r\n                                </div>\r\n                            </div> */}\r\n                            <ul style={{\"lineHeight\": \"0.9em\",height: \"auto\",listStyle:\"none\"}}>\r\n                                {this.showAuthors && !this.state.sortByLikes && this.state.sortedAuthors && this.state.sortedAuthors.length > 0 && this.state.sortedAuthors.map(data => {\r\n                                        {/* console.log(\"hello\"); */}\r\n                                        return (\r\n                                            <li style={{ width: \"150px\", margin: \"auto\",backgroundColor:\"\", padding:\"8px\" }}><a onClick={() => {\r\n                            \r\n                                                this.setState({\r\n                                                    sortByAuthor: data.lastName,\r\n                                                    viewport:data.lastName,\r\n                                                    sortBy: \"\",\r\n                                                    authorId: data.id,\r\n                                                    isScroll:false,\r\n                                                    upScrollFilterLock:true\r\n                                                }\r\n                                                    , () => {\r\n                                                        \r\n                                                        this.loadPerspectivesByAuthor();\r\n                                                    })\r\n                                            }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\",fontSize:14,height:\"auto\" }} href={`#${data.lastName}`}><b>{ (data.lastName && data.firstName) ? (data.lastName + \", \" + data.firstName) : (data.lastName ? data.lastName : (data.firstName ? data.firstName : \"\"))}</b></a></li>\r\n                                        );\r\n                                    })}\r\n                                    </ul>\r\n                        </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                {/* <h>This Place is for Adds</h> */}\r\n                                <AdsComponent></AdsComponent>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n        \r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        //getConceptDetails: bindActionCreators(getConceptDetails, dispatch),\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushConceptState: bindActionCreators(flushConceptState, dispatch),\r\n        getListRelatedByConceptId: bindActionCreators(getListRelatedByConceptId, dispatch),\r\n        getConceptFromApi: bindActionCreators(getConceptFromApi, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        increasePerspectiveLike: bindActionCreators(increasePerspectiveLike, dispatch),\r\n        decreasePerspectiveLike: bindActionCreators(decreasePerspectiveLike, dispatch),\r\n        sortByAuthorLast: bindActionCreators(sortByAuthorLast, dispatch),\r\n        sortByKeyword: bindActionCreators(sortByKeyword, dispatch),\r\n        showAllPerspective: bindActionCreators(showAllPerspective, dispatch),\r\n        getConceptPerspectivesByAuthorLastName: bindActionCreators(getConceptPerspectivesByAuthorLastName, dispatch),\r\n        getConceptPerspectivesByKeywords: bindActionCreators(getConceptPerspectivesByKeywords, dispatch),\r\n        getAllPerspectivesByConcept: bindActionCreators(getAllPerspectivesByConcept, dispatch),\r\n        getPerspectivesByAuthors: bindActionCreators(getPerspectivesByAuthors, dispatch),\r\n        getConceptPerspectivesByLikes:bindActionCreators(getConceptPerspectivesByLikes,dispatch),\r\n        LoadByLikes:bindActionCreators(LoadByLikes,dispatch),\r\n        \r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n{/* console.log(\"Gott state \",state) */}\r\n    return {\r\n        navbar: state.navbar,\r\n        concepts: state.concepts,\r\n        pageNumber: state.concepts.page_no,\r\n        uniqueKeywords: getUniqueKeywords(state),\r\n        filteredPerspectives: getFilteredPerspectives(state),\r\n        sortByLikes:state.concepts.sortByLikes,\r\n        offset:state.concepts.offset,\r\n        isScrollLike:state.concepts.isScrollByLike\r\n    }\r\n}\r\n// const renderConceptsDetails = (data) => {\r\n//     if (data.length > 0) {\r\n//         data.map(item => {\r\n//             return (<h1>{item.description}</h1>);\r\n//         })\r\n//     }\r\n// }\r\nconst returnOnlyListData = (listRelatedData) => {\r\n    let listData = [];\r\n    listRelatedData.forEach(element => {\r\n        if (element.type == 'list of') {\r\n            listData.push(element);\r\n        }\r\n    })\r\n    return listData;\r\n}\r\nconst returnOnlyRelationData = (listRelatedData) => {\r\n    let listData = [];\r\n    listRelatedData.forEach(element => {\r\n        if (element.type == 'dictionary of') {\r\n            listData.push(element);\r\n        }\r\n    })\r\n    return listData;\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ConceptsPage));\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { Component } from 'react';\r\n// import Loader from '../LoaderComponent/Loader';\r\n// import ReactDOM from 'react-dom';\r\n// import AdSense from 'react-adsense';\r\n// import \"./ConceptsPage.css\";\r\n// import { connect } from 'react-redux';\r\n// import { bindActionCreators } from 'redux';\r\n// import { withRouter } from 'react-router-dom';\r\n// import ReactLoading from 'react-loading';\r\n// import AdsComponent from '../AdComponent/AdComponent';\r\n// import loading from '../../../src/loading.gif';\r\n// import $ from \"jquery\";\r\n// import sort from '../../images/sort.png'\r\n// import {\r\n//     flushConceptState, getListRelatedByConceptId,\r\n//     getConceptFromApi,\r\n//     increasePerspectiveLike,\r\n//     decreasePerspectiveLike,\r\n//     sortByKeyword,\r\n//     showAllPerspective,\r\n//     sortByAuthorLast,\r\n//     getConceptPerspectivesByAuthorLastName,\r\n//     getConceptPerspectivesByLikes,\r\n//     getConceptPerspectivesByKeywords,\r\n//     getAllPerspectivesByConcept,\r\n//     getPerspectivesByAuthors,\r\n//     LoadByLikes\r\n// } from \"../../actions/conceptsActions\";\r\n// import { setSelectedCategory, setSelectedItem, addTag } from \"../../actions/navbaractions\";\r\n// import { getAuthorGroups } from \"../../utilities\";\r\n// import Context from \"./Context/Context\";\r\n// import { getFilteredPerspectives, getUniqueKeywords, getSortedPerspectivesByLikes } from '../../selectors';\r\n// import queryString from \"query-string\";\r\n// import Axios from 'axios';\r\n// import { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\n\r\n// class ConceptsPage extends Component {\r\n//     a=1;\r\n//     devo=false;\r\n//     prevFirst=0;\r\n//     prevSecond=0;\r\n//     prevThird=0;\r\n//     countDown=0;\r\n//     countUp=0;\r\n//     AutherNotClicked=true;\r\n//     onceAuthorClicked=false;\r\n//     showAuthors=false\r\n\r\n//     prevScroll=0;\r\n    \r\n//     sortedByKewords=false\r\n//     allowDownScrollCallBack=false;\r\n//     keywordsdIndex=0\r\n//     upKeywordsIndex=0\r\n\r\n//     constructor(props) {\r\n    \r\n//         super(props);\r\n//         this.myRef = React.createRef();\r\n//         this.state = {\r\n//             query: \"\",\r\n//             filters: false,\r\n//             apiLoading: this.props.concepts.apiLoading,\r\n//             apiServerError: this.props.concepts.apiServerError,\r\n//             apiNetworkError: this.props.concepts.apiNetworkError,\r\n//             listRelatedData: this.props.concepts.listRelatedData,\r\n//             listRelatedLoading: this.props.concepts.listRelatedLoading,\r\n//             listRelatedServerError: this.props.concepts.listRelatedServerError,\r\n//             listRelatedNetworkError: this.props.concepts.listRelatedNetworkError,\r\n//             listRelated:true,\r\n//             listRelatedRole: 'list',\r\n//             selectedOption: this.props.navbar.selectedOption,\r\n//             perspectives: this.props.concepts.perspectives,\r\n//             keywords: this.props.concepts.keywords,\r\n//             concept: this.props.concepts.concept,\r\n//             authors: this.props.concepts.authors,\r\n//             sortedAuthors: this.props.concepts.sortedAuthors,\r\n//             sortedKeywords: this.props.uniqueKeywords,\r\n//             visibility: \"hidden\",\r\n//             keywordId: null,\r\n//             authorId: null,\r\n//             id: \"\",\r\n//             all: false,\r\n//             sortByAuthor: null,\r\n//             isLike: this.props.concepts.isLike,\r\n//             filteredPerspectives: this.props.filteredPerspectives,\r\n//             perspectiveLoading: false,\r\n//             offset:0,\r\n//             sortByLikes:false,\r\n//             prevOffset:1000,\r\n//             isScroll:true,\r\n//             keywordsClicked:false,\r\n//             viewport:\"\",\r\n//             finish:false,\r\n//             upScrollLock:false,\r\n//             upScrolling :false,\r\n//             firstPaddingTop:0,\r\n//             thirdPaddingTop:0,\r\n//             upScrollFilterLock:false\r\n//         };\r\n//         this.filterConceptDefinations = this.filterConceptDefinations.bind(this);\r\n//         this.onAuthorClick = this.onAuthorClick.bind(this);\r\n//         this.onListClick = this.onListClick.bind(this);\r\n//         this.onListRelatedClick = this.onListRelatedClick.bind(this);\r\n//         this.onRelatedClick = this.onRelatedClick.bind(this);\r\n//         this.toggleListRelated = this.toggleListRelated.bind(this);\r\n//         this.scrollDownPerspectiveHandler = this.scrollDownPerspectiveHandler.bind(this);\r\n//         this.scrollUpPerspectiveHandler = this.scrollUpPerspectiveHandler.bind(this);\r\n//         this.onLikeClick = this.onLikeClick.bind(this);\r\n//         this.handleScrollCallback = this.handleScrollCallback.bind(this);\r\n//         this.handleScrollCallbackJQUERY = this.handleScrollCallbackJQUERY.bind(this);\r\n//         this.loadPerspectivesByLikes=this.loadPerspectivesByLikes.bind(this)\r\n//         this.loadByAuthor=this.loadByAuthor.bind(this)\r\n//         this.handleThirdCallBack=this.handleThirdCallBack.bind(this);\r\n//         this.handleFirstCallback=this.handleFirstCallback.bind(this);\r\n//         this.handleSecondWheeel=this.handleSecondWheeel.bind(this);\r\n//         this.handleFirstWheeel=this.handleFirstWheeel.bind(this);\r\n//         this.handleWheeel=this.handleWheeel.bind(this);\r\n//         this.handleThirdWheeel=this.handleThirdWheeel.bind(this);\r\n//         this.showAll=this.showAll.bind(this);\r\n//         this.handleUpScroll=this.handleUpScroll.bind(this)\r\n//         if (this.props.navbar.selectedOption) {\r\n//             if (this.props.navbar.selectedOption.id) {\r\n//                 if (this.props.navbar.selectedOption.category == \"Concepts\") {\r\n//                     let concept = {\r\n//                         \"concept_id\": this.props.navbar.selectedOption.id,\r\n//                         \"filters\": this.props.navbar.tags.map(tag => tag.id),\r\n//                     };\r\n//                     this.props.getConceptFromApi(concept);\r\n//                     this.props.getListRelatedByConceptId(concept)\r\n//                 }\r\n//             }\r\n//         }\r\n//     }\r\n    \r\n//     showTargetElement = () => {\r\n//         // ... some logic to show target element\r\n        \r\n//         // 3. Disable body scroll\r\n//         disableBodyScroll(this.targetElement);\r\n//       };\r\n      \r\n//       hideTargetElement = () => {\r\n//         // ... some logic to hide target element\r\n        \r\n//         // 4. Re-enable body scroll\r\n//         enableBodyScroll(this.targetElement);\r\n//       }\r\n\r\n\r\n\r\n\r\n//     showAll()\r\n//     {\r\n//         this.offset=0;\r\n//         $(window).scrollTop(0);\r\n//         if(!this.state.sortByLikes)\r\n//         {\r\n//             let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n//             let authors = sortedAuthorIds.slice(0, 30);\r\n//             this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n//             this.showAuthors=true;\r\n//         }\r\n//         else\r\n//         {\r\n//             $(window).scrollTop(0);\r\n//         this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n        \r\n//         }\r\n\r\n//     }\r\n//     handleScrollCallbackJQUERY()\r\n//     {\r\n//         console.log(\"you called me\");\r\n//     }\r\n//     onListRelatedClick(listRelated) {\r\n//         let label = listRelated.relationary_supra;\r\n//         let value = label;\r\n//         let id = listRelated.relationary_thing_supra_id;\r\n//         let category = \"Concept-Clusters\";\r\n//         this.props.flushConceptState()\r\n//         this.props.setSelectedItem({ label, value, id, category });\r\n//     }\r\n//     getConcept = (concept_name) => {\r\n//         return new Promise((resolve, reject) => {\r\n//             Axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts?name=${concept_name}`).then(data => {\r\n//                 if (data.data.obj) {\r\n//                     let result = data.data.obj.selectedOption;\r\n//                     resolve(result);\r\n//                 }\r\n//                 resolve(null);\r\n//             }).catch(err => {\r\n//                 console.log(err);\r\n//             });\r\n//         });\r\n//     }\r\n//     async componentWillMount() {\r\n//         if (this.props.match.params.name) {\r\n//             if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n//                 let filters = [];\r\n//                 let queryFilters = queryString.parse(this.props.location.search).filters;\r\n//                 let concept_name = this.props.match.params.name;\r\n//                 if (typeof queryFilters === \"string\") {\r\n//                     filters.push(queryFilters);\r\n//                 } else {\r\n//                     filters = queryFilters;\r\n//                 }\r\n//                 this.setState({\r\n//                     query: concept_name,\r\n//                     filters: true\r\n//                 })\r\n//                 let result = await this.getConcept(concept_name);\r\n//                 let author_group = await getAuthorGroups(filters);\r\n//                 if (result) {\r\n//                     this.props.addTag(author_group);\r\n//                     this.props.setSelectedItem(result);\r\n//                     this.setState({\r\n//                         selectedOption: result,\r\n//                     });\r\n//                 } else {\r\n//                     this.props.history.push('/Message');\r\n//                 }\r\n\r\n//             } else {\r\n//                 let concept_name = this.props.match.params.name;\r\n//                 this.setState({\r\n//                     query: concept_name\r\n//                 });\r\n//                 let result = await this.getConcept(concept_name);\r\n//                 if (result) {\r\n//                     this.props.setSelectedItem(result);\r\n//                     this.setState({\r\n//                         selectedOption: result,\r\n//                     })\r\n//                 } else {\r\n//                     this.props.history.push('/Message');\r\n//                 }\r\n//             }\r\n//         }\r\n\r\n//     }\r\n//     componentWillReceiveProps(nextProps) {\r\n//         console.log(\"Recieving new Props\");\r\n//         this.setState({perspectiveLoading:false})\r\n\r\n\r\n//         if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n//             this.props.flushConceptState();\r\n//             this.setState({\r\n//                 apiLoading: nextProps.concepts.apiLoading,\r\n//                 apiServerError: nextProps.concepts.apiServerError,\r\n//                 apiNetworkError: nextProps.concepts.apiNetworkError,\r\n//                 conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n//                 conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n//                 orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n//                 sortedAuthors: nextProps.concepts.sortedAuthors,\r\n//                 sortedKeywords: nextProps.uniqueKeywords,\r\n//                 concept: nextProps.concepts.concept,\r\n//                 authors: nextProps.concepts.authors,\r\n//                 keywords: nextProps.concepts.keywords,\r\n//                 listRelatedData: nextProps.concepts.listRelatedData,\r\n//                 listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n//                 listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n//                 listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n//                 loading: nextProps.concepts.loading,\r\n//                 filteredPerspectives: nextProps.filteredPerspectives\r\n//                 //page_no: nextProps.concepts.page_no\r\n//             })\r\n//             if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n//                 this.setState({\r\n//                     selectedOption: nextProps.navbar.selectedOption,\r\n//                 });\r\n\r\n//                 let concept = {\r\n//                     \"concept_id\": nextProps.navbar.selectedOption.id,\r\n//                     \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n//                 };\r\n//                 this.props.getConceptFromApi(concept)\r\n//                 this.props.getListRelatedByConceptId(concept);\r\n//             }\r\n//         }\r\n//         else {\r\n//             this.setState({\r\n//                 apiLoading: nextProps.concepts.apiLoading,\r\n//                 apiServerError: nextProps.concepts.apiServerError,\r\n//                 apiNetworkError: nextProps.concepts.apiNetworkError,\r\n//                 conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n//                 conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n//                 orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n//                 perspectiveids: nextProps.concepts.perspectiveids,\r\n//                 keywords: nextProps.concepts.keywords,\r\n//                 listRelatedData: nextProps.concepts.listRelatedData,\r\n//                 listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n//                 listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n//                 listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n//                 loading: nextProps.concepts.loading,\r\n//                 sortedAuthors: nextProps.concepts.sortedAuthors,\r\n//                 sortedKeywords: nextProps.uniqueKeywords,\r\n//                 concept: nextProps.concepts.concept,\r\n//                 authors: nextProps.concepts.authors,\r\n//                 isLike: nextProps.concepts.isLike,\r\n//                 filteredPerspectives: nextProps.filteredPerspectives\r\n//                 // page_no: nextProps.concepts.page_no\r\n//             })\r\n//         }\r\n//         if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n//             if (nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n//                 let concept = {\r\n//                     \"concept_id\": this.state.selectedOption.id,\r\n//                     \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n//                 };\r\n//                 this.props.getConceptFromApi(concept)\r\n//                 this.props.getListRelatedByConceptId(concept);\r\n//             }\r\n\r\n//         }\r\n//         if (nextProps.concepts.sortedAuthorIds && nextProps.concepts.sortedAuthorIds.length > 0 && nextProps.concepts.perspectivesByAuthor) {\r\n//             let sortedAuthorIds = nextProps.concepts.sortedAuthorIds;\r\n//             if (!nextProps.concepts.initial) {\r\n//                 let authors = sortedAuthorIds.slice(0, 10);\r\n//                 // if(nextProps.isScrollLike)\r\n//                 // {\r\n            \r\n//                 //         this.a--;\r\n//                 //         this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false,false);\r\n                        \r\n//                 //         this.setState({sortByLikes:false})\r\n                        \r\n                    \r\n//                 // }\r\n//                 // else\r\n//                 // {\r\n//                 //     if(this.a==1)\r\n//                 //     {     \r\n//                 if(nextProps.isScrollLike)\r\n//                 {\r\n//                     this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n//                     this.showAuthors=false\r\n//                     // this.setState({isScrollByLike})\r\n//                 }\r\n//                 else\r\n//                 {\r\n//                     this.showAuthors=true\r\n//                     this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n//                 }\r\n\r\n                \r\n//                 //     }\r\n//                 //     else\r\n//                 //     this.a++;\r\n//                 // }\r\n//             }\r\n//         }\r\n//         if (nextProps.concepts.perspectivesByAuthor !== this.props.filteredPerspectives) {\r\n//             this.setState({\r\n//                 perspectiveLoading: false\r\n//             })\r\n//         }\r\n//         if (nextProps.sortByLikes !== this.props.sortByLikes){\r\n//             this.setState({\r\n//                 sortByLikes: nextProps.sortByLikes\r\n//             })\r\n//         }\r\n//     }\r\n//     componentDidUpdate() {\r\n//         // $('#favouriteSecond').css({position:'',bottom:0});\r\n//         // $('#thirdScr').add('offs',)f\r\n//         console.log(\"updated\");\r\n//         // if (this.state.sortByAuthor) {\r\n//             console.log(\"Set view port to id \",this.state.viewport);\r\n//             const element = document.getElementById(this.state.viewport);\r\n//             if (element) {\r\n//                 console.log(\"yes got this\");\r\n//                 element.scrollIntoView({ behavior: 'auto' });\r\n//                 $(window).scrollTop($(window).scrollTop()-100)\r\n//                 }\r\n//                 else\r\n//                 {\r\n//                     console.log(\"not got this\")\r\n//                 }\r\n//         // }\r\n//         // if(this.sortedByKewords )\r\n//         // {\r\n//         //     $(window).scrollTop(0)\r\n//         // }\r\n//         console.log($(window).scrollTop());\r\n//         if(!this.AutherNotClicked)\r\n//         {\r\n//             $(window).scrollTop($(window).scrollTop()-200)\r\n//         }\r\n//         console.log($(window).scrollTop());\r\n//         this.hideTargetElement();\r\n//         this.prevScroll=$(window).scrollTop()\r\n\r\n        \r\n//         //getSortedPerspectivesByLikes(this.state.filteredPerspectives);\r\n//         // this.allowDownScrollCallBack=true;\r\n\r\n\r\n//         console.log(\"windowScrlltop \",$(window).scrollTop())\r\n//         console.log(\"windowScrlltop \")\r\n//         console.log(\"windowScrlltop \")\r\n//         console.log(\"windowScrlltop \")\r\n//         console.log(\"windowScrlltop \")\r\n//         console.log(\"windowScrlltop \")\r\n//         console.log(\"windowScrlltop \")\r\n//     }\r\n//     handleWheeel(x)\r\n//     {\r\n//         if(x.deltaY<0)\r\n//         {\r\n//             this.hideTargetElement()\r\n//             console.log(\"scrolling up\")\r\n//         }\r\n//         else\r\n//         console.log(\"scrolling down\");\r\n\r\n//     }\r\n//     handleFirstWheeel(x)\r\n//     {\r\n\r\n//         const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n//         const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n//         const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n//         let diff=0;\r\n//         if(this.prevFirst>firstScroll.scrollTop)\r\n//         {\r\n//             diff=this.prevFirst-firstScroll.scrollTop;\r\n//             thirdScroll.scrollTop-=diff;\r\n//             element.scrollTop-=diff; \r\n        \r\n//         }\r\n//         else if(this.prevFirst==firstScroll.scrollTop)\r\n//         {\r\n//             if(x.deltaY>0)\r\n//             {\r\n//                 element.scrollTop+=100;\r\n//                 thirdScroll.scrollTop+=100\r\n//             }\r\n//             else\r\n//             {\r\n//                 element.scrollTop-=100;\r\n//                 thirdScroll.scrollTop-=100\r\n//             }\r\n//         }\r\n//         else\r\n//         {\r\n//             diff=firstScroll.scrollTop-this.prevFirst;\r\n//             element.scrollTop+=diff;\r\n//             thirdScroll.scrollTop+=diff\r\n            \r\n            \r\n//         }\r\n//         this.prevThird=thirdScroll.scrollTop;\r\n//         this.prevFirst=firstScroll.scrollTop;\r\n//         this.prevSecond=element.scrollTop;  \r\n\r\n//     }\r\n//     handleFirstCallback()\r\n//     {\r\n       \r\n//     }\r\n//     handleThirdWheeel(x)\r\n//     {\r\n\r\n    \r\n//             const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n//         const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n//         const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n//         let diff=0;\r\n//         if(this.prevThird>thirdScroll.scrollTop)\r\n//         {\r\n//             diff=this.prevThird-thirdScroll.scrollTop;\r\n//             firstScroll.scrollTop-=diff;\r\n//             element.scrollTop-=diff; \r\n        \r\n//         }\r\n        \r\n//         else if(this.prevThird==thirdScroll.scrollTop)\r\n//         {\r\n\r\n//             if(x.deltaY>0)\r\n//             {\r\n//                 element.scrollTop+=100;\r\n//                 if(!this.state.perspectiveLoading)\r\n//                 {\r\n//                     firstScroll.scrollTop+=100\r\n//                 }\r\n                \r\n                \r\n//             }\r\n//             else\r\n//             {\r\n//                 element.scrollTop-=100;\r\n//                 firstScroll.scrollTop-=100\r\n//             }\r\n        \r\n//         }\r\n        \r\n//         else\r\n//         {\r\n//             diff=thirdScroll.scrollTop-this.prevThird;\r\n//             element.scrollTop+=diff;   \r\n//             if(!this.state.perspectiveLoading)\r\n//             {\r\n//                 firstScroll.scrollTop+=diff;\r\n//             }\r\n            \r\n            \r\n//         }\r\n//         this.prevThird=thirdScroll.scrollTop;\r\n//         this.prevFirst=firstScroll.scrollTop;\r\n//         this.prevSecond=element.scrollTop; \r\n        \r\n\r\n        \r\n//     }\r\n//     handleThirdCallBack()\r\n//     {\r\n//         const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n      \r\n//     }\r\n//     handleSecondWheeel(x)\r\n//     {\r\n//         if(!this.state.perspectiveLoading)\r\n//         {\r\n            \r\n//         const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n//         const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n//         const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n          \r\n//         // thirdScroll.scrollTop=element.scrollTop;\r\n//         // firstScroll.scrollTop=element.scrollTop;\r\n        \r\n        \r\n            \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n//             // let diff=0;\r\n//             //     if(this.prevSecond>element.scrollTop)\r\n//             //     {\r\n               \r\n//             //         diff=this.prevSecond-element.scrollTop;\r\n                  \r\n               \r\n//             //         thirdScroll.scrollTop-=diff;\r\n//             //         firstScroll.scrollTop-=diff; \r\n                \r\n//             //     }\r\n//             //  else  if(this.prevSecond==element.scrollTop)\r\n//             //     {\r\n                    \r\n                    \r\n//             //         if(x.deltaY>0)\r\n//             //         {\r\n//             //             thirdScroll.scrollTop+=100;\r\n//             //            firstScroll.scrollTop+=100; \r\n                \r\n//             //         }\r\n//             //         else\r\n//             //         {\r\n//             //             thirdScroll.scrollTop-=100;\r\n//             //            firstScroll.scrollTop-=100; \r\n                \r\n//             //         } \r\n                \r\n//             //     }\r\n//             //     else\r\n//             //     {\r\n//             //         diff=element.scrollTop-this.prevSecond;\r\n//             //         thirdScroll.scrollTop+=diff  \r\n//             //         firstScroll.scrollTop+=diff\r\n                    \r\n                    \r\n//             //     }s\r\n//             // this.prevSecond=element.scrollTop;\r\n//             // this.prevFirst=firstScroll.scrollTop;\r\n//             // this.prevThird=thirdScroll.scrollTop;  \r\n//         }\r\n//     }\r\n//     handleScrollCallback() {\r\n    \r\n//         this.handleUpScroll();\r\n//         var windowHeight = $(window).height();\r\n//         var scrollHeight = $(window).scrollTop();\r\n//         console.log(\"Scroll Top is\",windowHeight + scrollHeight)\r\n//         console.log(\"Right Bar Height is \",$('#firstInnerScr').outerHeight())\r\n\r\n//         // console.log(\"keywords clicked is \",this.state.keywordsClicked)\r\n        \r\n        \r\n//         // console.log(\"Scroll top is \",scrollHeight);\r\n           \r\n//         if(this.onceAuthorClicked)\r\n//         {\r\n//             this.onceAuthorClicked=false\r\n//             $(window).scrollTop($(window).scrollTop()-40);\r\n//         }\r\n//         if($(window).scrollTop()>this.prevScroll)\r\n//         {\r\n//             //Down Scrolling\r\n//             console.log(\"fixing\",scrollHeight)\r\n\r\n//             if(this.state.upScrolling)\r\n//             {\r\n//                 console.log(\"setting padding 0\",paddingTop)\r\n\r\n//                 let paddingTop=scrollHeight;\r\n//                  $('.right').css({\r\n//                 position: 'static',\r\n//                 left: '',\r\n//                 bottom: '',\r\n//                 paddingTop:paddingTop\r\n//                 })\r\n//                 $('.left').removeClass(\"offset-md-3\")\r\n                \r\n//                 $('#thirdInnerScr').css({\r\n//                     position: 'static',\r\n//                     left: '',\r\n//                     bottom: '',\r\n//                     paddingTop:paddingTop\r\n//                 })\r\n                \r\n//                 this.setState({\r\n//                     upScrolling:false,\r\n//                     firstPaddingTop:paddingTop,\r\n//                     thirdPaddingTop:paddingTop,\r\n//                     viewport:\"\"\r\n//                 })\r\n//         }\r\n\r\n//             if(this.state.keywordsClicked)\r\n//         {\r\n//             console.log(\"inside\")\r\n//             var rightBarHeight = $('#favouriteSecond').outerHeight();\r\n//             var rightBarTop = 30; \r\n//             if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n//                 rightBarTop = windowHeight - rightBarHeight;\r\n//             }\r\n//             console.log(\"will\",(windowHeight + scrollHeight))\r\n//             console.log(\"by\",rightBarHeight)\r\n//             if((windowHeight + scrollHeight) >=rightBarHeight)\r\n//             {\r\n//                 // this.setState({perspectiveLoading:true})\r\n//                 // this.showTargetElement();\r\n             \r\n//                 console.log(\"index of uniquey keywords is \",this.keywordsdIndex)\r\n//                 let concepts =this.state.sortedKeywords.slice(this.keywordsdIndex,this.keywordsdIndex+6);\r\n//                 console.log(\"New Concepts will be\",concepts);\r\n            \r\n//                 // this.setState({keywordsdIndex:this.keywordsdIndex+6})\r\n//                 this.keywordsdIndex+=6\r\n//                 let conceptIds=concepts.map(concept => concept.id)\r\n//                 console.log(\"ids are\",conceptIds);\r\n//                 this.setState({viewport:\"\"})\r\n//                 this.props.getConceptPerspectivesByKeywords(conceptIds,true)\r\n\r\n\r\n//                     console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ rightBarHeight);\r\n\r\n//                     // this.scrollDownPerspectiveHandler();\r\n                \r\n//             }\r\n//             else\r\n//             {\r\n//                 // alert('hello')\r\n//                 console.log(\"hello\");\r\n//                 // this.allowDownScrollCallBack=true;\r\n//             }\r\n\r\n//         }\r\n\r\n//             if((windowHeight + scrollHeight) >= $('#favouriteSecond').innerHeight()/100*85)\r\n//             {\r\n//                 if(this.allowDownScrollCallBack)\r\n//                 {\r\n//                     // console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ $('#favouriteSecond').innerHeight()/100*85);\r\n//                     this.allowDownScrollCallBack=false;\r\n//                   if(!this.sortedByKewords)\r\n//                   {\r\n//                       this.setState({viewport:\"\"})\r\n//                       console.log(\"Down state is \",this.props.concepts);\r\n//                     if(!this.props.concepts.finish)\r\n//                     this.scrollDownPerspectiveHandler();\r\n//                   }\r\n//                 }\r\n\r\n\r\n    \r\n//             }\r\n//             else\r\n//             {\r\n//                 this.allowDownScrollCallBack=true;\r\n//             }\r\n//         }\r\n//         else\r\n//         {\r\n        \r\n//             // $('.right').css({\r\n//             //     position: 'static',\r\n//             //     left: '',\r\n//             //     bottom: ''\r\n//             // })\r\n//             // $('.left').removeClass(\"offset-md-3\")\r\n//             let paddingTop=0;\r\n//             console.log(\"position is \",$('.right').css('position'))\r\n//             if(!this.state.upScrollFilterLock )\r\n//             {\r\n                \r\n//               paddingTop=(windowHeight + scrollHeight)-$('#firstInnerScr').outerHeight()\r\n        \r\n//             }\r\n//             else if( $('.right').css('position')==='fixed')\r\n//             {\r\n                \r\n//             //   paddingTop=(windowHeight + scrollHeight)-$('#firstInnerScr').outerHeight()\r\n        \r\n//             } \r\n//             let thirdPaddingTop=0;\r\n//             console.log(\"position is \",$('#thirdInnerScr').css('position'))\r\n//             if(!this.state.upScrollFilterLock )\r\n//             {\r\n                \r\n//                 thirdPaddingTop=(windowHeight + scrollHeight)-$('#thirdInnerScr').outerHeight()\r\n        \r\n//             }\r\n//             else if( $('#thirdInnerScr').css('position')==='fixed')\r\n//             {\r\n                \r\n//                 // thirdPaddingTop=(windowHeight + scrollHeight)-$('#thirdInnerScr').outerHeight()\r\n        \r\n//             }\r\n//             // alert(thirdPaddingTop)\r\n//             console.log(\"setting padding \",thirdPaddingTop)\r\n//             console.log(\"fixing\",thirdPaddingTop)\r\n            \r\n//             if(!this.state.upScrolling )\r\n//             {\r\n//                 this.setState({upScrolling:true,firstPaddingTop:paddingTop,thirdPaddingTop:thirdPaddingTop})\r\n//                 $('.right').css({\r\n//                 position: 'static',\r\n//                 left: '',\r\n//                 bottom: '',\r\n//                 paddingTop:paddingTop,\r\n        \r\n//             })\r\n//             $('.left').removeClass(\"offset-md-3\")\r\n//             console.log(\"fixing\",thirdPaddingTop)\r\n            \r\n//             $('#thirdInnerScr').css({\r\n//                 position: 'static',\r\n//                 left: '',\r\n//                 bottom: '',\r\n//                 paddingTop:thirdPaddingTop\r\n//             })\r\n//             }\r\n//             console.log(\"WindowHeight + RightBarHeight\",(windowHeight + $('#firstInnerScr').outerHeight()))\r\n//             console.log(\"Scroll Height is \",scrollHeight)\r\n//             if((windowHeight + this.state.firstPaddingTop) >= scrollHeight){\r\n//                 // console.log(\"line  710\")            \r\n//                 console.log(\"setting padding 0\")\r\n//                 console.log(\"fixing\")\r\n                \r\n//                 $('#firstScr').css({\r\n//                     paddingTop:0,\r\n//                     position:'fixed',\r\n//                     // top:0\r\n                    \r\n                    \r\n//                 })\r\n//                 if($(window).height()<$('#firstInnerScr').innerHeight() && !this.state.upScrollLock)\r\n//                 {\r\n                    \r\n//                     // $('#firstScr').css({\r\n//                     //     bottom:'0'\r\n//                     // })  \r\n//                 }\r\n//                 $('.left').addClass(\"offset-md-3\")\r\n            \r\n//             }\r\n//             if((windowHeight + this.state.thirdPaddingTop) >= scrollHeight){\r\n//                 // console.log(\"line  710\")            \r\n//                 console.log(\"setting padding 0\")\r\n//                 console.log(\"fixing\")\r\n                \r\n//                 $('#thirdInnerScr').css({\r\n//                     paddingTop:0,\r\n//                     position:'fixed',\r\n//                     // top:0\r\n                    \r\n//                 })\r\n//                 if($(window).height()<$('#firstInnerScr').innerHeight() && !this.state.upScrollLock)\r\n//                 {\r\n                    \r\n//                     // $('#firstScr').css({\r\n//                     //     bottom:'0'\r\n//                     // })  \r\n//                 }\r\n//                 // $('.left').addClass(\"offset-md-3\")\r\n            \r\n//             }\r\n//             console.log(\"scrolling up\");\r\n//             if($(window).scrollTop()-200<0)\r\n//             {\r\n//                 if(this.state.keywordsClicked)\r\n//                 {\r\n//                     if(!this.state.perspectiveLoading)\r\n//                     {\r\n//                         console.log(\"perspective loading is \",this.state.perspectiveLoading)\r\n//                     //Up Scroll For keyWords\r\n//                     console.log(\"Calling up for keywordss\",this.upKeywordsIndex);\r\n//                     console.log(\"and \",this.keywordsdIndex)\r\n//                     if(this.upKeywordsIndex>0)\r\n//                     {\r\n                        \r\n//                     // this.setState({sortByAuthor:this.state.sortedPerspectives[0]})\r\n                    \r\n//                         console.log(\"calling scrollCallBack\")\r\n//                         let UpConcepts=[]\r\n//                         if(this.upKeywordsIndex-5<0)\r\n//                         {\r\n//                             console.log(\"calling this\");\r\n//                             UpConcepts=this.state.sortedKeywords.slice(0,this.upKeywordsIndex)\r\n//                         }\r\n//                         else\r\n//                         {\r\n//                             console.log(\"dcallin\")\r\n//                             UpConcepts=this.state.sortedKeywords.slice(this.upKeywordsIndex-5,this.upKeywordsIndex)\r\n//                         }\r\n\r\n//                         // this.index=5+index;\r\n//                         console.log(\"Setting view prot \",this.state.sortedKeywords[this.upKeywordsIndex].name)\r\n//                         this.setState({\r\n//                             viewport:this.state.sortedKeywords[this.upKeywordsIndex].name,\r\n//                             perspectiveLoading:true,\r\n//                             upScrollLock:true,\r\n//                             upScrollFilterLock:true\r\n//                         })\r\n                    \r\n//                         this.upKeywordsIndex=this.upKeywordsIndex-5\r\n                        \r\n//                         let conceptIds=UpConcepts.map(concept => concept.id)\r\n//                         //Up Scroll lock on First Column\r\n                       \r\n\r\n//                         //Fixing Column 1\r\n//                         console.log(\"fixing\")\r\n                        \r\n//                         $('#firstScr').css({\r\n//                             position:'fixed'\r\n//                         })\r\n\r\n                        \r\n//                         $('.left').addClass(\"offset-md-3\")\r\n                        \r\n//                         //Fixing Column 3\r\n//                         console.log(\"fixing\")\r\n//                         $('#thirdInnerScr').css({\r\n//                             position:'fixed'\r\n//                         })\r\n                        \r\n                        \r\n//                         this.props.getConceptPerspectivesByKeywords(conceptIds,true,true)\r\n                                                         \r\n                        \r\n//                     }\r\n//                     }\r\n//                 }\r\n//                 else\r\n//                 {\r\n//                     this.scrollUpPerspectiveHandler();\r\n            \r\n//                 }\r\n//             }\r\n\r\n//         }\r\n//         this.prevScroll=$(window).scrollTop()\r\n\r\n\r\n\r\n\r\n//         // For First Column\r\n//         var rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n//         var rightBarHeight = $('#firstInnerScr').outerHeight();\r\n//         // var rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n//         var rightBarTop = 30; //30 because .head is 30px high\r\n//         if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n//             rightBarTop = windowHeight - rightBarHeight;\r\n//         }\r\n        \r\n//         if(!this.state.upScrolling)\r\n//         {\r\n            \r\n            \r\n//             if((windowHeight + scrollHeight) >= rightBarHeight){\r\n//                 console.log(\"line 820\")\r\n//                 console.log(\"setting padding 0\")\r\n//                 $('#firstScr').css({\r\n//                     position:'fixed',\r\n//                     paddingTop:0,\r\n//                     bottom:0\r\n//                 })\r\n\r\n//                 this.setState({\r\n//                     firstPaddingTop:0\r\n//                 })\r\n                \r\n//                 if($(window).height()<$('#firstInnerScr').innerHeight() && !this.state.upScrollLock)\r\n//                 {\r\n                    \r\n//                     $('#firstScr').css({\r\n//                         bottom:'0'\r\n//                     })  \r\n//                 }\r\n//                 $('.left').addClass(\"offset-md-3\")\r\n            \r\n//             }\r\n            \r\n//         else{\r\n//             console.log(\"Scroll Lock is \",this.state.upScrollLock)\r\n//             // if(!this.state.upScrollLock)\r\n//             // {\r\n//                 if(!this.upScrollFilterLock)\r\n//                 {\r\n                    \r\n//                     console.log(\"line 841\")\r\n\r\n//                     $('.right').css({\r\n//                     position: 'static',\r\n//                     left: '',\r\n//                     bottom: ''\r\n//                 })\r\n//                 $('.left').removeClass(\"offset-md-3\")\r\n//                 }\r\n//             // }\r\n            \r\n//         }\r\n//         }\r\n//         // For Third Column\r\n//         windowHeight = $(window).height();\r\n//          scrollHeight = $(window).scrollTop();\r\n//          rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n//          rightBarHeight = $('#thirdInnerScr').outerHeight();\r\n//         //  rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n//          rightBarTop = 30; //30 because .head is 30px high\r\n//         if(windowHeight - 30 < rightBarHeight){ //Again including 30 because of .head\r\n//             rightBarTop = windowHeight - rightBarHeight;\r\n//         }\r\n//         // console.log(\"First Value is \",$(window).height());\r\n//         // console.log(\"Value is \",$('#thirdInnerScr').innerHeight());\r\n        \r\n        \r\n//         if(!this.state.upScrolling)\r\n//         {\r\n            \r\n            \r\n//             if((windowHeight + scrollHeight) >= rightBarHeight){\r\n//                 console.log(\"line 820\")\r\n//                 console.log(\"setting padding 0\")\r\n//                 $('#thirdInnerScr').css({\r\n//                     position:'fixed',\r\n//                     paddingTop:0,\r\n//                     // bottom:0\r\n//                 })\r\n\r\n//                 this.setState({\r\n//                     thirdPaddingTop:0,\r\n//                     viewport:''\r\n//                 })\r\n                \r\n//                 if($(window).height()<$('#thirdInnerScr').innerHeight() && !this.state.upScrollLock)\r\n//                 {\r\n                    \r\n//                     $('#thirdInnerScr').css({\r\n//                         bottom:'0'\r\n//                     })  \r\n//                 }\r\n            \r\n//             }\r\n            \r\n//         else{\r\n//             console.log(\"Scroll Lock is \",this.state.upScrollLock)\r\n//             // if(!this.state.upScrollLock)\r\n//             // {\r\n//                 if(!this.upScrollFilterLock)\r\n//                 {\r\n                    \r\n//                     console.log(\"line 943\")\r\n\r\n//                     $('#thirdInnerScr').css({\r\n//                     position: 'static',\r\n//                     left: '',\r\n//                     bottom: ''\r\n//                 })\r\n//                 // $('.left').removeClass(\"offset-md-3\")\r\n                \r\n                \r\n                \r\n            \r\n            \r\n//             }\r\n//             // }\r\n            \r\n//         }\r\n//         }\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n//         // if((windowHeight + scrollHeight) >= rightBarHeight){\r\n//         //     $('#thirdInnerScr').css({\r\n//         //         position:'fixed'\r\n//         //     })\r\n//         //     if($(window).height()<$('#thirdInnerScr').innerHeight() && !this.state.upScrollLock)\r\n//         //     {\r\n                \r\n//         //         $('#thirdInnerScr').css({\r\n//         //             bottom:'0'\r\n//         //         })  \r\n//         //     }\r\n//         //     // $('.left').addClass(\"offset-md-3\")\r\n        \r\n//         // }\r\n//         // else{\r\n//         //  if(!this.state.upScrollLock)\r\n//         //  {\r\n//         //         // console.log(\"About to remove\")\r\n//         //         $('#thirdInnerScr').css({\r\n//         //             position: 'static',\r\n//         //             left: '',\r\n//         //             bottom: ''\r\n//         //         })\r\n//         //         // $('.left').removeClass(\"offset-md-3\")\r\n                \r\n//         //  }\r\n//         // }\r\n    \r\n    \r\n\r\n\r\n\r\n\r\n\r\n//         // var scrollHeight = $(\"#thirdScr\").height();\r\n//     \t// var scrollPosition = $(window).height() + $(window).scrollTop();\r\n//         // console.log(\"scrolling\",$('#firstScr').innerHeight());\r\n        \r\n//         // console.log(\"height is \",$(window).innerHeight());\r\n//         // console.log(\"third src \",$(\"#thirdScr\").innerHeight())\r\n//         // $('#firstScr').css('background-color','red');\r\n        \r\n        \r\n//         // console.log(\"Window Scroll Top\",$(window).scrollTop())\r\n//         // console.log(\"Window inner height is \",$('#favouriteSecond').innerHeight()-500);\r\n//         // if($(window).scrollTop()==$('#favouriteSecond').innerHeight()-5000)\r\n//         // {\r\n//         //     this.scrollDownPerspectiveHandler();\r\n\r\n//         // }\r\n//         // if($(window).scrollTop()==0)\r\n//         // {\r\n//         //     if(!this.sortedByKewords)\r\n//         //     {\r\n//         //         this.scrollUpPerspectiveHandler();\r\n//         //     }   \r\n//         // }\r\n//         // if(this.AutherNotClicked)\r\n//         // {\r\n//         //     if($(window).scrollTop()+$(window).height()>=$('#thirdScr').innerHeight())\r\n//         // {\r\n//         //     $('#thirdScr').css('position','fixed');\r\n//         //     if($('#thirdScr').innerHeight()>$(window).innerHeight())\r\n//         //     {\r\n//         //         $('#thirdScr').css('bottom','0');\r\n\r\n//         //     }\r\n//         //     // $('#thirdScr').css('paddingLeft','40px');\r\n            \r\n\r\n\r\n//         //     $(\"#thirdScr\").css('paddingBottom','50px')\r\n//         //     // console.log(\"End reached\");\r\n//         // }\r\n//         // else\r\n//         // {\r\n//         //     $('#thirdScr').css('paddingLeft','');\r\n//         //     $('#thirdScr').css('position','');\r\n//         //     $('#thirdScr').css('bottom','');\r\n \r\n//         //     // console.log(\"attock\");\r\n//         // }\r\n        \r\n//     //     if($(window).scrollTop()+352>=$('#thirdScr').innerHeight())\r\n//     // {\r\n//     //     $('#thirdScr').css('position','fixed');\r\n//     //     if($('#thirdScr').innerHeight()>$(window).innerHeight())\r\n//     //     {\r\n//     //         $('#thirdScr').css('bottom','0');\r\n\r\n//     //     }\r\n//     //     // $('#thirdScr').css('paddingLeft','40px');\r\n        \r\n\r\n\r\n//     //     $(\"#thirdScr\").css('paddingBottom','50px')\r\n//     //     console.log(\"End reached\");\r\n//     // }\r\n//     // else\r\n//     // {\r\n//     //     $('#thirdScr').css('paddingLeft','');\r\n//     //     $('#thirdScr').css('position','');\r\n\r\n//     //     console.log(\"attock\");\r\n//     // }\r\n//         //    console.log(\"Issues\",$(window).scrollTop()+$(window).height());\r\n//         //    console.log(\"Fro \",$('#favourite').innerHeight()) \r\n//         // if($(window).scrollTop()+$(window).height()>=$('#firstInnerScr').innerHeight())\r\n//         // {\r\n            \r\n//         //     $('#firstScr').css('position','fixed');\r\n//         //     if($(window).innerHeight()<=$('#firstInnerScr').innerHeight())\r\n//         //     {\r\n//         //          $('#firstScr').css('bottom','0');\r\n           \r\n//         //     }\r\n//         //     $(\"#firstScr\").css('paddingBottom','50px')\r\n//         //     $('#secondScr').addClass('offset-md-3')\r\n//         //     this.scrollDownPerspectiveHandler();\r\n//         //     // console.log(\"DownSide Up\")\r\n\r\n//         // }\r\n//         // else\r\n//         // {\r\n//         //     $('#firstScr').css('bottom','');\r\n//         //     $('#firstScr').css('position','');\r\n//         //     $('#secondScr').removeClass('offset-md-3')\r\n//         //     // console.log(\"Up side Down\");\r\n//         // }\r\n//         // }\r\n//         // else\r\n//         // {\r\n//         //     let diff=this.prevSecond-$(window).scrollTop();\r\n            \r\n//         //     this.prevFirst+=diff;\r\n//         //     this.prevThird+=diff;\r\n//         //     $('#firstScr').scrollTop(500);\r\n//         //     $('#thirdScr').scrollTop(500)\r\n//         //     this.prevFirst=$(window).scrollTop();\r\n//         //     this.prevThird=$(window).scrollTop();\r\n//         //     this.prevSecond=$(window).scrollTop();\r\n        \r\n\r\n//         // }\r\n        \r\n        \r\n\r\n\r\n\r\n        \r\n//         // const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n//         // const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n//         // const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n//         // console.log(element.scrollTop);\r\n//         // this.prevFirst=firstScroll.scrollTop;\r\n//         // this.prevSecond=element.scrollTop;\r\n//         // this.prevThird=thirdScroll.scroll;\r\n\r\n//         // console.log(\"Positions are\",this.prevFirst);\r\n//         // console.log(\"previous seconds\",this.prevSecond);\r\n//         // console.log(\"This\",this.prevThird);\r\n\r\n\r\n\r\n\r\n\r\n//         // if (!this.state.sortByKeywordId) {\r\n//         //     if (\r\n//         //         element.scrollTop + element.clientHeight >=\r\n//         //         element.scrollHeight-1\r\n//         //     ) {\r\n//         //         this.scrollDownPerspectiveHandler();\r\n//         //     }\r\n//         //     if (element.scrollTop <= 0) {\r\n//         //         if (this.state.sortByAuthor) {\r\n//         //             this.scrollUpPerspectiveHandler();\r\n//         //         }\r\n//         //     }\r\n//         // }\r\n        \r\n//     }\r\n//     componentDidMount() {\r\n\r\n        \r\n\r\n//         // $(window).scroll(this.handleScrollCallback());\r\n\r\n\r\n//         // $(window).bind('mousewheel', function(e){\r\n//         //     if(e.originalEvent.wheelDelta > 0)\r\n//         //     {\r\n//         //         console.log(\"upScroll\")\r\n//         //         this.handleScrollCallbackJQUERY();\r\n//         //     }\r\n//         //     else\r\n//         //     {\r\n//         //        console.log(\"Down SCroll\")\r\n//         //     }\r\n//         // });\r\n\r\n//         // var sc=ReactDOM.findDOMNode(this.refs.myscroll);\r\n//         // if(sc)\r\n//         // {\r\n//         //         sc.addEventListener('scroll', this.handleScrollCallback);\r\n//         //  }\r\n//         //  this.setState({\r\n//         //      isScroll:true\r\n//         //  })\r\n//          window.addEventListener('scroll', this.handleScrollCallback, true);\r\n//          window.addEventListener('mousewheel', (e) => {\r\n//             if(e.deltaY<0)\r\n//             {\r\n//                //UpScroll\r\n                \r\n\r\n//             }\r\n//             else\r\n//             {\r\n//                 console.log(\"got state\",this.state.upScrollLock)\r\n//                 //down Scrll\r\n//                 if(this.state.upScrollLock)\r\n//                 {\r\n//                     this.setState({upScrollLock:false})\r\n//                 }\r\n\r\n//             }\r\n\r\n\r\n//          }, true);\r\n//          window.addEventListener('keydown', (e) => {\r\n//             console.log(\"key is \",e)\r\n//             if(e.keyCode===40)\r\n//             {\r\n//                 if(this.state.upScrollLock)\r\n//                 {\r\n//                     this.setState({upScrollLock:false})\r\n//                 }\r\n//             }\r\n\r\n//          }, true);\r\n//         //  $(document).keydown(function(e) {\r\n//         //     console.log(e.keyCode);\r\n//         // });\r\n\r\n\r\n\r\n\r\n\r\n//     }\r\n    \r\n//     handleUpScroll() {\r\n//         if(this.state.keywordsClicked)\r\n//         {\r\n//             console.log(\"Allowing the Body to scroll up\");\r\n//             this.hideTargetElement()\r\n//         }\r\n//     }\r\n//     toggleListRelated() {\r\n//         this.setState({\r\n//             listRelated: !this.state.listRelated,\r\n//         })\r\n//     }\r\n//     onListClick() {\r\n//         this.setState({\r\n//             listRelatedRole: 'list'\r\n//         })\r\n//         // this.toggleListRelated();\r\n//     }\r\n//     onRelatedClick() {\r\n//         this.setState({\r\n//             listRelatedRole: 'related',\r\n//         })\r\n//         // this.toggleListRelated();\r\n//     }\r\n//     onLikeClick(id) {\r\n//         // this.setState({viewport:\"\"})\r\n//     let index=this.state.filteredPerspectives.findIndex(x => x.id==id)\r\n//     let oldState=this.state.filteredPerspectives;\r\n    \r\n//     if (this.state.filteredPerspectives[index].isLike) {\r\n\r\n//             this.props.decreasePerspectiveLike(id);\r\n//             oldState[index].loves=--oldState[index].loves;\r\n        \r\n//         }\r\n//         else {\r\n//             this.props.increasePerspectiveLike(id);\r\n//             oldState[index].loves=++oldState[index].loves;\r\n            \r\n        \r\n//         }\r\n        \r\n//         oldState[index].isLike=!oldState[index].isLike;\r\n        \r\n//         // this.setState({filteredPerspectives:oldState})\r\n//     }\r\n//     onAuthorClick(author) {\r\n//         let label = author.author_first + \" \" + author.author_last;\r\n//         let value = label;\r\n//         let id = author.auth_id;\r\n//         let born = author.born;\r\n//         let died = author.died;\r\n//         let category = \"Authors\"\r\n//         this.props.flushConceptState()\r\n//         this.props.setSelectedItem({ label, value, id, born, died, category });\r\n//     }\r\n//     filterConceptDefinations(keyword_id) {\r\n//         let rtn = [];\r\n//         this.state.orignalConceptsWithDetails.forEach(element => {\r\n//             if (element.keywords_id == keyword_id) {\r\n//                 rtn.push(element);\r\n//             }\r\n//         });\r\n//         this.setState({\r\n//             conceptsWithDetails: rtn,\r\n//         })\r\n//     }\r\n//     loadPerspectivesByLikes()\r\n//     {\r\n//         $(window).scrollTop(0);\r\n//         this.setState({keywordsClicked:false})\r\n//         this.keywordsClicked=false;\r\n//         this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n                   \r\n//         // if(!this.state.sortByLikes)\r\n//         // {\r\n//         //     this.props.getConceptPerspectivesByLikes(this.state.selectedOption,this.props.offset,false);\r\n//         // }\r\n//         // const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n//         // element.scrollTop=0;\r\n//     }\r\n//     loadPerspectivesByAuthor() {\r\n        \r\n//         // $(window).scrollTop(30);\r\n//         // console.log(\"Variables are\",$(window).scrollTop());\r\n//         this.keywordsClicked=false\r\n//         this.prevFirst=$(window).scrollTop();\r\n//         this.prevThird=$(window).scrollTop();\r\n//         this.prevSecond=$(window).scrollTop();\r\n//         this.AutherNotClicked=false;\r\n//         this.onceAuthorClicked=true;\r\n\r\n        \r\n//         // $('#thirdScr').css('position','fixed');\r\n//         // if($('#thirdScr').innerHeight()>$(window).innerHeight())\r\n//         // {\r\n//         //     $('#thirdScr').css('overflow','scroll');\r\n\r\n//         // }\r\n//         // $('#thirdScr').css('paddingLeft','40px');\r\n        \r\n\r\n\r\n//         // $(\"#thirdScr\").css('paddingBottom','50px')\r\n        \r\n//         // $('#firstScr').css('position','fixed');\r\n//         // // $('#firstScr').css('bottom','0');\r\n//         // $(\"#firstScr\").css('paddingBottom','50px')\r\n//         // $('#secondScr').addClass('offset-md-3')\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//         let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n//         let perspectives = this.state.filteredPerspectives;\r\n//         let includes = false;\r\n//         for (let p of perspectives) {\r\n//             if (p.Author == this.state.authorId) {\r\n//                 includes = true;\r\n//                 break;\r\n//             }\r\n//         }\r\n//         if (!includes) {\r\n//             let index = sortedAuthorIds.indexOf(this.state.authorId);\r\n//             let authors = [];\r\n//             let beginners = sortedAuthorIds.slice(index - 5, index);\r\n//             let last = sortedAuthorIds.slice(index + 1, index + 5)\r\n//             authors.push(...beginners, sortedAuthorIds[index], ...last);\r\n//             this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id)\r\n//         } else {\r\n//             this.setState({\r\n//                 sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].lastName]\r\n//             })\r\n//         }\r\n//     }\r\n//     scrollDownPerspectiveHandler() {\r\n//             console.log(\"down called\");\r\n//             if(this.state.sortByLikes)\r\n//             {\r\n//                 // console.log(\"mergingd\",this.state.prevOffset);\r\n//                 // console.log(\"other\",this.props.offset)\r\n//                 if(this.state.prevOffset!==this.props.offset)\r\n//                 {\r\n//                     this.setState({\r\n//                         perspectiveLoading:true,\r\n//                     })\r\n//                     this.props.getConceptPerspectivesByLikes(this.state.selectedOption,this.props.offset,true);\r\n//                     this.setState({calledapi:false})\r\n//                     this.state.prevOffset=this.props.offset\r\n//                 }\r\n//             }\r\n//             else\r\n//             {\r\n                \r\n//                 let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n//                 let perspectives = this.state.filteredPerspectives;\r\n//                 let index = sortedAuthorIds.indexOf(perspectives[perspectives.length - 1].Author)\r\n//                 let authors = sortedAuthorIds.slice(index + 1, index + 50);\r\n//                 console.log(authors);\r\n//                 if(authors.length>0)\r\n//                 {\r\n//                     this.setState({\r\n//                         perspectiveLoading: true,\r\n//                         // sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].Author].lastName,\r\n//                         sortByAuthor:null\r\n//                     })\r\n//                     this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n            \r\n//                 }\r\n//                 else\r\n//                 {\r\n//                     this.setState({\r\n//                         perspectiveLoading: false,\r\n//                         // sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].Author].lastName,\r\n//                         sortByAuthor:null\r\n//                     })\r\n//                 }\r\n//             }\r\n         \r\n//     }\r\n//     scrollUpPerspectiveHandler() {\r\n\r\n//         console.log(\"setting positon fixed\")\r\n//             if(!this.state.sortByLikes)\r\n//             {\r\n//                 if(this.state.filteredPerspectives)\r\n//                 {\r\n                    \r\n//                     let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n//                     let perspectives = this.state.filteredPerspectives;\r\n//                     let index = sortedAuthorIds.indexOf(perspectives[0].Author)\r\n//                     if (index !== 0) {\r\n//                         let authors = [];\r\n//                         for (var i = 1; i < 5; i++) {\r\n//                             let value = sortedAuthorIds[index - i];\r\n//                             if (value !== undefined) {\r\n//                                 authors.push(value)\r\n//                             }\r\n//                         }\r\n//                         if(authors.length>0)\r\n//                         {\r\n                            \r\n//                             this.setState({\r\n//                                 sortByAuthor: this.state.authors[perspectives[0].Author].lastName,\r\n//                                 perspectiveLoading: true,\r\n//                                 viewport:this.state.authors[this.state.filteredPerspectives[0].AuthorId].lastName\r\n        \r\n//                             })\r\n//                             //Up Scroll lock on First and Third Column\r\n//                             this.setState({\r\n//                                 upScrollLock:true\r\n//                             })\r\n\r\n//                             //Fixing Column 1\r\n                            \r\n//                             $('#firstScr').css({\r\n//                                 position:'fixed'\r\n//                             })\r\n\r\n                            \r\n//                             $('.left').addClass(\"offset-md-3\")\r\n                            \r\n//                             //Fixing Column 3\r\n//                             $('#thirdInnerScr').css({\r\n//                                 position:'fixed'\r\n//                             })\r\n                            \r\n                            \r\n//                             this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n                            \r\n//                         }\r\n//                         else\r\n//                         {\r\n//                             this.setState({\r\n//                                 sortByAuthor: this.state.authors[perspectives[0].Author].lastName,\r\n//                                 perspectiveLoading: false,\r\n//                                 viewport:this.state.authors[this.state.filteredPerspectives[0].AuthorId].lastName\r\n\r\n        \r\n//                             })\r\n//                         }\r\n//                     }\r\n//                 }\r\n            \r\n//             }\r\n\r\n\r\n//     }\r\n//     loadByAuthor()\r\n//     {\r\n//         this.setState({keywordsClicked:false})\r\n\r\n//         if(this.state.sortByLikes)\r\n//         {\r\n//             let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n//             let authors = sortedAuthorIds.slice(0, 30);\r\n//             this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n//             this.showAuthors=true;\r\n//         }\r\n//         $(window).scrollTop(0);\r\n//     }\r\n//     render() {\r\n//         const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n//         const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n//         const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll);  \r\n        \r\n//         if(element && firstScroll && thirdScroll)\r\n//         {\r\n//             this.prevSecond=element.scrollTop;\r\n//             this.prevFirst=firstScroll.scrollTop;\r\n//             this.prevThird=thirdScroll.scrollTop;\r\n//         }\r\n    \r\n//         return (\r\n//             <div  onWheel={this.handleWheeel}    className=\"\" style={{ overflow: \"\",paddingTop:50 }}>\r\n//                 {(this.state.selectedOption.id && this.state.selectedOption.category == \"Concepts\" || this.state.query) && < div className=\"container-fluid\">\r\n//                     {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n//                         <ReactLoading type={\"balls\"} color={\"red\"} />\r\n//                     </div>}\r\n//                     {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n//                         <div ref=\"firstScroll\" id=\"firstScr\" onWheel={this.handleFirstWheeel} onScroll={this.handleFirstCallback} className=\"col-6 col-sm-6 col-md-3 right d-none d-md-block \" style={{paddingBottom:50, borderRadius: \"3px\", backgroundColor: \"white\", textTransform: 'capitalize', overflow: [this.state.perspectiveLoading?'hidden':\"auto\"], textAlign: \"\" }}>\r\n//                             <div className='' id='firstInnerScr' style={{ width: \"100%\", margin: \"auto\", background: \"white\", textAlign: '', borderRadius: '20px' }}>\r\n//                                 {this.state.listRelatedLoading && <div style={{ width: \"100px\", margin: \"auto\" }}>\r\n//                                     <ReactLoading type=\"balls\" color=\"red\" />\r\n//                                 </div>}\r\n\r\n//                                 {/* {!this.state.listRelatedLoading && <div>\r\n//                                     <div style={{ backgroundColor: 'white', textAlign: 'center', marginTop: '10px', padding: '5px' }}><h3>{this.state.selectedOption.label}</h3></div>\r\n//                                 </div>} */}\r\n//                                 {/* <div style={{ backgroundColor: 'white', marginBottom: '5px' }}>\r\n//                                         {!this.state.listRelatedLoading && <div style={{ paddingLeft: '50px', marginTop: '5px', background: 'white' }}>\r\n//                                             <label style={{ border:[this.state.listRelatedRole==='list'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='list'?'black': 'grey'], borderRadius: \"15px\", padding: \"5px 20px\", marginTop: \"10px\", marginLeft: \"\", marginRight: \"5px\", cursor: \"pointer\",fontSize:12,fontWeight:\"650\" }}\r\n//                                                 onClick={this.onListClick} >Lists</label>\r\n//                                             <label style={{ cursor: \"pointer\", borderRadius: \"15px\", border:[this.state.listRelatedRole==='related'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='related'?'black': 'grey'], padding: \"5px 15px\", marginTop: \"10px\", marginLeft: \"5px\",fontSize:12,fontWeight:\"650\" }}\r\n//                                                 onClick={this.onRelatedClick}>Related</label>\r\n//                                         </div>}\r\n//                                         <div style={{  borderBottom: \"1px solid grey\", display: [this.state.listRelated ? 'block' : 'none'],marginLeft:30,paddingLeft:\"10px\",paddingTop:\"10px\",paddingBottom:\"25px\" }}>\r\n//                                             {this.state.listRelatedRole == 'list' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n//                                                 return <span style={{fontSize:14,fontWeight:\"500\",color:'grey',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</span>\r\n//                                             })}\r\n//                                             {this.state.listRelatedRole == 'related' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyRelationData(this.state.listRelatedData).map(data => {\r\n//                                                 return <span style={{fontSize:14,fontWeight:\"500\",color:'grey',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</span>\r\n//                                             })}\r\n//                                         </div>\r\n//                                         {/* <div onClick={() => this.props.showAllPerspective(true)}  className=\"btn btn-link text-center\">Show All</div> */}\r\n//                                     {/* </div> */} \r\n//                                 {this.state.sortedKeywords && (this.state.sortedKeywords.length > 0 && <div style={{ width: \"100%\", margin: \"auto\" }} >\r\n//                                     <div style={{ backgroundColor: 'white', width: '100%',paddingTop:\"50px\" }}>\r\n//                                         <div className=\"row\">\r\n//                                             <div className=\"col-xs-2 col-sm-2 col-md-2\" style={{backgroundColor:\"white\",cursor:'pointer'}}>\r\n//                                                 {/* <div onClick={() => {\r\n//                                                     // this.props.showAllPerspective(this.state.selectedOption.id)\r\n//                                                     this.showAll()\r\n//                                                 }\r\n//                                                 } className=\"btn btn-link text-center rotate\"  ><b style={{fontSize:16}}>Show All</b></div> */}\r\n//                                             </div>\r\n//                                             <div id='favourite' className=\"col-8 col-sm-8 col-md-8\" style={{ backgroundColor: 'white',paddingLeft:\"30px\" }}>\r\n//                                                 <ul  style={{\"lineHeight\": \"0.9em\",height: \"auto\",listStyle:\"none\",padding:0}}>\r\n//                                                 {this.state.sortedKeywords.map((keyword,index) => {\r\n//                                                     return <li style={{ padding:\"8px\"}}><a href=\"#top\" style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                                       \r\n//                                                         this.sortedByKewords=true\r\n                                                      \r\n//                                                         this.setState({\r\n//                                                             sortBy: \"keyword\",\r\n//                                                             sortByKeywordId: keyword.id,\r\n//                                                             sortByAuthor: null,\r\n//                                                             keywordsClicked:true,\r\n//                                                             viewport:keyword.name,\r\n//                                                             upScrollFilterLock:true\r\n//                                                         }, () => {\r\n//                                                             $(window).scrollTop(0);\r\n//                                                             console.log(\"index of uniquey keywords is \",this.keywordsdIndex)\r\n                                                            \r\n//                                                             let concepts =this.state.sortedKeywords.slice(index,5+index);\r\n                                                            \r\n//                                                             let UpConcepts=[]\r\n//                                                             if(index-5<0)\r\n//                                                             {\r\n//                                                                 console.log(\"calling this\");\r\n//                                                                 UpConcepts=this.state.sortedKeywords.slice(0,index)\r\n//                                                             }\r\n//                                                             else\r\n//                                                             {\r\n//                                                                 console.log(\"dcallin\")\r\n//                                                                 UpConcepts=this.state.sortedKeywords.slice(index-5,index)\r\n//                                                             }\r\n//                                                             console.log(\"Up Perspectives are \",UpConcepts);\r\n                                                            \r\n//                                                             let concate=UpConcepts.concat(concepts);\r\n//                                                             console.log(\"concatinated is \",concate);\r\n                                                            \r\n//                                                             console.log(\"New Concepts will be\",concepts);\r\n                                                        \r\n//                                                             // this.setState({keywordsdIndex:this.keywordsdIndex+6})\r\n//                                                             this.keywordsdIndex+=index+6\r\n//                                                             this.upKeywordsIndex=index-5;\r\n//                                                             let conceptIds=concate.map(concept => concept.id)\r\n//                                                             console.log(\"ids are\",conceptIds);\r\n//                                                             console.log(\"Clciked index is \",index)\r\n                                                           \r\n//                                                             this.props.getConceptPerspectivesByKeywords(conceptIds)\r\n                                                            \r\n\r\n//                                                         })\r\n//                                                     }}><b style={{ color: 'black', fontWeight: '15px:', fontSize: '14px'}}>{keyword.name}</b>&nbsp;<span style={{ color: 'gray',fontSize:11 }}>{\" (\" + keyword.count + \")\"}</span></a></li>\r\n\r\n//                                                 })}\r\n//                                                 </ul>\r\n//                                             </div>\r\n//                                         </div>\r\n\r\n\r\n\r\n//                                     </div>\r\n//                                 </div>)}\r\n//                             </div>\r\n//                         </div>\r\n//                         <div ref=\"myscroll\" id=\"secondScr\" onWheel={this.handleSecondWheeel} onScroll={this.handleScrollCallback} className=\"col-12 col-sm-12 col-md-4 left \" style={{ borderRadius: \"3px\", backgroundColor: \"white\"}}>\r\n//                             <div  ref=\"myscrollInner\"  id=\"favouriteSecond\" style={{ backgroundColor: \"white\" }}>\r\n//                                <div id=\"space\"  style={{background:'#fff',position:'fixed',height:'20px'}}>\r\n//                                <div id=\"header\" className=\"\"  style={{zIndex:'4',position:'fixed',backgroundColor:'#fff',border:'1px solid #b7b7b7',boxShadow:'3px 3px #a99e9e'}}>\r\n                                \r\n//                                <div className=\"row\" >\r\n//                                <div className=\"col-md-2 col-2 col-sm-2\">\r\n//                                     <div className=\"dropdown\">\r\n//                                         <button class=\"\" type=\"button\" data-toggle=\"dropdown\" style={{backgroundColor: \"Transparent\",backgroundRepeat:\"no-repeat\",border: \"none\",cursor:\"pointer\",overflow: \"hidden\",outline:\"none\"}}><i className=\"fa fa-list\" style={{padding:'10px',fontSize:'20px',color:'#6f6b6b'}}></i>\r\n//                                         </button>\r\n//                                         <ul className=\"dropdown-menu \" >\r\n                                \r\n//                                         { this.state.listRelatedData  && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n//                                                 return <li className=\"list-group-item\" style={{fontSize:16,fontWeight:\"500\",color:'black',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</li>\r\n//                                             })}\r\n//                                         </ul>\r\n//                                     </div>\r\n//                                     </div>\r\n//                                     <div className=\"col-8 col-md-8 col-sm-8\" style={{top:'-3px'}}><b style={{fontSize:'30px'}}>{this.state.selectedOption.label}</b></div>\r\n//                                     <div className=\"col-2 col-md-2 col-sm-2\">\r\n//                                     <div className=\"dropdown\">\r\n//                                         <button className=\"\" type=\"button\" data-toggle=\"dropdown\" style={{backgroundColor: \"Transparent\",backgroundRepeat:\"no-repeat\",border: \"none\",cursor:\"pointer\",overflow: \"hidden\",outline:\"none\"}}><img src={sort} className=\"img-responsive\" style={{width:\"40%\",marginTop:7}}/>\r\n//                                         </button>\r\n//                                         <ul className=\"dropdown-menu dropdown-menu-right\" style={{left:'-92px'}}>\r\n//                                             <li className=\"list-group-item\"  onClick={this.loadPerspectivesByLikes} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by popularity</li>\r\n//                                             <li className=\"list-group-item\"   onClick={this.loadByAuthor} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by author</li>\r\n//                                         </ul>\r\n//                                     </div>\r\n//                                     </div>\r\n//                                </div>\r\n//                                </div>\r\n//                                </div>\r\n                               \r\n//                                 {/* <div ref=\"img\" id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n//                                     <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n//                                 </div>\r\n//                                 <div ref=\"analogy\" style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n//                                     <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n//                                         <input type=\"checkbox\" value=\"\" />Positive\r\n//                                         </label>\r\n//                                     <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n//                                         <input type=\"checkbox\" value=\"\" />Critical\r\n//                                         </label>\r\n//                                     <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n//                                         <input type=\"checkbox\" value=\"\" />Funny\r\n//                                         </label>\r\n//                                 </div> */}\r\n   \r\n//                                 {\r\n//                                     <div id=\"top\" ></div>\r\n//                                 }\r\n//                                 {/* <div className=\"d-block d-sm-block d-md-none\" style={{display:'flex',textAlign:'center',alignItems:'center',justifyContent:'center',marginTop:'45px',fontSize:'30px'}}><b>{this.state.selectedOption.label}</b></div> */}\r\n//                                 {this.state.perspectiveLoading &&\r\n//                                     <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n//                                     <img src={loading} style={{ height: '20px' }}></img>\r\n//                                     </div>\r\n                                    \r\n//                                 }  \r\n\r\n//                                 {\r\n//                                     this.state.selectedOption && this.state.filteredPerspectives && this.state.filteredPerspectives.length > 0 && this.state.filteredPerspectives.map(data => {\r\n//                                        {/* console.log(\"cehcking\",this.state.authors) */}\r\n//                                         return (\r\n//                                             <div>\r\n//                                                 <Context data={data}\r\n//                                                     authors={this.state.authors}\r\n//                                                     selectedOption={this.state.selectedOption}\r\n//                                                     keywords={this.state.keywords}\r\n//                                                     onAuthorClick={this.onAuthorClick}\r\n//                                                     onLikeClick={this.onLikeClick}\r\n//                                                     isLike={this.state.isLike}\r\n                                                \r\n//                                                 />\r\n//                                             </div>\r\n//                                         );\r\n//                                     })\r\n//                                 }\r\n//                             </div>\r\n//                              {this.state.perspectiveLoading &&\r\n//                             <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%',bottom:\"20\"}}>\r\n//                             <img src={loading} style={{ height: '20px' }}></img>\r\n//                             </div>\r\n                            \r\n//                         }  \r\n//                         </div>\r\n//                         <div className=\"col-xs-12 col-sm-12 col-md-2 d-none d-md-block\" id=\"thirdScr\" style={{  background:'white',minHeight:'90vh'}}>\r\n                        \r\n//                         <div  ref=\"thirdScroll\" id=\"thirdInnerScr\" onWheel={this.handleThirdWheeel}  onScroll={this.handleThirdCallBack}  style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow:[this.state.perspectiveLoading?'hidden':'auto'] }}>\r\n//                             {/* <div style={{ backgroundColor: 'white' }}>\r\n//                                 <div style={{ paddingLeft: '30px', marginTop: '5px', background: 'white' }}>\r\n//                                     <b style={{fontSize:20}}>Arranged by</b>\r\n//                                     <p style={{fontSize:14,paddingLeft:12}}><label onClick={this.loadByAuthor} style={{paddingLeft:'0px',cursor:'pointer',fontWeight:700,color:this.state.sortByLikes?'grey':'black'}}>Author</label> <label style={{paddingLeft:'8px',cursor:'pointer',fontWeight:700,color:this.state.sortByLikes?'black':'gray'}} onClick={this.loadPerspectivesByLikes}>Likes</label></p>\r\n//                                 </div>\r\n//                             </div> */}\r\n//                             <ul style={{\"lineHeight\": \"0.9em\",height: \"auto\",listStyle:\"none\"}}>\r\n//                                 {this.showAuthors && !this.state.sortByLikes && this.state.sortedAuthors && this.state.sortedAuthors.length > 0 && this.state.sortedAuthors.map(data => {\r\n//                                         {/* console.log(\"hello\"); */}\r\n//                                         return (\r\n//                                             <li style={{ width: \"150px\", margin: \"auto\",backgroundColor:\"\", padding:\"8px\" }}><a onClick={() => {\r\n                            \r\n//                                                 this.setState({\r\n//                                                     sortByAuthor: data.lastName,\r\n//                                                     viewport:data.lastName,\r\n//                                                     sortBy: \"\",\r\n//                                                     authorId: data.id,\r\n//                                                     isScroll:false,\r\n//                                                     upScrollFilterLock:true\r\n//                                                 }\r\n//                                                     , () => {\r\n                                                        \r\n//                                                         this.loadPerspectivesByAuthor();\r\n//                                                     })\r\n//                                             }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\",fontSize:14,height:\"auto\" }} href={`#${data.lastName}`}><b>{ (data.lastName && data.firstName) ? (data.lastName + \", \" + data.firstName) : (data.lastName ? data.lastName : (data.firstName ? data.firstName : \"\"))}</b></a></li>\r\n//                                         );\r\n//                                     })}\r\n//                                     </ul>\r\n//                         </div>\r\n//                         </div>\r\n//                         <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n//                             <div className=\"text-center\">\r\n//                                 {/* <h>This Place is for Adds</h> */}\r\n//                                 <AdsComponent></AdsComponent>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                     }\r\n//                 </div>}\r\n//             </div>\r\n//         );\r\n//     }\r\n        \r\n// }\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         //getConceptDetails: bindActionCreators(getConceptDetails, dispatch),\r\n//         setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n//         setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n//         flushConceptState: bindActionCreators(flushConceptState, dispatch),\r\n//         getListRelatedByConceptId: bindActionCreators(getListRelatedByConceptId, dispatch),\r\n//         getConceptFromApi: bindActionCreators(getConceptFromApi, dispatch),\r\n//         addTag: bindActionCreators(addTag, dispatch),\r\n//         increasePerspectiveLike: bindActionCreators(increasePerspectiveLike, dispatch),\r\n//         decreasePerspectiveLike: bindActionCreators(decreasePerspectiveLike, dispatch),\r\n//         sortByAuthorLast: bindActionCreators(sortByAuthorLast, dispatch),\r\n//         sortByKeyword: bindActionCreators(sortByKeyword, dispatch),\r\n//         showAllPerspective: bindActionCreators(showAllPerspective, dispatch),\r\n//         getConceptPerspectivesByAuthorLastName: bindActionCreators(getConceptPerspectivesByAuthorLastName, dispatch),\r\n//         getConceptPerspectivesByKeywords: bindActionCreators(getConceptPerspectivesByKeywords, dispatch),\r\n//         getAllPerspectivesByConcept: bindActionCreators(getAllPerspectivesByConcept, dispatch),\r\n//         getPerspectivesByAuthors: bindActionCreators(getPerspectivesByAuthors, dispatch),\r\n//         getConceptPerspectivesByLikes:bindActionCreators(getConceptPerspectivesByLikes,dispatch),\r\n//         LoadByLikes:bindActionCreators(LoadByLikes,dispatch),\r\n        \r\n//     }\r\n// }\r\n// const mapStateToProps = (state) => {\r\n// {/* console.log(\"Gott state \",state) */}\r\n//     return {\r\n//         navbar: state.navbar,\r\n//         concepts: state.concepts,\r\n//         pageNumber: state.concepts.page_no,\r\n//         uniqueKeywords: getUniqueKeywords(state),\r\n//         filteredPerspectives: getFilteredPerspectives(state),\r\n//         sortByLikes:state.concepts.sortByLikes,\r\n//         offset:state.concepts.offset,\r\n//         isScrollLike:state.concepts.isScrollByLike\r\n//     }\r\n// }\r\n// // const renderConceptsDetails = (data) => {\r\n// //     if (data.length > 0) {\r\n// //         data.map(item => {\r\n// //             return (<h1>{item.description}</h1>);\r\n// //         })\r\n// //     }\r\n// // }\r\n// const returnOnlyListData = (listRelatedData) => {\r\n//     let listData = [];\r\n//     listRelatedData.forEach(element => {\r\n//         if (element.type == 'list of') {\r\n//             listData.push(element);\r\n//         }\r\n//     })\r\n//     return listData;\r\n// }\r\n// const returnOnlyRelationData = (listRelatedData) => {\r\n//     let listData = [];\r\n//     listRelatedData.forEach(element => {\r\n//         if (element.type == 'dictionary of') {\r\n//             listData.push(element);\r\n//         }\r\n//     })\r\n//     return listData;\r\n// }\r\n// export default withRouter(connect(mapStateToProps, mapDispatchToProps)(ConceptsPage));","import {schema} from 'normalizr';\r\nconst author=new schema.Entity(\"authors\");\r\nconst keyword=new schema.Entity(\"keywords\");\r\nconst perspective=new schema.Entity(\"perspectives\",{\r\n    Author:author,\r\n    Keywords:[keyword]\r\n});\r\nconst concept=new schema .Entity(\"concepts\",{\r\n    Perspectives:[perspective]\r\n})\r\nexport const conceptClusterSchema=new schema.Entity(\"conceptCluster\",{\r\n    Concepts:[concept]\r\n});","\r\nimport {normalize} from 'normalizr';\r\nimport {conceptClusterSchema} from '../schema/conceptClusterSchema';\r\nconst axios = require('axios');\r\nexport function flushConceptClusterState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_CONCEPT_CLUSTER\",\r\n        })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id,index) {\r\n    console.log(\"id \",id);\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                res.data.index=index;\r\n                \r\n                console.log(\"like is\",res);\r\n                dispatch({\r\n                    type: 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id,index) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                res.data.index=index;\r\n                \r\n                dispatch({\r\n                    type: 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function setClickedState(obj){\r\n    return dispatch=>{\r\n        dispatch({\r\n            type:'CLICKED_STATE',\r\n            payload:obj\r\n        })\r\n    }\r\n}\r\nexport function getSortedAuthors(id)\r\n{\r\n    return dispatch => {\r\n        // dispatch({\r\n        //     type:'REQUEST_STARTED'\r\n        // })\r\n            console.log(\"got id at author  is \",id)\r\n        \r\n            axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptClusters/sortedAuthors/${id}`).then(data => {\r\n                console.log(\"dispaching\",data.data);\r\n                dispatch({\r\n                    type:'SORTED_AUTHOR',\r\n                    payload:data.data\r\n                })\r\n            })\r\n            \r\n        \r\n\r\n    }\r\n}\r\nexport function getConceptClusterFromApi(id,authors=[],scroll=false,upScroll=false) {\r\n  \r\n    return dispatch => {\r\n        console.log(\"got data is \",authors)\r\n        let idsArray=[];\r\n        authors.map(key => {\r\n            idsArray.push(key.id)\r\n        })\r\n        idsArray.reverse();\r\n        if(scroll)\r\n        {\r\n            axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptClusters/${id}?relationships=true`,idsArray).then(data => {\r\n                const { responseType } = data.data;\r\n                console.log(\"Got data on concept Cluster Page is \",data.data);\r\n                if (responseType == 'success') {\r\n                    const conceptDetailsFromApi = data.data.d;\r\n                    // const normalizedData=normalize(conceptDetailsFromApi,conceptClusterSchema)\r\n                    console.log(\"dispaching\",conceptDetailsFromApi)\r\n                    if(upScroll)\r\n                    {\r\n\r\n                        console.log(\"I am called\",idsArray)\r\n                        dispatch({\r\n                            type: \"REQUEST_SUCCESSFUL_UPSCROLL\",\r\n                            payload: conceptDetailsFromApi,\r\n                        })\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        dispatch({\r\n                            type: \"REQUEST_SUCCESSFUL_SCROLL\",\r\n                            payload: conceptDetailsFromApi,\r\n                        })\r\n                    }\r\n                    // console.log(\"before befor \",normalizedData.entities);\r\n                    // dispatch({\r\n                    //     type:'CONCEPT_CLUSTER_DETAIL_SCROLL',\r\n                    //     payload:normalizedData.entities\r\n                    // })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: \"NETWORK_ERROR\"\r\n                })\r\n                console.log('Error While fetching concept details from api', error);\r\n            })\r\n        }\r\n        else\r\n        {\r\n          console.log(\"sesalfdjaskdf\",id);  \r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptClusters/${id}?relationships=true`,idsArray).then(data => {\r\n            const { responseType } = data.data;\r\n            console.log(\"Got data on concept Cluster Page is \",data.data);\r\n            if (responseType == 'success') {\r\n                const conceptDetailsFromApi = data.data.d;\r\n                console.log(\"data.data\",conceptDetailsFromApi)\r\n                // const normalizedData=normalize(conceptDetailsFromApi,conceptClusterSchema)\r\n                // console.log(\"dispaching\",conceptDetailsFromApi)\r\n                dispatch({\r\n                    type: \"REQUEST_SUCCESSFUL\",\r\n                    payload: conceptDetailsFromApi,\r\n                })\r\n                \r\n                // console.log(\"before befor \",normalizedData.entities);\r\n                // dispatch({\r\n                //     type:'CONCEPT_CLUSTER_DETAIL',\r\n                //     payload:normalizedData.entities\r\n                // })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"NETWORK_ERROR\"\r\n            })\r\n            console.log('Error While fetching concept details from api', error);\r\n        }) \r\n        }\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Context.css'\r\nclass Context extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visibility: 'none',\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let {data,index}=this.props;\r\n        console.log(\"this.props\",this.props)\r\n        return (\r\n            <div id={data.ConceptId}>\r\n                <div id={data.Author.id} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                    <b style={{  cursor: \"pointer\" }}\r\n                        onClick={() => {\r\n                            this.props.flushConceptClusterState();\r\n                            this.props.setSelectedItem({ label: data.ConceptName, value: data.ConceptName, id: data.ConceptId, category: \"Concepts\" })\r\n                        }}>{data.pronoun}{\" \"} {data.Concept.name}</b>{\" is \"}{data.description}\r\n                    <div onClick={() => this.props.onAuthorClick({ auth_id: data.AuthorId, author_first: data.Author.firstName, author_last: data.Author.lastName, born: data.Author.dob, died: data.Author.dod })} style={{ color: \"red\", cursor: \"pointer\" }}>{data.Author.firstName}{\" \"}{data.Author.lastName}</div>\r\n                    <div className=\"text-right\">\r\n                        <i style={{ color: data.isLike?\"red\":\"grey\",fontSize:20}} className=\"fa fa-thumbs-up  \" onClick={()=>{this.props.onLikeClick(index)}}></i>&nbsp;[{data.loves?data.loves:0}]&nbsp;&nbsp; <span  id=\"ConceptEllipseCircle\"  className=\"contextbutton  fa fa-ellipsis-h\" onClick={() => {\r\n                            this.setState({\r\n                                visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                            })\r\n                        }} style={{ cursor: \"pointer\" }}></span>\r\n                    </div>\r\n                    <div id={data.id} style={{ marginTop: \"20px\",textAlign:'justify', display: [this.state.visibility] }} >{data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                </div>\r\n            </div>);\r\n    }\r\n}\r\n// Context.PropTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n//     flushConceptClusterState: PropTypes.func.isRequired,\r\n//     setSelectedItem: PropTypes.func.isRequired,\r\n//     onAuthorClick: PropTypes.func.isRequired,\r\n// }\r\nexport default Context;","import React, { Component } from 'react';\r\nimport \"./ConceptClustersPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { flushConceptClusterState,\r\n     getConceptClusterFromApi,\r\n     setClickedState,\r\n     increasePerspectiveLike,\r\n     decreasePerspectiveLike,\r\n    getSortedAuthors } from \"../../actions/conceptClustersActions\";\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport{\r\n    getUniqueSortedConceptsFromConceptCluster,\r\n    getPerspectivesFromConceptCluster,\r\n    getUniqueAuthorsFromConceptCluster\r\n} from '../../selectors';\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport Context from './Context';\r\nimport ReactLoading from 'react-loading';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withRouter } from 'react-router-dom'\r\nimport $ from \"jquery\";\r\nimport loading from '../../../src/loading.gif';\r\n\r\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\n\r\n\r\n\r\nclass ConceptClustersPage extends Component {\r\n    index=0;\r\n    topIndex=0;\r\n    start=true\r\n    targetElement = null;\r\n    perspectiveLoading=false\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedOption: \"\",\r\n            apiLoading: this.props.conceptClusters.apiLoading,\r\n            apiServerError: this.props.conceptClusters.apiServerError,\r\n            apiNetworkError: this.props.conceptClusters.apiNetworkError,\r\n            /**\r\n             * normalized states\r\n             */\r\n            authors:this.props.conceptClusters.authors,\r\n            keywords:this.props.conceptClusters.keywords,\r\n            sortedConcepts:this.props.sortedConcepts,\r\n            sortedPerspectives:this.props.sortedPerspectives,\r\n            uniqueAuthors:this.props.uniqueAuthors,\r\n            perspectives:this.props.conceptClusters.perspective,\r\n            sortByAuthor:\"\",\r\n            viewport:\"\"\r\n             /**\r\n             * end of normalized states\r\n             */\r\n        }\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        this.handleScrollCallback = this.handleScrollCallback.bind(this);\r\n        this.scrollDownPerspectiveHandler=this.scrollDownPerspectiveHandler.bind(this);\r\n\r\n\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Concept-Clusters\"){\r\n                    this.props.getConceptClusterFromApi(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getConceptCluster(cluster) {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptCluster`, { cluster }).then(data => {\r\n                if(data.data.obj){\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    showTargetElement = () => {\r\n        // ... some logic to show target element\r\n        \r\n        // 3. Disable body scroll\r\n        disableBodyScroll(this.targetElement);\r\n      };\r\n      \r\n      hideTargetElement = () => {\r\n        // ... some logic to hide target element\r\n        \r\n        // 4. Re-enable body scroll\r\n        enableBodyScroll(this.targetElement);\r\n      }\r\n      componentDidUpdate(){\r\n          console.log(\"sort sdby author is \",this.state.sortByAuthor);\r\n          console.log(\"view port is \",this.state.viewport)\r\n        // if (this.state.sortByAuthor) {\r\n            const element = document.getElementById(this.state.viewport);\r\n            if (element) {\r\n                element.scrollIntoView({ behavior: 'auto' });\r\n                $(window).scrollTop($(window).scrollTop()+200)\r\n            }\r\n            let id=this.state.sortByAuthor;\r\n            console.log(\"id s\"+\"#\"+this.state.sortByAuthor)\r\n         \r\n            // this.setState({\r\n            //     sortByAuthor:\"\"\r\n            // })\r\n        \r\n        \r\n        // }\r\n\r\n\r\n\r\n          this.perspectiveLoading=false\r\n        this.hideTargetElement();\r\n      }\r\n    componentDidMount()\r\n    {\r\n        // Axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptClusters/sortedAuthors/109`).then(data => {\r\n        //     console.log(\"SortedAutorIds\",data.data);\r\n        // })\r\n        console.log(\"Compoennt is mounted\");\r\n        this.targetElement = document.querySelector('#secondScr');\r\n\r\n        window.addEventListener('scroll', this.handleScrollCallback, true);\r\n\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                let author_group = await getAuthorGroups(filters);\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = author_group.map(group => group.id);\r\n                let result = await this.getConceptCluster(cluster);\r\n                if (result) {\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.addTag(author_group);\r\n                    this.props.setSelectedItem(result);\r\n                } else {\r\n                    return <Redirect to='/Message' />\r\n                }\r\n            } else {\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = [];\r\n                let result = await this.getConceptCluster(cluster);\r\n                this.props.setSelectedItem(result);\r\n                this.setState({\r\n                    selectedOption: result\r\n                });\r\n                this.props.getConceptClusterFromApi(this.state.selectedOption.id);\r\n            }\r\n        }\r\n    }\r\n    scrollDownPerspectiveHandler()\r\n    {\r\n        this.perspectiveLoading=true\r\n        let temp=this.state.uniqueAuthors.slice(this.index,10+this.index)\r\n        this.index=11+this.index;\r\n        console.log(\"scrolldown\",temp);\r\n        this.props.getConceptClusterFromApi(this.props.navbar.selectedOption.id,temp,true);\r\n               \r\n    }\r\n    handleScrollCallback() {\r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        console.log(\"ludo\",scrollHeight)\r\n        // this.showTargetElement();\r\n        if(this.onceAuthorClicked)\r\n        {\r\n            this.onceAuthorClicked=false\r\n            $(window).scrollTop($(window).scrollTop()-40);\r\n        }\r\n        if($(window).scrollTop()>this.prevScroll)\r\n        {\r\n            //Down Scrolling\r\n         \r\n         \r\n         \r\n            console.log((windowHeight + scrollHeight)+\"vs\"+ $('#favouriteSecond').innerHeight()/100*95)\r\n         \r\n         \r\n            var rightBarHeight = $('#favouriteSecond').outerHeight();\r\n            var rightBarTop = 30; \r\n            if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n                rightBarTop = windowHeight - rightBarHeight;\r\n            }\r\n            \r\n         \r\n         \r\n         \r\n         \r\n         \r\n            if((windowHeight + scrollHeight) >=rightBarHeight)\r\n            {\r\n                this.showTargetElement();\r\n        \r\n                if(this.allowDownScrollCallBack)\r\n                {\r\n                    console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ $('#favouriteSecond').innerHeight()/100*50);\r\n                    this.allowDownScrollCallBack=false;\r\n                  if(!this.sortedByKewords)\r\n                  {\r\n                    this.scrollDownPerspectiveHandler();\r\n                  }\r\n                }\r\n\r\n\r\n    \r\n            }\r\n            else\r\n            {\r\n                this.allowDownScrollCallBack=true;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if($(window).scrollTop()==0)\r\n            {\r\n                \r\n                console.log(\"Top index is \",this.topIndex)\r\n                if(this.topIndex>0)\r\n                {\r\n                    if(!this.state.perspectiveLoading)\r\n                    {\r\n                        \r\n                    console.log(\"First is \",this.state.sortedPerspectives[0].Author);\r\n                    // this.setState({sortByAuthor:this.state.sortedPerspectives[0]})\r\n                this.showTargetElement();\r\n                    \r\n                    console.log(\"calling scrollCallBack\")\r\n                    let authors=[];\r\n                    console.log(\"Total is \",this.state.uniqueAuthors)\r\n                    console.log(\"index - is \",this.topIndex)\r\n                    if(this.topIndex-5>-1)\r\n                    {\r\n                        this.state.uniqueAuthors.slice(this.topIndex-5,this.topIndex).map(aut => authors.push(aut));\r\n                    \r\n                    }\r\n                    else\r\n                    {\r\n                        this.state.uniqueAuthors.slice(0,this.topIndex).map(aut => authors.push(aut));\r\n                    \r\n                    }\r\n                    console.log(\"before it was\",authors)\r\n                    authors.reverse();\r\n\r\n                    console.log(\"New Array is \",authors);\r\n                    // console.log(\"index - is \",author)\r\n                    console.log(\"will be \",this.state.uniqueAuthors[this.topIndex-5])\r\n                    // this.index=5+index;\r\n                    console.log(\"setting viewport \",this.state.uniqueAuthors[this.topIndex])\r\n                    this.setState({viewport:this.state.uniqueAuthors[this.topIndex].id,perspectiveLoading:true})\r\n                    this.topIndex=this.topIndex-5\r\n                    this.props.getConceptClusterFromApi(this.props.navbar.selectedOption.id,authors,true,true);\r\n                    }\r\n                    \r\n                }     \r\n            }       \r\n\r\n        }\r\n        this.prevScroll=$(window).scrollTop()\r\n\r\n\r\n\r\n\r\n        //For First Column\r\n        var rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n        var rightBarHeight = $('#firstInnerScr').outerHeight();\r\n        // var rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n        var rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        \r\n        \r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#firstScr').css({\r\n                position:'fixed'\r\n            })\r\n            if($(window).height()<$('#firstInnerScr').innerHeight())\r\n            {\r\n                \r\n                $('#firstScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n             $('.right').css({\r\n                position: 'static',\r\n                left: '',\r\n                bottom: ''\r\n            })\r\n            $('.left').removeClass(\"offset-md-3\")\r\n            \r\n        }\r\n        // For Third Column\r\n        windowHeight = $(window).height();\r\n         scrollHeight = $(window).scrollTop();\r\n         rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n         rightBarHeight = $('#thirdInnerScr').outerHeight();\r\n        //  rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n         rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight - 30 < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        // console.log(\"First Value is \",$(window).height());\r\n        // console.log(\"Value is \",$('#thirdInnerScr').innerHeight());\r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#thirdInnerScr').css({\r\n                position:'fixed'\r\n            })\r\n            if($(window).height()<$('#thirdInnerScr').innerHeight())\r\n            {\r\n                \r\n                $('#thirdInnerScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            // $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n            // console.log(\"About to remove\")\r\n             $('#thirdInnerScr').css({\r\n                position: 'static',\r\n                left: '',\r\n                bottom: ''\r\n            })\r\n            // $('.left').removeClass(\"offset-md-3\")\r\n            \r\n        }\r\n    \r\n    \r\n     \r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n    async componentWillReceiveProps(nextProps) {\r\n        this.setState({perspectiveLoading:false})\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushConceptClusterState();\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                apiLoading: nextProps.conceptClusters.apiLoading,\r\n                apiServerError: nextProps.conceptClusters.apiServerError,\r\n                apiNetworkError: nextProps.conceptClusters.apiNetworkError,\r\n            /**\r\n             * normalized states\r\n             */\r\n                authors:nextProps.conceptClusters.authors,\r\n                keywords:nextProps.conceptClusters.keywords,\r\n                sortedConcepts:nextProps.sortedConcepts,\r\n                sortedPerspectives:nextProps.sortedPerspectives,\r\n                uniqueAuthors:nextProps.uniqueAuthors,\r\n                perspectives:nextProps.conceptClusters.perspective\r\n             /**\r\n             * end of normalized states\r\n             */\r\n\r\n            })\r\n        }\r\n        else {\r\n            this.setState({\r\n                apiLoading: nextProps.conceptClusters.apiLoading,\r\n                apiServerError: nextProps.conceptClusters.apiServerError,\r\n                apiNetworkError: nextProps.conceptClusters.apiNetworkError,\r\n                /**\r\n             * normalized states\r\n             */\r\n                authors:nextProps.conceptClusters.authors,\r\n                keywords:nextProps.conceptClusters.keywords,\r\n                sortedConcepts:nextProps.sortedConcepts,\r\n                sortedPerspectives:nextProps.sortedPerspectives,\r\n                uniqueAuthors:nextProps.uniqueAuthors,\r\n                perspectives:nextProps.conceptClusters.perspective\r\n            /**\r\n             * end of normalized states\r\n             */\r\n            })\r\n        }\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n           \r\n            if (nextProps.navbar.selectedOption.category == \"Concept-Clusters\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getConceptCluster(cluster);\r\n                console.log(\"Got This Only\")\r\n                if (result) {\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getConceptClusterFromApi(nextProps.navbar.selectedOption.id,[],false);\r\n                } else {\r\n                   \r\n                   this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n        if( nextProps.conceptClusters.initial)\r\n        {\r\n            if(nextProps.navbar.selectedOption.id)\r\n            {\r\n            // console.log(\"kkkkkkkkk\",this.props.navbar.selectedOption.id);\r\n                this.start=true\r\n                this.props.getSortedAuthors(this.props.navbar.selectedOption.id);\r\n            }\r\n            \r\n        }\r\n        console.log(\"redux\",nextProps.navbar.selectedOption.category);\r\n        if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Concept-Clusters\") {\r\n            console.log(\"tututututututut\",nextProps.uniqueAuthors)\r\n            console.log(\"start\",this.start);\r\n            if(nextProps.uniqueAuthors && nextProps.uniqueAuthors.length>0 && this.start)\r\n            {\r\n                console.log(\"kkkkkkkkk\",nextProps.uniqueAuthors)\r\n            console.log(\"this.start\",this.start)\r\n            \r\n                this.start=false;\r\n                let temp=nextProps.uniqueAuthors.slice(this.index,10+this.index)\r\n                this.index=11+this.index;\r\n                console.log(\"sending this\",temp)\r\n                this.props.getConceptClusterFromApi(nextProps.navbar.selectedOption.id,temp,false);\r\n                \r\n            }\r\n            // if(this.props.sortedAuthors && this.props.sortedAuthors.length>0)\r\n            // {\r\n            //     let temp=this.props.sortedAuthors.slice(this.index,5+this.index)\r\n \r\n            //     console.log(\"First Times are\")\r\n            // }\r\n            // this.props.getConceptClusterFromApi(nextProps.navbar.selectedOption.id);\r\n        }\r\n\r\n    }\r\n    onLikeClick(id) {\r\n        if (this.state.sortedPerspectives[id].isLike) {\r\n            this.props.decreasePerspectiveLike(this.state.sortedPerspectives[id].id,id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(this.state.sortedPerspectives[id].id,id);\r\n        }\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\";\r\n        this.props.flushConceptClusterState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"\" style={{ overflow: \"scroll\",paddingTop:50 }}>\r\n                {this.state.selectedOption.id && this.state.selectedOption.category == \"Concept-Clusters\" && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3 right d-sm-none d-none d-md-block\" id=\"firstScr\" style={{ borderRadius: \"3px\", backgroundColor: \"white\",  overflow: \"auto\", textAlign: \"\" }}>\r\n                           <div style={{backgroundColor:'white',}} id=\"firstInnerScr\">\r\n                           <div class=\"mb-2 bg-white text-center p-2\">\r\n                                <b><h4>{ this.state.selectedOption.label}</h4></b>\r\n                            </div>\r\n                            {this.state.sortedConcepts&&this.state.sortedConcepts.length > 0 && <div className=\"bg-white mt-2\"><div className=\"\" style={{ width: \"150px\", margin: \"auto\" }}>\r\n                                { this.state.sortedConcepts.map(concept => {\r\n                                    if (concept.name != undefined) {\r\n                                        return <a onClick={() => {\r\n                                            this.start=true;\r\n                                            \r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    conceptClicked: true,\r\n                                                    authorClicked: false,\r\n                                                }\r\n                                            )\r\n                                        }} href={\"#\" + concept.id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }}><b>{concept.name}</b></a>\r\n                                    }\r\n                                })}\r\n                            </div></div>}\r\n                           </div>\r\n                        </div>\r\n                        <div className=\"col-12 col-sm-12 col-md-4 left \" id=\"secondScr\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\" }}>\r\n                            <div id=\"favouriteSecond\" style={{ backgroundColor: \"white\" }}>\r\n                                {/* <div id=\"img\" style={{ width: \"458px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div> */}\r\n                                {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"458px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                </div> */}\r\n                                \r\n                                {this.state.perspectiveLoading &&\r\n                                    <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                        <img src={loading} style={{ height: '20px' }}></img>\r\n                                    </div>\r\n                                    \r\n                                }\r\n                                {\r\n                                    this.state.sortedPerspectives && this.state.sortedPerspectives.length > 0 && this.state.sortedPerspectives.map((data,index) => {\r\n                                        \r\n                                        return (\r\n                                            <Context\r\n                                                data={data}\r\n                                                onAuthorClick={this.onAuthorClick}\r\n                                                flushConceptClusterState={this.props.flushConceptClusterState}\r\n                                                setSelectedItem={this.props.setSelectedItem}\r\n                                                authors={this.state.authors}\r\n                                                onLikeClick={this.onLikeClick}\r\n                                                index={index}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                                {this.perspectiveLoading &&\r\n                                    <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                    <img src={loading} style={{ height: '20px' }}></img>\r\n                                    </div>\r\n                                    \r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2 d-none d-sm-none d-md-block\" id=\"thirdScr\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\", borderLeft: \"2px solid black\", borderRight: \"1px solid black\", textAlign: \"\" }}>\r\n                            <div style={{backgroundColor:'white'}} id=\"thirdInnerScr\">\r\n                            <ul  style={{\"lineHeight\": \"0.9em\",height: \"auto\",listStyle:\"none\"}}>\r\n                            {this.state.uniqueAuthors && this.state.uniqueAuthors.length > 0 && this.state.uniqueAuthors.map((data,index) => {\r\n                                return (\r\n                                    <li  style={{ width: \"150px\", margin: \"auto\",backgroundColor:\"\", padding:\"8px\" }}><a onClick={() => {\r\n                                       this.setState({\r\n                                           sortByAuthor:this.state.uniqueAuthors[index].id,\r\n                                           viewport:data.id\r\n                                       })\r\n                                        console.log(\"current index is \",data.id)\r\n                                        let authors=[];\r\n                                        console.log(\"Total is \",this.state.uniqueAuthors)\r\n                                        console.log(\"index - is \",index)\r\n                                        this.state.uniqueAuthors.slice(index-2,index).map(aut => authors.push(aut));\r\n                                        this.state.uniqueAuthors.slice(index,2+index).map(aut => authors.push(aut));\r\n                                        console.log(\"New Array is \",authors);\r\n                                        console.log(\"index - is \",index)\r\n                                        console.log(\"will be \",this.state.uniqueAuthors[this.index])\r\n                                        this.index=2+index;\r\n                                        this.topIndex=index-2\r\n                                        console.log(\"inde xi s\",index);\r\n                                        console.log(\"top index is \",this.state.uniqueAuthors[this.topIndex])\r\n                                        console.log(\"This.index is \",this.state.uniqueAuthors[this.index])\r\n                                        authors.reverse();\r\n                                        this.props.getConceptClusterFromApi(this.props.navbar.selectedOption.id,authors,false,false);\r\n                                        {/* let arr=this.state.uniqueAuthors.slice() */}\r\n                                        {/* console.log(data.id) */}\r\n                                        {/* console.log(\"index is \",currentIndex) */}\r\n                                        {/* this.props.setClickedState(\r\n                                            {\r\n                                                authorClicked: true,\r\n                                                conceptClicked: false,\r\n                                            } \r\n                                         ) */}\r\n                                    }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\",fontSize:14,height:\"auto\" }}  href={\"#\" + data.lastName}><b>{(data.lastName && data.firstName) ? (data.lastName + \", \" + data.firstName) : (data.lastName ? data.lastName : (data.firstName ? data.firstName : \"\"))}</b></a></li>\r\n                                );\r\n\r\n                            })}\r\n                            </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3  d-none d-sm-none d-md-block\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                {/* This place is for adds */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushConceptClusterState: bindActionCreators(flushConceptClusterState, dispatch),\r\n        getConceptClusterFromApi: bindActionCreators(getConceptClusterFromApi, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        setClickedState:bindActionCreators(setClickedState,dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch),\r\n        getSortedAuthors:bindActionCreators(getSortedAuthors,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    console.log(\"state on concept cluster page is\",state.conceptClusters)\r\n    return {\r\n        navbar: state.navbar,\r\n        conceptClusters: state.conceptClusters,\r\n        sortedConcepts:state.conceptClusters.sortedConcepts,\r\n        sortedPerspectives: getPerspectivesFromConceptCluster(state),\r\n        uniqueAuthors:state.conceptClusters.sortedAuthors\r\n\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ConceptClustersPage));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nclass Message extends Component{\r\n    render(){\r\n        return(\r\n            <div style={{paddingTop:\"100px\",textAlign:\"center\"}}>\r\n                <h1>\r\n                    Try a search...\r\n                </h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Message;","import {schema} from 'normalizr';\r\nconst authorGroup=new schema.Entity(\"authorGroups\");\r\n//,{idAttribute:'conceptId'}\r\nexport const authorClusterSchema=new schema.Entity(\"authorCluster\",[])","import axios from 'axios';\r\nimport {normalize} from 'normalizr';\r\nimport{authorClusterSchema} from '../schema/authorClusterSchema';\r\nexport function flushAuthorClusterState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_AUTHOR_CLUSTER\",\r\n        })\r\n    }\r\n}\r\n\r\n// export function getAutherClusterDetailsViaSupra(id) {\r\n//     // console.log('get author cluster details via supra ', id);\r\n//     let query = `SELECT * from concept_discrete join __perspectives on\r\n//     concept_discrete.discrete_concept_name_id=__perspectives.concept_id\r\n//     join __author on\r\n//     __author.auth_id=__perspectives.auth_id join\r\n//     author_relationary_author_with_distinct_grouping on\r\n//     author_relationary_author_with_distinct_grouping.auth_id=__author.auth_id\r\n//     join author_relationary_distinct_groupings on\r\n//     author_relationary_distinct_groupings.distinct_grouping_id =author_relationary_author_with_distinct_grouping.distinct_grouping_id\r\n//     join author_relationary_distinct_grouping_with_supra on\r\n//     author_relationary_distinct_grouping_with_supra.distinct_grouping_id=author_relationary_distinct_groupings.distinct_grouping_id\r\n//     join author_relationary_supra on\r\n//     author_relationary_supra.author_supra_id=author_relationary_distinct_grouping_with_supra.supra_id\r\n//     where author_relationary_supra.author_supra_id=${id} order by concept_discrete.discrete_concept_name`\r\n\r\n//     var options = {\r\n//         method: 'POST',\r\n//         url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n//         headers:\r\n//         {\r\n//             'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n//             'cache-control': 'no-cache',\r\n//             'content-type': 'application/x-www-form-urlencoded'\r\n//         },\r\n//         form: { query: query }\r\n//     };\r\n//     return dispatch => {\r\n//         request(options, function (error, response, body) {\r\n//             let data = JSON.parse(body);\r\n//             // console.log(data);\r\n//             dispatch({\r\n//                 type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n//                 payload: data\r\n//             })\r\n\r\n//             if (data.length > 0) {\r\n//                 let uniqueConceptsDiscrete = [];\r\n//                 let uniqueConceptsIds = [];\r\n//                 data.forEach(element => {\r\n//                     if (!(uniqueConceptsIds.includes(element.discrete_concept_name_id))) {\r\n//                         let discrete_concept_name = element.discrete_concept_name;\r\n//                         let discrete_concept_name_id = element.discrete_concept_name_id;\r\n//                         uniqueConceptsIds.push(element.discrete_concept_name_id);\r\n//                         uniqueConceptsDiscrete.push({ discrete_concept_name_id, discrete_concept_name });\r\n//                     }\r\n//                     else {\r\n//                     }\r\n//                 });\r\n//                 // uniqueConceptsDiscrete.sort((a, b) => (a.discrete_concept_name > b.discrete_concept_name) ? 1 : ((b.discrete_concept_name > a.discrete_concept_name) ? -1 : 0))\r\n//                 // console.log(\"Author Cluster before dispatch only concept names\", uniqueConceptsDiscrete.discrete_concept_name)\r\n//                 dispatch({\r\n//                     type: \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\",\r\n//                     payload: uniqueConceptsDiscrete,\r\n//                 })\r\n\r\n//             }\r\n//         });\r\n//     }\r\n// }\r\n// export function getAutherClusterDetails(id) {\r\n//     let query = `SELECT * from concept_discrete join __perspectives on\r\n//     concept_discrete.discrete_concept_name_id=__perspectives.concept_id\r\n//     join __author on\r\n//     __author.auth_id=__perspectives.auth_id join\r\n//     author_relationary_author_with_distinct_grouping on\r\n//     author_relationary_author_with_distinct_grouping.auth_id=__author.auth_id\r\n//     join author_relationary_distinct_groupings on\r\n//     author_relationary_distinct_groupings.distinct_grouping_id =author_relationary_author_with_distinct_grouping.distinct_grouping_id\r\n//     where author_relationary_distinct_groupings.distinct_grouping_id=${id} order by concept_discrete.discrete_concept_name`\r\n\r\n//     var options = {\r\n//         method: 'POST',\r\n//         url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n//         headers:\r\n//         {\r\n//             'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n//             'cache-control': 'no-cache',\r\n//             'content-type': 'application/x-www-form-urlencoded'\r\n//         },\r\n//         form: { query: query }\r\n//     };\r\n//     return dispatch => {\r\n//         request(options, function (error, response, body) {\r\n//             let data = JSON.parse(body);\r\n//             // console.log(data);\r\n//             dispatch({\r\n//                 type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n//                 payload: data\r\n//             })\r\n\r\n//             if (data.length > 0) {\r\n\r\n//                 let uniqueConceptsDiscrete = [];\r\n//                 let uniqueConceptsIds = [];\r\n//                 data.forEach(element => {\r\n//                     if (!(uniqueConceptsIds.includes(element.discrete_concept_name_id))) {\r\n//                         let discrete_concept_name = element.discrete_concept_name;\r\n//                         let discrete_concept_name_id = element.discrete_concept_name_id;\r\n//                         uniqueConceptsIds.push(element.discrete_concept_name_id);\r\n//                         uniqueConceptsDiscrete.push({ discrete_concept_name_id, discrete_concept_name });\r\n//                     }\r\n//                     else {\r\n\r\n//                     }\r\n//                 });\r\n\r\n//                 // uniqueConceptsDiscrete.sort((a, b) => (a.discrete_concept_name > b.discrete_concept_name) ? 1 : ((b.discrete_concept_name > a.discrete_concept_name) ? -1 : 0))\r\n//                 // console.log(\"2Author Cluster before dispatch only concept names\", uniqueConceptsDiscrete)\r\n//                 dispatch({\r\n//                     type: \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\",\r\n//                     payload: uniqueConceptsDiscrete,\r\n//                 })\r\n\r\n//             }\r\n\r\n//         });\r\n//     }\r\n// }\r\n\r\nexport function getAuthorCluster(id, via) {\r\n    // console.log('Get Author Cluster action', id, via);\r\n    return dispatch => {\r\n    \r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        getAuthorClusterHelper(id, via).then(data => {\r\n            let normalizedData=normalize(data,[authorClusterSchema]);\r\n            normalizedData.data=data;\r\n            console.log(normalizedData)\r\n            dispatch({\r\n                type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n                payload: normalizedData,\r\n            })\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"NETWORK_ERROR\"\r\n            })\r\n            console.log('Error while getting detailed author cluster', error);\r\n        })\r\n    }\r\n}\r\nfunction getAuthorClusterHelper(id, via) {\r\n    // alert(via)\r\n    return new Promise(async (res, rej) => {\r\n        let result = [];\r\n        try {\r\n            let result1 = {};\r\n            if (via === 'Author Clusters') {\r\n                //alert(\"getting data cluster\");\r\n                result1 = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorClusters/${id}/perspectives?relationships=true`);\r\n            }\r\n            else if (via === 'Author Groups') {\r\n                result1 = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups/${id}/perspectives?relationships=true`);\r\n            }\r\n            if (result1.data.responseType == 'success') {\r\n                console.log(\"getting data response\");\r\n                result = result1.data.data;\r\n            }\r\n            res(result);\r\n        } catch (e) {\r\n            console.log('getting detailed author cluster error', e);\r\n            rej(result);\r\n        }\r\n    })\r\n}\r\n\r\nexport function setClickedState(obj){\r\n    return dispatch=>{\r\n        dispatch({\r\n            type:'CLICKED_STATE',\r\n            payload:obj\r\n        })\r\n    }\r\n}\r\n\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport conceptsSorter from \"../../utils/conceptsSorterFunction\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactLoading from 'react-loading';\r\nimport Axios from 'axios';\r\nimport queryString from \"query-string\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getAutherClusterDetailsViaSupra,\r\n     getAutherClusterDetails,\r\n      flushAuthorClusterState,\r\n       getAuthorCluster,\r\n       setClickedState,\r\n       increasePerspectiveLike,\r\n       decreasePerspectiveLike\r\n    } from \"../../actions/autherCluster\";\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport {\r\n    getUniqueSortedConceptNameFromAuthorCluster,\r\n    getDynamicSortedAuthorClusterWithDetails,\r\n    getSortedAuthorClusterWithDetailsByAuthorLast\r\n} from '../../selectors';\r\nclass AutherCluster extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            //authorClustersWithDetails: this.props.autherCluster.authorClustersWithDetails,\r\n            // authorClusterConceptsDiscrete: this.props.autherCluster.authorClusterConceptsDiscrete,\r\n            apiLoading: this.props.autherCluster.apiLoading,\r\n            apiServerError: this.props.autherCluster.apiServerError,\r\n            apiNetworkError: this.props.autherCluster.apiNetworkError,\r\n            // authorClicked: false,\r\n            // conceptClicked: true,\r\n            //Normalized states\r\n            sortedConceptsNames: this.props.sortedConceptsNames,\r\n            dynamicSortedAuthorCluster: this.props.dynamicSortedAuthorCluster,\r\n            sortedAuthorClusterDetail: this.props.sortedAuthorClusterDetail,\r\n            perspectives:this.props.autherCluster.authorCluster,\r\n            //End of normalized staes\r\n        }\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        //this.getDynamicSortedAuthorClusterWithDetails = this.getDynamicSortedAuthorClusterWithDetails.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\")\r\n                    // if (this.props.navbar.selectedOption.via) {\r\n                    //     // console.log(\"Helo\");\r\n                    //     this.props.getAutherClusterDetailsViaSupra(this.props.navbar.selectedOption.id);\r\n                    // }\r\n                    // this.props.getAutherClusterDetails(this.props.navbar.selectedOption.id);\r\n                }\r\n                if (this.props.navbar.selectedOption.category == \"Author-Groups\") {\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Groups\")\r\n                    // if (this.props.navbar.selectedOption.via) {\r\n                    //     // console.log(\"Helo\");\r\n                    //     this.props.getAutherClusterDetailsViaSupra(this.props.navbar.selectedOption.id);\r\n                    // }\r\n                    // this.props.getAutherClusterDetails(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getAutherCluster(cluster) {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorClusters`, { cluster }).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n\r\n                resolve(\"\");\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    getAuthorGroups = (filters) => {\r\n        let filterobj = {};\r\n        filterobj.filters = filters;\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups`, filterobj)\r\n                .then(data => {\r\n                    resolve(data.data);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        });\r\n    }\r\n   async getAuthorGroupByName(name){\r\n       let filters=[this.props.match.params.name];\r\n       let authorGroup=await this.getAuthorGroups(filters);\r\n       if(authorGroup[0]){\r\n           authorGroup=authorGroup[0]\r\n           this.props.setSelectedItem({\r\n               label:authorGroup.label,\r\n               value:authorGroup.value,\r\n               id:authorGroup.id,\r\n               category:'Author-Groups'\r\n           });\r\n       }\r\n   }\r\n    async componentWillMount() { \r\n        let url=this.props.location.pathname.split('/')[1];\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                if(url==\"author-groups\"||url==\"Author-Groups\"){\r\n                    this.getAuthorGroupByName();\r\n                  }else{\r\n                    let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                    if (typeof queryFilters === \"string\") {\r\n                        filters.push(queryFilters);\r\n                    } else {\r\n                        filters = queryFilters;\r\n                    }\r\n                    let author_group = await this.getAuthorGroups(filters);\r\n                    let cluster = {};\r\n                    cluster.name = this.props.match.params.name;\r\n                    cluster.groupIds = author_group.map(group => group.id);\r\n                    let result = await this.getAutherCluster(cluster);\r\n                    if (result) {\r\n                        this.props.addTag(author_group);\r\n                        this.props.setSelectedItem(result);\r\n                        this.setState({\r\n                            selectedOption: result\r\n                        });\r\n                    } else {\r\n                        this.props.history.push(\"/Message\");\r\n                    }\r\n                  }\r\n            }\r\n            else {\r\n                if(url==\"author-groups\"||url==\"Author-Groups\"){\r\n                  this.getAuthorGroupByName();\r\n                }\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = [];\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption && nextProps.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption && nextProps.navbar.selectedOption.category == \"Author-Groups\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Groups\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                //authorClustersWithDetails: nextProps.autherCluster.authorClustersWithDetails,\r\n                apiLoading: nextProps.autherCluster.apiLoading,\r\n                apiServerError: nextProps.autherCluster.apiServerError,\r\n                apiNetworkError: nextProps.autherCluster.apiNetworkError,\r\n                // authorClusterConceptsDiscrete: nextProps.autherCluster.authorClusterConceptsDiscrete,\r\n                //Normalized states\r\n                sortedConceptsNames: nextProps.sortedConceptsNames,\r\n                dynamicSortedAuthorCluster: nextProps.dynamicSortedAuthorCluster,\r\n                sortedAuthorClusterDetail: nextProps.sortedAuthorClusterDetail,\r\n                perspectives:nextProps.autherCluster.authorCluster,\r\n                //End of normalized staes\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                this.props.getAuthorCluster(nextProps.navbar.selectedOption.id, \"Author Clusters\")\r\n            }\r\n\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Author-Groups\") {\r\n                this.props.getAuthorCluster(nextProps.navbar.selectedOption.id, \"Author Groups\")\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                //authorClustersWithDetails: nextProps.autherCluster.authorClustersWithDetails,\r\n                apiLoading: nextProps.autherCluster.apiLoading,\r\n                apiServerError: nextProps.autherCluster.apiServerError,\r\n                apiNetworkError: nextProps.autherCluster.apiNetworkError,\r\n                //authorClusterConceptsDiscrete: nextProps.autherCluster.authorClusterConceptsDiscrete,\r\n                //Normalized states\r\n                sortedConceptsNames: nextProps.sortedConceptsNames,\r\n                dynamicSortedAuthorCluster: nextProps.dynamicSortedAuthorCluster,\r\n                sortedAuthorClusterDetail: nextProps.sortedAuthorClusterDetail,\r\n                perspectives:nextProps.autherCluster.authorCluster\r\n                //End of normalized staes\r\n            })\r\n        }\r\n        // console.log(\"author clusters State\", this.state);\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\"\r\n        this.props.flushAuthorClusterState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    onLikeClick(id) {\r\n        if (this.state.perspectives[id].isLike) {\r\n            this.props.decreasePerspectiveLike(id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n        }\r\n    }\r\n    // getSortedAuthorClusterWithDetailsByAuthorLast(AuthorClusterWithDetails) {\r\n    //     let copyAuthorClusterWithDetails = [...AuthorClusterWithDetails];\r\n    //     copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //         var textA = a.authorLastName.toUpperCase();\r\n    //         var textB = b.authorLastName.toUpperCase();\r\n    //         return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //     });\r\n    //     return copyAuthorClusterWithDetails;\r\n    // }\r\n    // getDynamicSortedAuthorClusterWithDetails(AuthorClusterWithDetails) {\r\n    //     let copyAuthorClusterWithDetails = [...AuthorClusterWithDetails];\r\n    //     if (this.state.authorClicked) {\r\n    //         copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //             var textA = a.authorLastName.toUpperCase();\r\n    //             var textB = b.authorLastName.toUpperCase();\r\n    //             return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         });\r\n    //     }\r\n    //     else if (this.state.conceptClicked) {\r\n    //         copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //             var authorA = a.authorLastName.toUpperCase();\r\n    //             var authorB = b.authorLastName.toUpperCase();\r\n    //             var textA = a.conceptName.toUpperCase();\r\n    //             var textB = b.conceptName.toUpperCase();\r\n    //             if (textA === textB) {\r\n    //                 return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n    //             }\r\n    //             else {\r\n    //                 if (textA === \"CULTURE\") {\r\n    //                     console.log(\"not author sorting\");\r\n    //                 }\r\n    //                 return (textA < textB) ? -1 : 1;\r\n    //             }\r\n    //             // return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         });\r\n    //     }\r\n    //     return copyAuthorClusterWithDetails;\r\n    // }\r\n    render() {\r\n        let arr = [];\r\n        console.log(\"rendering auther Cluster is \")\r\n        return (\r\n            <div className=\"overflowhidden\" style={{ overflow: \"hidden\" }}>\r\n                {this.state.selectedOption.id && (this.state.selectedOption.category == \"Author-Clusters\" || this.state.selectedOption.category == \"Author-Groups\") && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\", textAlign: \"\" }}>\r\n                            <div class=\"mb-2 bg-white text-center p-2\">\r\n                                <b><h4>{ this.state.selectedOption.label}</h4></b>\r\n                            </div>\r\n                            <div class=\"bg-white\">\r\n                            {this.state.sortedConceptsNames && (this.state.sortedConceptsNames.length > 0 && <div style={{ width: \"150px\", margin: \"auto\" }}>\r\n                                {this.state.sortedConceptsNames.map(concept => {\r\n                                    if (concept.name != undefined) {\r\n                                        return <a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    authorClicked: false,\r\n                                                    conceptClicked: true,\r\n                                                }\r\n                                            )\r\n\r\n                                        }} href={\"#\" + concept.id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} ><b>{concept.name}</b></a>\r\n                                    }\r\n                                })}\r\n                            </div>)}</div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\" }}>\r\n                            <div id=\"main-content\" style={{ backgroundColor: \"#F6F0EF\" }}>\r\n                                <div id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                    </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                    </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                    </label>\r\n                                </div> */}\r\n                                {\r\n                                    this.state.dynamicSortedAuthorCluster && this.state.dynamicSortedAuthorCluster.length > 0 && this.state.dynamicSortedAuthorCluster.map(data => {\r\n                                        return (<div id={data.concept_id}><div id={data.authorLastName} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                            <b style={{ color: \"blue\", cursor: \"pointer\" }} onClick={() => {\r\n                                                this.props.flushAuthorClusterState();\r\n                                                this.props.setSelectedItem({ label: data.conceptName, value: data.conceptName, id: data.conceptId, category: \"Concepts\" })\r\n                                            }}>{data.pronoun}{\" \"} {data.conceptName}</b>{\" is \"}{data.description}\r\n                                            <div onClick={() => this.onAuthorClick({ auth_id: data.authorId, author_first: data.authorFirstName, author_last: data.authorLastName, born: \"1885\", died: \"1960\" })} style={{ color: \"red\", cursor: \"pointer\" }}>{data.authorFirstName}{\" \"}{data.authorLastName}</div>\r\n                                            <div className=\"pull-right\">\r\n                                                <i style={{ color:data.isLike?\"red\":\"grey\",fontSize:20}} className=\"fa fa-thumbs-up\" onClick={()=>{this.onLikeClick(data.id)}}></i>&nbsp;[{data.loves ? data.loves : 0}]&nbsp;&nbsp; <span className=\"contextbutton fa fa-ellipsis-h\" id=\"AutherCluster\" onClick={() => {\r\n                                                    this.setState({\r\n                                                        visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                        id: data.id,\r\n                                                    })\r\n                                                }} style={{ cursor: \"pointer\" }}></span>\r\n                                            </div>\r\n                                            <div id={data.id} style={{ marginTop: \"20px\", display: [data.id == this.state.id ? this.state.visibility : \"none\"] }} >{data.long_description}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                                        </div></div>);\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderRight: \"1px solid black\", borderLeft: \"2px solid black\", textAlign: \"\" }}>\r\n                            {this.state.sortedAuthorClusterDetail && this.state.sortedAuthorClusterDetail.length > 0 && this.state.sortedAuthorClusterDetail.map(data => {\r\n                                if (!(arr.includes(data.authorId))) {\r\n                                    arr.push(data.authorId);\r\n                                    return (\r\n                                        <div style={{ padding: \" 0px 10px\", width: \"160px\", margin: \"auto\" }}><a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    authorClicked: true,\r\n                                                    conceptClicked: false\r\n                                                }\r\n                                            )\r\n\r\n                                        }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\" }} href={\"#\" + data.authorLastName}><b>{(data.authorLastName && data.authorFirstName) ? (data.authorLastName + \", \" + data.authorFirstName) : (data.authorLastName ? data.authorFirstName : (data.authorFirstName ? data.authorFirstName : \"\"))}</b></a></div>\r\n                                    );\r\n                                }\r\n                            })}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                This place is for adds\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// const getUniqueSortedConceptNameFromClusterDetails = (clustersWithDetails) => {\r\n//     let uniqueConceptNames = [];\r\n//     let uniqueConcepts = [];\r\n//     clustersWithDetails.map(clusterWithDetails => {\r\n//         if (!uniqueConceptNames.includes(clusterWithDetails.conceptName)) {\r\n//             uniqueConceptNames.push(clusterWithDetails.conceptName);\r\n//             uniqueConcepts.push({ name: clusterWithDetails.conceptName, id: clusterWithDetails.conceptId });\r\n//         }\r\n//     })\r\n//     return uniqueConcepts.sort(conceptsSorter);\r\n// }\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        //getAutherClusterDetails: bindActionCreators(getAutherClusterDetails, dispatch),\r\n        //getAutherClusterDetailsViaSupra: bindActionCreators(getAutherClusterDetailsViaSupra, dispatch),\r\n        flushAuthorClusterState: bindActionCreators(flushAuthorClusterState, dispatch),\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        getAuthorCluster: bindActionCreators(getAuthorCluster, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        setClickedState: bindActionCreators(setClickedState, dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    console.log(\"state in mapStateToProps\", state);\r\n    return {\r\n        navbar: state.navbar,\r\n        autherCluster: state.autherCluster,\r\n        sortedConceptsNames: getUniqueSortedConceptNameFromAuthorCluster(state),\r\n        dynamicSortedAuthorCluster:getDynamicSortedAuthorClusterWithDetails(state),\r\n        sortedAuthorClusterDetail: getSortedAuthorClusterWithDetailsByAuthorLast(state)\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AutherCluster));","import {schema} from 'normalizr';\r\nconst authorBioHeading=new schema.Entity('AuthorBioHeadings')\r\nconst authorGroup= new schema.Entity('AuthorGroups',{\r\n    AuthorBioHeading:authorBioHeading\r\n});\r\nconst book=new schema.Entity(\"books\")\r\nconst concept=new schema.Entity('concepts');\r\nconst perspective=new schema.Entity('perspectives',{\r\n    Concept:concept\r\n})\r\nexport const authorSchema=new schema.Entity(\"authors\",{\r\n    Perspectives:[perspective],\r\n    AuthorGroups:[authorGroup],\r\n    Books:[book]\r\n});","import { bindActionCreators } from \"redux\";\r\nimport {normalize} from 'normalizr';\r\nimport {authorSchema} from '../schema/authorSchema';\r\nimport axios from 'axios';\r\nimport { getSortedAuthorClusterWithDetailsByAuthorLast } from \"../selectors\";\r\nlet request = require(\"request\");\r\nexport function flushAuthorState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_AUTHOR\",\r\n        })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'AUTHOR_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'AUTHOR_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function perspectivesByKeywords(conceptId,authorId,scroll=false,up=false)\r\n{\r\n    return dispatch => {\r\n        console.log(\"got props \",scroll)\r\n        console.log(\"concept\",conceptId);\r\n        console.log(\"authorID\",authorId);\r\n        if(scroll)\r\n        {\r\n            \r\n            console.log(\"author is \",authorId)\r\n            console.log(\"concept is \",conceptId)\r\n            axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/concepts/${authorId}`,{conceptIds:conceptId}).then(data => {\r\n                console.log(\"Got Data there for id \",data);\r\n                console.log(data.data);\r\n                const { responseType } = data.data;\r\n                if (responseType == 'success') {\r\n                    console.log(\"Fond Data is \",data.data);\r\n                    const authorDetailsFromApi =getPictureLinks( data.data.data);\r\n                    const normalizedData =normalize(authorDetailsFromApi,authorSchema)\r\n                    if(authorDetailsFromApi.Perspectives<100)\r\n                    {\r\n                        authorDetailsFromApi['finish']=true\r\n                    }\r\n                    else\r\n                    authorDetailsFromApi['finish']=false\r\n                    console.log(\"get_AUTHIIR details by kewords scroll\",authorDetailsFromApi)\r\n                    if(up)\r\n                    {\r\n                        dispatch({\r\n                            type: \"GET_AUTHOR_DETAILS_BY_KEYWORDS_SCROLL_UP\",\r\n                            payload: authorDetailsFromApi,\r\n                        })\r\n                        dispatch({\r\n                            type:'AUTHOR_DETAILS_BY_KEYWORDS_SCROLL_UP',\r\n                            payload:normalizedData.entities\r\n                        })\r\n                    }\r\n                    else\r\n                    {\r\n                        dispatch({\r\n                            type: \"GET_AUTHOR_DETAILS_BY_KEYWORDS_SCROLL\",\r\n                            payload: authorDetailsFromApi,\r\n                        })\r\n                        dispatch({\r\n                            type:'AUTHOR_DETAILS_BY_KEYWORDS_SCROLL',\r\n                            payload:normalizedData.entities\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"SERVER_ERROR\"\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        else\r\n        {\r\n            \r\n        console.log(\"author is \",authorId)\r\n        console.log(\"concept is \",conceptId)\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/concepts/${authorId}`,{conceptIds:conceptId}).then(data => {\r\n            console.log(\"Got Data there for id \",data);\r\n            console.log(data.data);\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                console.log(\"Fond Data is \",data.data);\r\n                const authorDetailsFromApi =getPictureLinks( data.data.data);\r\n                const normalizedData =normalize(authorDetailsFromApi,authorSchema)\r\n                  if(authorDetailsFromApi.Perspectives<100)\r\n                  {\r\n                    authorDetailsFromApi['finish']=true\r\n                  }\r\n                  else\r\n                  authorDetailsFromApi['finish']=false\r\n                  console.log(\"finidsafd\",authorDetailsFromApi)\r\n                dispatch({\r\n                        type: \"GET_AUTHOR_DETAILS_BY_KEYWORDS\",\r\n                        payload: authorDetailsFromApi,\r\n                    })\r\n                dispatch({\r\n                    type:'AUTHOR_DETAILS_BY_KEYWORDS',\r\n                    payload:normalizedData.entities\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        })\r\n        }\r\n    }\r\n}\r\nexport function getAuthorInfluencedByAuthors(id) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"GET_AUTHOR_AUTHORS_PENDING\"\r\n        })\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}/-1/true?relationships=true&withSelfAssociationsOnly=true`).then(data => {\r\n            console.log(\"Got Data there for id \"+id,data.data);\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n               // getPictureLinks(data.data.data);\r\n                const author_authors_details =data.data.data;\r\n                dispatch({\r\n                    type: \"GET_AUTHOR_AUTHORS_SUCCESS\",\r\n                    payload: author_authors_details,\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"GET_AUTHOR_AUTHORS_SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"GET_AUTHOR_AUTHORS_NETWORK_ERROR\"\r\n            })\r\n            console.log('Error While fetching author_author details from api', error);\r\n        })\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction getPictureLinks(data){\r\n    let author_lastName=(((data.lastName).split(\" \")).join(\"+\")).toLowerCase();\r\n    let author_firstName=(((data.firstName).split(\" \")).join(\"+\")).toLowerCase();\r\n    author_firstName=((author_firstName).split(\".\")).join(\"\");\r\n    let author_image=author_lastName.concat(\"+\"+author_firstName+\".jpg\");\r\n    data.pictureLink=`https://conceptionary-images.s3.amazonaws.com/${author_image}`;\r\n    return data;\r\n}\r\n\r\nexport function getAuthorDetails(id,offset=0,likes=false) {\r\n    return dispatch => {\r\n        \r\n        console.log(\"sending offset\",offset)\r\n        if(offset>0)\r\n            {\r\n                axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}/${offset}/${likes}?relationships=true`).then(data => {\r\n                    console.log(data.data);\r\n                    const { responseType } = data.data;\r\n                    if (responseType == 'success') {\r\n                        console.log(\"Fond Data is \",data.data);\r\n                        const authorDetailsFromApi =getPictureLinks( data.data.data);\r\n                        const normalizedData =normalize(authorDetailsFromApi,authorSchema)\r\n                          if(authorDetailsFromApi.Perspectives<100)\r\n                          {\r\n                            authorDetailsFromApi['finish']=true\r\n                          }\r\n                          else\r\n                          authorDetailsFromApi['finish']=false\r\n                          \r\n                        dispatch({\r\n                                type: \"GET_AUTHOR_DETAILS_BY_SCROLL\",\r\n                                payload: authorDetailsFromApi,\r\n                            })\r\n                        dispatch({\r\n                            type:'AUTHOR_DETAILS_BY_SCROLL',\r\n                            payload:normalizedData.entities\r\n                        })\r\n                    }\r\n                    else {\r\n                        dispatch({\r\n                            type: \"SERVER_ERROR\"\r\n                        })\r\n                    }\r\n                }).catch(error => {\r\n                    dispatch({\r\n                        type: \"NETWORK_ERROR\"\r\n                    })\r\n                    console.log('Error While fetching author details from api', error);\r\n                })\r\n            }\r\n            else{\r\n               \r\n                axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}/${offset}/${likes}?relationships=true`).then(data => {\r\n                    const { responseType } = data.data;\r\n                    if (responseType == 'success') {\r\n                        console.log(\"Zabardast found on authoor page is \",data.data);\r\n                        const authorDetailsFromApi =getPictureLinks( data.data.data);\r\n                        console.log(\"Normalizing\",authorDetailsFromApi)\r\n                        const normalizedData =normalize(authorDetailsFromApi,authorSchema)\r\n                        console.log(authorDetailsFromApi);\r\n                        if(authorDetailsFromApi.Perspectives.length<0)\r\n                        {\r\n                            authorDetailsFromApi['finish']=true\r\n                        }\r\n                        else{\r\n                            authorDetailsFromApi['finish']=false\r\n                        }\r\n                        authorDetailsFromApi['sortedKeywords']=data.data.data.sortedKeywords\r\n                        console.log(\"Get AUTHOR DETAILS\")\r\n                        dispatch({\r\n                            type: \"GET_AUTHOR_DETAILS\",\r\n                            payload: authorDetailsFromApi,\r\n                        })\r\n                        dispatch({\r\n                            type:'AUTHOR_DETAILS',\r\n                            payload:normalizedData.entities\r\n                        })\r\n                    }\r\n                    else {\r\n                        dispatch({\r\n                            type: \"SERVER_ERROR\"\r\n                        })\r\n                    }\r\n                }).catch(error => {\r\n                    dispatch({\r\n                        type: \"NETWORK_ERROR\"\r\n                    })\r\n                    console.log('Error While fetching author details from api', error);\r\n                })\r\n            }\r\n\r\n\r\n        \r\n        }\r\n}","import React, { Component } from 'react';\r\nimport \"./AuthorPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactDOM from 'react-dom';\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport { flushAuthorClusterState } from '../../actions/autherCluster';\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport { getUniqueConcept, getSortedPerspectivesByConceptName, getAuthorBioData, getUniqueAuthorBooks } from '../../selectors';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nimport ReactLoading from \"react-loading\";\r\nimport loading from '../../../src/loading.gif';\r\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport { getAuthorDetails, getAuthorInfluencedByAuthors,flushAuthorState,increasePerspectiveLike,decreasePerspectiveLike,getAutherPerspectiveByScroll,perspectivesByKeywords } from \"../../actions/authorActions\";\r\nimport $ from \"jquery\";\r\nclass AuthorPage extends Component {\r\n    \r\n    prevFirst=0;\r\n    prevSecond=0;\r\n    prevThird=0;\r\n    offset=0\r\n    index=0\r\n    topIndex=0\r\n    clickedOnKeywords=false;\r\n    prevScroll=0;\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            query: \"\",\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            dropdownOpen: false,\r\n            // apiLoading: this.props.author.apiLoading,\r\n            // apiServerError: this.props.author.apiServerError,\r\n            // apiNetworkError: this.props.author.apiNetworkError,\r\n            //authorsWithDetails: this.props.author.authorsWithDetails,\r\n            // author_authors_apiLoading: this.props.author.author_authors_apiLoading,\r\n            // author_authors_apiServerError: this.props.author.author_authors_apiServerError,\r\n            // author_authors_apiNetworkError: this.props.author.author_authors_apiNetworkError,\r\n            author_authors: this.props.author.author_authors,\r\n            authorInfluencedByAuthors: this.props.author.authorInfluencedByAuthors,\r\n            authorInfluencedOnAuthors: this.props.author.author_authors.AuthorInfluenceAuthors,\r\n            authorConvoWithAuthors: this.props.author.author_authors.AuthorConvoAuthors,\r\n            id: \"\",\r\n            visibility: \"none\",\r\n            showBooks: false,\r\n            sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(this.props.author.authorInfluencedByAuthors),\r\n            sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(this.props.author.author_authors.AuthorInfluenceAuthors),\r\n            sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(this.props.author.author_authors.AuthorConvoAuthors),\r\n            index: 0,\r\n            index1: 0,\r\n            index2: 0,\r\n            loading: this.props.author.loading,\r\n            //normalized states\r\n            //authorBioHeadings: this.props.author.authorBioHeadings,\r\n            //authorGroups: this.props.author.authorGroups,\r\n            authorPerspectives: this.props.author.authorPerspectives,\r\n            author: this.props.author.author,\r\n            concepts: this.props.author.concepts,\r\n            UniqueConcepts: this.props.uniqueconcepts,\r\n            sortedPerspectives: this.props.sortedperpectives,\r\n            authorBio: this.props.authorBio,\r\n            authorBooksById: this.props.authorBooksById,\r\n            authorBooks: this.props.author.authorBooks,\r\n            loadImage:\"none\",\r\n            perspectiveLoading:true,\r\n            offset:1,\r\n            sortByName:true,\r\n            end:false,\r\n            showAfterFilter:true,\r\n            upScrollLock:false,\r\n            viewport:\"\",\r\n            showAuthorImage:true\r\n            \r\n            //authorOnConcepts:this.props.author.concept\r\n            //end normalized states\r\n        }\r\n        this.getSortedAuthorInfluencedByAuthors = this.getSortedAuthorInfluencedByAuthors.bind(this);\r\n        //this.getSortedAuthorInfluencedOnAuthors = this.getSortedAuthorInfluencedOnAuthors.bind(this);\r\n        //this.getSortedAuthorConvoWithAuthors = this.getSortedAuthorConvoWithAuthors.bind(this);\r\n        this.reverse = this.reverse.bind(this);\r\n        this.forward = this.forward.bind(this);\r\n        this.reverse1 = this.reverse1.bind(this);\r\n        this.forward1 = this.forward1.bind(this);\r\n        this.reverse2 = this.reverse2.bind(this);\r\n        this.forward2 = this.forward2.bind(this);\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onConceptClick = this.onConceptClick.bind(this);\r\n        this.onBioClick = this.onBioClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        this.handleScrollCallback=this.handleScrollCallback.bind(this);\r\n        this.sortByName=this.sortByName.bind(this);\r\n        this.sortByLike=this.sortByLike.bind(this);\r\n        this.handleThirdCallBack=this.handleThirdCallBack.bind(this);\r\n        this.handleFirstCallback=this.handleFirstCallback.bind(this);\r\n        this.handleSecondWheeel=this.handleSecondWheeel.bind(this);\r\n        this.handleFirstWheeel=this.handleFirstWheeel.bind(this);\r\n        this.handleThirdWheeel=this.handleThirdWheeel.bind(this);\r\n        this.loadPerspectivesByKeyWords=this.loadPerspectivesByKeyWords.bind(this)\r\n        this.toggleSort = this.toggleSort.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Authors\") {\r\n                    this.props.getAuthorDetails(this.props.navbar.selectedOption.id,0,false);\r\n                    this.props.getAuthorInfluencedByAuthors(this.props.navbar.selectedOption.id);\r\n                    //  this.props.getAuthorInfluencedOnAuthors(this.props.navbar.selectedOption.id);\r\n                    //  this.props.getAuthorConvoWithAuthors(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n  toggleSort() {\r\n    this.setState(prevState => ({\r\n      dropdownOpen: !prevState.dropdownOpen\r\n    }))}\r\n    loadPerspectivesByKeyWords(index)\r\n    {\r\n        console.log(\"Found index is \",index);\r\n        let concepts=[];\r\n        console.log(\"Total is \",this.state.UniqueConcepts)\r\n        console.log(\"index - is \",index)\r\n        this.state.UniqueConcepts.slice(index-5,index).map(conc => concepts.push(conc));\r\n        this.state.UniqueConcepts.slice(index,5+index).map(conc => concepts.push(conc));\r\n        console.log(\"New Array is \",concepts);\r\n        console.log(\"index - is \",5+index)\r\n        console.log(\"will be \",this.state.UniqueConcepts[this.index])\r\n        this.index=5+index;\r\n        this.topIndex=index-5\r\n        if(this.topIndex<1)\r\n        {\r\n            this.setState({showAuthorImage:true})\r\n        }\r\n        else\r\n        {\r\n            this.setState({showAuthorImage:false})\r\n        }\r\n        console.log(\"inde xi s\",this.index);\r\n        console.log(\"top index is \",this.state.UniqueConcepts[this.topIndex])\r\n        console.log(\"This.index is \",this.state.UniqueConcepts[this.index])\r\n        // concepts.reverse();\r\n        \r\n        \r\n        console.log(\"Authors Got are \",concepts);\r\n\r\n\r\n\r\n\r\n        // this.props.getConceptClusterFromApi(this.props.navbar.selectedOption.id,authors,false,false);\r\n        let conceptIds=[];\r\n        concepts.map(key => {\r\n            conceptIds.push(key.id)\r\n        })\r\n        // idsArray.reverse();\r\n        \r\n\r\n\r\n\r\n\r\n\r\n        this.clickedOnKeywords=true;\r\n        // // console.log(\"id\",id)\r\n        // $(window).scrollTop(0);\r\n    \r\n    \r\n    \r\n        this.props.perspectivesByKeywords(conceptIds,this.props.author.author.id);\r\n    }\r\n    sortByName()\r\n    {\r\n        $(window).scrollTop(0);\r\n        this.setState({sortByName:true});\r\n        this.offset=0;\r\n        this.props.getAuthorDetails(this.state.selectedOption.id,0,false);\r\n    }\r\n    sortByLike()\r\n    {\r\n        $(window).scrollTop(0);\r\n        this.setState({sortByName:false});\r\n        this.offset=0;\r\n        this.props.getAuthorDetails(this.state.selectedOption.id,0,true);\r\n        \r\n    }\r\n    \r\n    handleFirstWheeel(x)\r\n    {\r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        if(this.prevFirst>firstScroll.scrollTop)\r\n        {\r\n            diff=this.prevFirst-firstScroll.scrollTop;\r\n            thirdScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        else if(this.prevFirst==firstScroll.scrollTop)\r\n        {\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                thirdScroll.scrollTop+=100\r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                thirdScroll.scrollTop-=100\r\n            }\r\n        }\r\n        else\r\n        {\r\n            diff=firstScroll.scrollTop-this.prevFirst;\r\n            element.scrollTop+=diff;\r\n            thirdScroll.scrollTop+=diff\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop;  \r\n\r\n    }\r\n    handleFirstCallback()\r\n    {\r\n       \r\n    }\r\n    handleThirdWheeel(x)\r\n    {\r\n\r\n    \r\n            const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        \r\n        if(this.prevThird>thirdScroll.scrollTop)\r\n        {\r\n            diff=this.prevThird-thirdScroll.scrollTop;\r\n            firstScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        \r\n        else if(this.prevThird==thirdScroll.scrollTop)\r\n        {\r\n\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                \r\n                    firstScroll.scrollTop+=100\r\n                \r\n                \r\n                \r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                firstScroll.scrollTop-=100\r\n            }\r\n        \r\n        }\r\n        \r\n        else\r\n        {\r\n            \r\n            diff=thirdScroll.scrollTop-this.prevThird;\r\n            element.scrollTop+=diff;   \r\n            if(!this.state.perspectiveLoading)\r\n            {\r\n                firstScroll.scrollTop+=diff;\r\n            }\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop; \r\n        \r\n\r\n        \r\n    }\r\n    handleThirdCallBack()\r\n    {\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n      \r\n    }\r\n    handleSecondWheeel(x)\r\n    { \r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n                let diff=0;\r\n                if(this.prevSecond>element.scrollTop)\r\n                {\r\n               \r\n                    diff=this.prevSecond-element.scrollTop;\r\n                  \r\n               \r\n                    thirdScroll.scrollTop-=diff;\r\n                    firstScroll.scrollTop-=diff; \r\n                \r\n                }\r\n             else  if(this.prevSecond==element.scrollTop)\r\n                {\r\n                    \r\n                    \r\n                    if(x.deltaY>0)\r\n                    {\r\n                        thirdScroll.scrollTop+=100;\r\n                       firstScroll.scrollTop+=100; \r\n                \r\n                    }\r\n                    else\r\n                    {\r\n                        thirdScroll.scrollTop-=100;\r\n                       firstScroll.scrollTop-=100; \r\n                \r\n                    } \r\n                \r\n                }\r\n                else\r\n                {\r\n                    diff=element.scrollTop-this.prevSecond;\r\n                    thirdScroll.scrollTop+=diff  \r\n                    firstScroll.scrollTop+=diff\r\n                    \r\n                    \r\n                }\r\n            this.prevSecond=element.scrollTop;\r\n            this.prevFirst=firstScroll.scrollTop;\r\n            this.prevThird=thirdScroll.scrollTop;  \r\n        \r\n    }\r\n\r\n\r\n\r\n    scrollDownPerspectiveHandler()\r\n    {\r\n        if(!this.props.finish)\r\n        {\r\n\r\n            let offset=this.offset \r\n            console.log(\"PrevOffset was\",offset)\r\n            this.offset+=1\r\n        \r\n            this.setState({\r\n                perspectiveLoading:true,\r\n            \r\n                \r\n            });\r\n            console.log(\"New Offset will be\",this.offset);\r\n            if(this.state.sortByName)\r\n            {\r\n                this.props.getAuthorDetails(this.state.selectedOption.id,offset,false);\r\n        \r\n            }   \r\n            else\r\n            this.props.getAuthorDetails(this.state.selectedOption.id,offset);\r\n    \r\n              \r\n        }\r\n    \r\n    }\r\n    \r\n    componentDidUpdate() {\r\n        // $('#favouriteSecond').css({position:'',bottom:0});\r\n        // $('#thirdScr').add('offs',)f\r\n        console.log(\"updated\");\r\n        // if (this.state.sortByAuthor) {\r\n            console.log(\"Set view port to id \",this.state.viewport);\r\n            const element = document.getElementById(this.state.viewport);\r\n            if (element) {\r\n                element.scrollIntoView({ behavior: 'auto' });\r\n                $(window).scrollTop($(window).scrollTop()-100)\r\n            }\r\n        }\r\n\r\n    componentDidMount()\r\n    {\r\n        \r\n        window.addEventListener('scroll', this.handleScrollCallback, true);\r\n        window.addEventListener('mousewheel', (e) => {\r\n           if(e.deltaY<0)\r\n           {\r\n              //UpScroll\r\n               \r\n\r\n           }\r\n           else\r\n           {\r\n               console.log(\"got state\",this.state.upScrollLock)\r\n               //down Scrll\r\n               if(this.state.upScrollLock)\r\n               {\r\n                   this.setState({upScrollLock:false})\r\n               }\r\n\r\n           }\r\n\r\n\r\n        }, true);\r\n        window.addEventListener('keydown', (e) => {\r\n           console.log(\"key is \",e)\r\n           if(e.keyCode===40)\r\n           {\r\n               if(this.state.upScrollLock)\r\n               {\r\n                   this.setState({upScrollLock:false})\r\n               }\r\n           }\r\n\r\n        }, true);\r\n        \r\n        // $(window).scroll(this.handleScrollCallback());\r\n        // var sc=ReactDOM.findDOMNode(this.refs.myscroll);\r\n        // if(sc)\r\n        // {\r\n        //         sc.addEventListener('scroll', this.handleScrollCallback);\r\n        //  }\r\n        //  this.setState({\r\n        //      isScroll:true\r\n        //  })\r\n        //  window.addEventListener('scroll', this.handleScrollCallback, true);\r\n    }\r\nallowDownScrollCallBack=true;\r\n    handleScrollCallback() {\r\n        console.log(\"scrolling\");\r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        \r\n            console.log(\"Scroll top is \",(windowHeight + scrollHeight) )\r\n            console.log(\"percenteage is\",$('#favouriteSecond').innerHeight()/100*50)\r\n            \r\n            \r\n            \r\n            \r\n        if($(window).scrollTop()>this.prevScroll)\r\n        {\r\n         //Down Scroll\r\n            if((windowHeight + scrollHeight) >= $('#favouriteSecond').innerHeight()/100*90)\r\n            {\r\n                  if(!this.clickedOnKeywords)\r\n                  {\r\n                    console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ $('#favouriteSecond').innerHeight()/100*90);\r\n                    this.allowDownScrollCallBack=false;\r\n                   \r\n                    this.scrollDownPerspectiveHandler();\r\n                  \r\n                \r\n                  }\r\n                  else\r\n                  {\r\n                     if(this.allowDownScrollCallBack)\r\n                     {\r\n                         this.allowDownScrollCallBack=false;\r\n                        console.log(\"index is \",this.index);\r\n                        console.log(\"state is \",this.state.UniqueConcepts);\r\n                        let temp=this.state.UniqueConcepts.slice(this.index,10+this.index)\r\n                        this.index=11+this.index;\r\n                        console.log(\"scrolldown\",temp);\r\n                        let conceptIds=[];\r\n                        temp.map(concept => {\r\n                            conceptIds.push(concept.id);\r\n                        })\r\n                        console.log(\"Down down\");\r\n                        this.setState({viewport:\"\"})     \r\n                        this.props.perspectivesByKeywords(conceptIds,this.props.author.author.id,true);\r\n\r\n\r\n\r\n                     }\r\n                  }\r\n\r\n\r\n    \r\n            }\r\n            else\r\n            {\r\n                this.allowDownScrollCallBack=true;\r\n            }\r\n        \r\n        }\r\n        else\r\n        {\r\n            //Up Scroll\r\n                \r\n          if(this.clickedOnKeywords) \r\n          {\r\n            if($(window).scrollTop()==0){\r\n            console.log(\"Top index is \",this.topIndex)\r\n            if(this.topIndex>0)\r\n            {\r\n                if(!this.state.perspectiveLoading)\r\n                {\r\n                                    // console.log(\"First is \",this.state.sortedPerspectives[0].Author);\r\n                // this.setState({sortByAuthor:this.state.sortedPerspectives[0]})\r\n            // this.showTargetElement();\r\n                \r\n                console.log(\"calling scrollCallBack\")\r\n                let concepts=[];\r\n                console.log(\"Total is \",this.state.UniqueConcepts)\r\n                console.log(\"index - is \",this.topIndex)\r\n                if(this.topIndex-5>-1)\r\n                {\r\n                    this.state.UniqueConcepts.slice(this.topIndex-5,this.topIndex).map(conc => concepts.push(conc));\r\n                \r\n                }\r\n                else\r\n                {\r\n                    this.state.UniqueConcepts.slice(0,this.topIndex).map(conc => concepts.push(conc));\r\n                \r\n                }\r\n                console.log(\"before it was\",concepts)\r\n                concepts.reverse();\r\n\r\n                this.setState({\r\n                    viewport:this.state.UniqueConcepts[this.topIndex].id,\r\n                    upScrollLock:true,\r\n                    perspectiveLoading:true\r\n                })\r\n                console.log(\"New Array is \",concepts);\r\n                // console.log(\"index - is \",author)\r\n                console.log(\"will be \",this.state.UniqueConcepts[this.topIndex-5])\r\n                // this.index=5+index;\r\n                this.topIndex=this.topIndex-5\r\n                \r\n                if(this.topIndex<1)\r\n                {\r\n                    this.setState({showAuthorImage:true})\r\n                }\r\n                else\r\n                {\r\n                    this.setState({showAuthorImage:false})\r\n                }\r\n                \r\n            console.log(\"Authors Got are \",concepts);\r\n                let ids=[];\r\n                concepts.map(concept => {\r\n                    ids.push(concept.id);\r\n                })\r\n                // ids.reverse();\r\n                console.log(\"up up\")\r\n                \r\n\r\n                        // //Fixing Column 1\r\n                        \r\n                        $('#firstScr').css({\r\n                            position:'fixed'\r\n                        })\r\n\r\n                        \r\n                        $('.left').addClass(\"offset-md-3\")\r\n                        \r\n                        // //Fixing Column 3\r\n                        $('#thirdInnerScr').css({\r\n                            position:'fixed',top:0,marginTop:'70px'\r\n                        })\r\n                        \r\n                        \r\n                this.props.perspectivesByKeywords(ids,this.props.author.author.id,true,true);\r\n\r\n                }\r\n\r\n\r\n\r\n            } \r\n        }    \r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n        \r\n        this.prevScroll=$(window).scrollTop()\r\n\r\n            \r\n\r\n\r\n        //For First Column\r\n        var rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n        var rightBarHeight = $('#firstInnerScr').outerHeight();\r\n        // var rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n        var rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        \r\n        \r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#firstScr').css({\r\n                position:'fixed',\r\n            })\r\n            if($(window).height()<$('#firstInnerScr').innerHeight()  && !this.state.upScrollLock)\r\n            {\r\n                \r\n                $('#firstScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n            if(!this.state.upScrollLock)\r\n            {\r\n                $('.right').css({\r\n                    position: 'static',\r\n                    left: '',\r\n                    bottom: ''\r\n                })\r\n                $('.left').removeClass(\"offset-md-3\")\r\n            }\r\n        }\r\n        // For Third Column\r\n        windowHeight = $(window).height();\r\n         scrollHeight = $(window).scrollTop();\r\n         rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n         rightBarHeight = $('#thirdInnerScr').outerHeight()+300;\r\n        //  rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n         rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight - 30 < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        console.log(\"First Value is \",(windowHeight + scrollHeight));\r\n        console.log(\"Value is \",rightBarHeight);\r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#thirdInnerScr').css({\r\n                position:'fixed',\r\n                // marginTop:'70px'\r\n            })\r\n            if($(window).height()<$('#thirdInnerScr').innerHeight()+100)\r\n            {\r\n                \r\n                $('#thirdInnerScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            // $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n            // alert(this.state.upScrollLock)\r\n            if(!this.state.upScrollLock)\r\n            {\r\n                // console.log(\"About to remove\")\r\n                $('#thirdInnerScr').css({\r\n                    position: 'static',\r\n                    left: '',\r\n                    bottom: '',\r\n                    marginTop:'50px'\r\n                })\r\n                // $('.left').removeClass(\"offset-md-3\")\r\n            }\r\n        }\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //    if(!this.props.finish)\r\n    //    {\r\n    //     const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n    \r\n    //     if (\r\n    //         element.scrollTop + element.clientHeight >=\r\n    //         element.scrollHeight-1\r\n    //     ) {\r\n    //         this.scrollDownPerspectiveHandler();\r\n    //     }\r\n    \r\n    \r\n    //    }\r\n      \r\n    }\r\n    getAuthor = (author) => {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/author`, { author }).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        console.log(\"React is receing props\");\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n            \r\n                \r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                let author_group = await getAuthorGroups(filters);\r\n                let author = {};\r\n                author.name = this.props.match.params.name;\r\n                author.groupIds = author_group.map(group => group.id);\r\n                let result = await this.getAuthor(author);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                        showAfterFilter:true\r\n                    });\r\n\r\n                    this.props.addTag(author_group);\r\n                } else {\r\n                    // this.props.history.push(\"/Message\");\r\n                    this.setState({showAfterFilter:false})\r\n                }\r\n            } else {\r\n                let author = {};\r\n                author.name = this.props.match.params.name;\r\n                author.groupIds = [];\r\n                let result = await this.getAuthor(author);\r\n                this.props.setSelectedItem(result);\r\n                this.setState({\r\n                    selectedOption: result\r\n                });\r\n                this.props.getAuthorDetails(this.state.selectedOption.id,0,false);\r\n                this.props.getAuthorInfluencedByAuthors(this.state.selectedOption.id);\r\n\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n        console.log(\"Author Page new props\",nextProps.navbar)\r\n        console.log(\"this.props is \",this.props.navbar)\r\n        this.setState({\r\n            perspectiveLoading:false\r\n        })\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            console.log(\"inside props match\")\r\n            if (nextProps.navbar.selectedOption != undefined) {\r\n                let author = {};\r\n                author.name = nextProps.navbar.selectedOption.value;\r\n                author.groupIds = nextProps.navbar.tags.map(x => x.id);\r\n                let result = await this.getAuthor(author);\r\n                console.log(\"result got is \",result)\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                        perspectiveLoading:false,\r\n                        showAfterFilter:true\r\n                    });\r\n                    // this.props.getAuthorDetails(this.state.selectedOption.id);\r\n                    \r\n                this.props.getAuthorDetails(this.state.selectedOption.id,0,false);\r\n                    this.props.getAuthorInfluencedByAuthors(this.state.selectedOption.id);\r\n                } else {\r\n                    // this.props.history.push(\"/Message\");\r\n                    this.setState({showAfterFilter:false})\r\n                }\r\n\r\n            }\r\n        }\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.topIndex=0;\r\n            $(window).scrollTop(0);\r\n            this.props.flushAuthorState();\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Authors\") {\r\n                this.props.getAuthorDetails(nextProps.navbar.selectedOption.id);\r\n                //this.props.getAuthorBio(nextProps.navbar.selectedOption.id);\r\n                //this.props.getAuthorBooks(nextProps.navbar.selectedOption.id);\r\n                this.props.getAuthorInfluencedByAuthors(nextProps.navbar.selectedOption.id);\r\n                //  this.props.getAuthorInfluencedOnAuthors(nextProps.navbar.selectedOption.id);\r\n                //  this.props.getAuthorConvoWithAuthors(nextProps.navbar.selectedOption.id);\r\n            }\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                apiLoading: nextProps.author.apiLoading,\r\n                apiServerError: nextProps.author.apiServerError,\r\n                apiNetworkError: nextProps.author.apiNetworkError,\r\n                //authorsWithDetails: nextProps.author.authorsWithDetails,\r\n                author_authors_apiLoading: nextProps.author.author_authors_apiLoading,\r\n                author_authors_apiServerError: nextProps.author.author_authors_apiServerError,\r\n                author_authors_apiNetworkError: nextProps.author.author_authors_apiNetworkError,\r\n                author_authors: nextProps.author.author_authors,\r\n                authorInfluencedByAuthors: nextProps.author.authorInfluencedByAuthors,\r\n                authorInfluencedOnAuthors: nextProps.author.author_authors.AuthorInfluenceAuthors,\r\n                authorConvoWithAuthors: nextProps.author.author_authors.AuthorConvoAuthors,\r\n                sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(nextProps.author.authorInfluencedByAuthors),\r\n                sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(nextProps.author.author_authors.AuthorInfluenceAuthors),\r\n                sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(nextProps.author.author_authors.AuthorConvoAuthors),\r\n                //normalized states\r\n                //authorBioHeadings: nextProps.author.authorBioHeadings,\r\n                //authorGroups: nextProps.author.authorGroups,\r\n                authorPerspectives: nextProps.author.authorPerspectives,\r\n                author: nextProps.author.author,\r\n                concepts: nextProps.author.concepts,\r\n                //authorOnConcepts:nextProps.author.concept\r\n                UniqueConcepts: nextProps.uniqueconcepts,\r\n                sortedPerspectives: nextProps.sortedperpectives,\r\n                authorBio: nextProps.authorBio,\r\n                authorBooksById: nextProps.authorBooksById,\r\n                authorBooks: nextProps.author.authorBooks,\r\n                perspectiveLoading:false\r\n                //end normalized states\r\n\r\n            })\r\n\r\n        }\r\n        else {\r\n            this.setState({\r\n                //authorsWithDetails: nextProps.author.authorsWithDetails,\r\n                apiLoading: nextProps.author.apiLoading,\r\n                apiServerError: nextProps.author.apiServerError,\r\n                apiNetworkError: nextProps.author.apiNetworkError,\r\n                author_authors_apiLoading: nextProps.author.author_authors_apiLoading,\r\n                author_authors_apiServerError: nextProps.author.author_authors_apiServerError,\r\n                author_authors_apiNetworkError: nextProps.author.author_authors_apiNetworkError,\r\n                author_authors: nextProps.author.author_authors,\r\n                authorInfluencedByAuthors: nextProps.author.authorInfluencedByAuthors,\r\n                authorInfluencedOnAuthors: nextProps.author.author_authors.AuthorInfluenceAuthors,\r\n                authorConvoWithAuthors: nextProps.author.author_authors.AuthorConvoAuthors,\r\n                //sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(nextProps.author.authorInfluencedByAuthors),\r\n                sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(nextProps.author.author_authors.AuthorInfluenceAuthors),\r\n                sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(nextProps.author.author_authors.AuthorConvoAuthors),\r\n                //normalized states\r\n                //authorBioHeadings: nextProps.author.authorBioHeadings,\r\n                //authorGroups: nextProps.author.authorGroups,\r\n                authorPerspectives: nextProps.author.authorPerspectives,\r\n                author: nextProps.author.author,\r\n                concepts: nextProps.author.concepts,\r\n                UniqueConcepts: nextProps.uniqueconcepts,\r\n                sortedPerspectives: nextProps.sortedperpectives,\r\n                authorBio: nextProps.authorBio,\r\n                authorBooksById: nextProps.authorBooksById,\r\n                authorBooks: nextProps.author.authorBooks,\r\n                perspectiveLoading:false\r\n                //authorOnConcepts:nextProps.author.concept\r\n                //end normalized states\r\n\r\n            })\r\n        }\r\n    }\r\n    onLikeClick(data) {\r\n        if (this.state.authorPerspectives[data.id].isLike) {\r\n            this.props.decreasePerspectiveLike(data.id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(data.id);\r\n        }\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.firstName + \" \" + author.lastName;\r\n        let value = label;\r\n        let id = author.id;\r\n        let born = author.dob;\r\n        let died = author.dod;\r\n        let category = \"Authors\";\r\n        this.props.flushAuthorState();\r\n        console.log(category);\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n\r\n    }\r\n    onBioClick(bio) {\r\n        let label = bio.distinct_grouping;\r\n        let value = label;\r\n        let id = bio.distinct_grouping_id;\r\n        let category = \"Author-Groups\"\r\n        this.props.flushAuthorState();\r\n        this.props.flushAuthorClusterState();\r\n        this.props.setSelectedItem({ label, value, id, category, via: \"group\" });\r\n    }\r\n    onConceptClick(concept) {\r\n\r\n        let label = this.state.concepts[concept.Concept].name;\r\n        let value = label;\r\n        let id = concept.ConceptId;\r\n        let category = \"Concepts\"\r\n        this.props.flushAuthorState();\r\n        this.props.setSelectedItem({ label, value, id, category });\r\n    }\r\n    // getSortedAuthorConvoWithAuthors(index) {\r\n    //     let rtnArray = [];\r\n    //     rtnArray = this.state.authorConvoWithAuthors.slice(index, index + 3);\r\n    //     // console.log(\"Slice params\", index, index + 3);\r\n    //     // console.log(\"Rtn array i\", rtnArray);\r\n    //     this.setState({\r\n    //         sortedAuthorConvoWithAuthors: rtnArray,\r\n    //     })\r\n    // }\r\n    getSortedAuthorInfluencedByAuthors(index) {\r\n        let rtnArray = [];\r\n        rtnArray = this.state.authorInfluencedByAuthors.slice(index, index + 3);\r\n        // console.log(\"Slice params\", index, index + 3);\r\n        // console.log(\"Rtn array i\", rtnArray);\r\n        this.setState({\r\n            sortedAuthorInfluencedByAuthors: rtnArray,\r\n        })\r\n    }\r\n    // getSortedAuthorInfluencedOnAuthors(index) {\r\n    //     let rtnArray = [];\r\n    //     rtnArray = this.state.authorInfluencedOnAuthors.slice(index, index + 3);\r\n    //     // console.log(\"Slice params\", index, index + 3);\r\n    //     // console.log(\"Rtn array i\", rtnArray);\r\n    //     this.setState({\r\n    //         sortedAuthorInfluencedOnAuthors: rtnArray,\r\n    //     })\r\n    // }\r\n    reverse() {\r\n        let index = this.state.index;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index: (index - 3) })\r\n            this.getSortedAuthorInfluencedByAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    reverse1() {\r\n        let index = this.state.index1;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index1: (index - 3) })\r\n            this.getSortedAuthorInfluencedOnAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    reverse2() {\r\n        let index = this.state.index2;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index2: (index - 3) })\r\n            this.getSortedAuthorConvoWithAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    forward() {\r\n        let totalLength = this.state.authorInfluencedByAuthors.length;\r\n        let index = this.state.index;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index: (index + 3) })\r\n            this.getSortedAuthorInfluencedByAuthors(index + 3);\r\n        }\r\n\r\n    }\r\n    forward1() {\r\n        let totalLength = this.state.authorInfluencedOnAuthors.length;\r\n        let index = this.state.index1;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index1: (index + 3) })\r\n            this.getSortedAuthorInfluencedOnAuthors(index + 3);\r\n        }\r\n\r\n    }\r\n    forward2() {\r\n        let totalLength = this.state.authorConvoWithAuthors.length;\r\n        let index = this.state.index2;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index2: (index + 3) })\r\n            this.getSortedAuthorConvoWithAuthors(index + 3);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n         <div className=\" \" style={{ overflow: \"hidden\",paddingTop:50,display:this.state.showAfterFilter?'block':'none',background:'#f6fafc' }}>\r\n                {this.state.selectedOption.id && this.state.selectedOption.category == \"Authors\" && <div className=\"container-fluid\" style={{background:'#f6fafc'}}>\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && <div style={{background:'#f6fafc'}}>\r\n                        {!this.state.showBooks && <div className=\"row\">\r\n                            <div  ref=\"firstScroll\"  id=\"firstScr\"  onWheel={this.handleFirstWheeel} onScroll={this.handleFirstCallback}  className=\"d-none d-sm-none d-md-block col-xs-12 col-sm-12 col-md-3 right\" style={{ borderRadius: \"3px\", backgroundColor: \"#f6fafc\", overflow: \"auto\", border: \"3px  solid #f6fafc\", textAlign: \"\" }}>\r\n                               <div id=\"firstInnerScr\" style={{background:'white'}}> \r\n                                {\r\n                                    <ul style={{ width: \"150px\", margin: \"auto\",listStyle:'none',lineHeight: \"0.9em\",height: \"auto\",listStyle:\"none\",padding:0 }}>\r\n                                        {this.state.UniqueConcepts && this.state.UniqueConcepts.length > 0 && this.state.UniqueConcepts.map((concept,index) => {\r\n                                            if (concept.name != undefined) {\r\n                                                return <li onClick={() => {this.setState({viewport:concept.id});this.loadPerspectivesByKeyWords(index)}} style={{ padding:\"8px\"}}><b><a  style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }}>\r\n                                                            {concept.name}<span style={{ color: 'gray',fontSize:11 }}></span></a></b>\r\n                                                        </li>\r\n                                            }\r\n\r\n                                        })}\r\n                                    </ul>\r\n                                }\r\n                                </div>\r\n                            \r\n                            </div>\r\n                            <div ref=\"myscroll\" id=\"\" onWheel={this.handleSecondWheeel}  onScroll={this.handleScrollCallback} className=\"col-12 col-sm-12 col-md-4 left \" style={{ borderRadius: \"3px\", backgroundColor: \"#f6fafc\", overflow: \"auto\" }}>\r\n                            <div className=\"d-block d-sm-block d-md-none\" style={{display:'flex',textAlign:'center',alignItems:'center',justifyContent:'center',marginTop:'45px',fontSize:'30px'}}><b>{this.state.selectedOption.label}</b></div>\r\n                                \r\n                                <div style={{ backgroundColor: \"#f6fafc\" }}>\r\n                                <div id=\"authorspace\"  style={{background:'#fff',position:'fixed',height:'20px',width:422,top:47}}>\r\n                               <div id=\"authorheader\" className=\"\"  style={{zIndex:'4',position:'fixed',width:422,backgroundColor:'#fff',border:'1px solid #b7b7b7',boxShadow:'3px 3px #a99e9e'}}>\r\n                                \r\n                               <div className=\"row\" >\r\n                               <div className=\"col-md-2 col-2 col-sm-2\">\r\n                                    <div className=\"dropdown\">\r\n                                     {/* <button class=\"\" type=\"button\" data-toggle=\"dropdown\" style={{backgroundColor: \"Transparent\",backgroundRepeat:\"no-repeat\",border: \"none\",cursor:\"pointer\",overflow: \"hidden\",outline:\"none\"}}><i className=\"fa fa-list\" style={{padding:'10px',fontSize:'20px',color:'#6f6b6b'}}></i>\r\n                                        </button>\r\n                                        <ul className=\"dropdown-menu \" >\r\n                                \r\n                                        { this.state.listRelatedData  && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n                                                return <li className=\"list-group-item\" style={{fontSize:16,fontWeight:\"500\",color:'black',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</li>\r\n                                            })}\r\n                                        </ul> */}\r\n                                    </div>\r\n                                    </div>\r\n                                    <div className=\"col-8 col-md-8 col-sm-8\" style={{top:'-3px'}}><b style={{fontSize:'30px'}}>{this.state.selectedOption.label}</b></div>\r\n                                    <div className=\"col-2 col-md-2 col-sm-2\">\r\n                                    <div className=\"dropdown\">\r\n                                    <Dropdown isOpen={this.state.dropdownOpen}  toggle={this.toggleSort}>\r\n                                        <DropdownToggle caret style={{background:'none',border:'none',color:'black'}}>\r\n                                    \r\n                                        </DropdownToggle>\r\n                                        <DropdownMenu>\r\n                                        <DropdownItem onClick={this.sortByLike}>Likes</DropdownItem>\r\n                                        <DropdownItem onClick={this.sortByName}>Name</DropdownItem>\r\n                                        </DropdownMenu>\r\n                                    </Dropdown>\r\n                                \r\n                                        {/* <button className=\"\" type=\"button\" data-toggle=\"dropdown\" style={{backgroundColor: \"Transparent\",backgroundRepeat:\"no-repeat\",border: \"none\",cursor:\"pointer\",overflow: \"hidden\",outline:\"none\"}}><img src={sort} className=\"img-responsive\" style={{width:\"40%\",marginTop:7}}/>\r\n                                        </button>\r\n                                        <ul className=\"dropdown-menu dropdown-menu-right\" style={{left:'-92px'}}>\r\n                                            <li className=\"list-group-item\"  onClick={this.loadPerspectivesByLikes} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by popularity</li>\r\n                                            <li className=\"list-group-item\"   onClick={this.loadByAuthor} style={{color:this.state.sortByLikes?'black':'gray',cursor:'pointer'}}>by author</li>\r\n                                        </ul> */}\r\n                                    </div>\r\n                                    </div>\r\n                               </div>\r\n                               </div>\r\n                               </div>\r\n                                   \r\n                                   {/* <div id=\"img\" style={{ wheight:\"280px\",display:this.state.loadImage }}> */}\r\n                                        {/*<h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                        <h5 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\", display: \"inline-block\" }} className=\"float-right\">{(this.state.selectedOption.born && this.state.selectedOption.died) ? this.state.selectedOption.born + \" - \" + this.state.selectedOption.died : \"HUL\"}</h5>\r\n                                        */}\r\n                                        {/* {this.state.showAuthorImage &&  <img src={this.state.author.pictureLink} onError={() => {this.setState({loadImage:\"none\"})}} onLoad={() => {this.setState({loadImage:\"block\"});}} alt={this.state.selectedOption.label} style={{ width: \"100%\",height:\"100%\",display:this.state.loadImage }} /> }                   \r\n                                    </div> */}\r\n                                    {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                    </div> */}\r\n                                <div  id=\"favouriteSecond\" style={{background:'#f6fafc',paddingTop:50}}>\r\n                                 <div style={{height:20}}>      \r\n                                 {\r\n                                            <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                            <img src={loading} style={{ height: '20px',display:[this.state.perspectiveLoading?'block':'none'] }}></img>\r\n                                            </div>\r\n                                            \r\n                                        }\r\n                                    </div>\r\n                                    {\r\n                                        this.state.sortedPerspectives && this.state.sortedPerspectives.length > 0 && this.state.sortedPerspectives.map(data => {\r\n                                            return (<div id={data.ConceptId}><div className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                                <b style={{ color: \"blue\", cursor: \"pointer\",textTransform:'capitalize' }} onClick={() => this.onConceptClick(data)}>{data.pronoun}{\" \"} {this.state.concepts[data.Concept].name}</b>{\" is \"}{data.description}\r\n                                                {/* <div style={{ color: \"red\" }}>{this.state.author.firstName}{\" \"}{this.state.author.lastName}</div> */}\r\n                                                <div className=\"text-right\">\r\n                                                    <i style={{ color:data.isLike?\"red\":\"grey\",fontSize:'20px' }} className=\"fa fa-thumbs-up \" onClick={() => { this.onLikeClick(data) }}></i>&nbsp;[{data.loves ? data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton fa fa-ellipsis-h\" id=\"AuthorEllipseCircle\" onClick={() => {\r\n                                                        this.setState({\r\n                                                            visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                            id: data.id,\r\n                                                        })\r\n                                                    }} style={{ cursor: \"pointer\" }}></span>\r\n                                                </div>\r\n                                                <div id={data.id} style={{ marginTop: \"20px\", display: [data.id == this.state.id ? this.state.visibility : \"none\"],textAlign:'justify' }} >{data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                                            </div></div>);\r\n                                        })\r\n                                    }\r\n                                    \r\n\r\n\r\n                                    </div>\r\n                                    <div style={{height:20}}>      \r\n                                 \r\n                                        {\r\n                                            <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                            <img src={loading} style={{ height: '20px',visibility:this.state.perspectiveLoading?'show':'hidden' }}></img>\r\n                                            </div>\r\n                                            \r\n                                        }\r\n                                </div>   \r\n                                </div>\r\n                            </div>\r\n                            <div   ref=\"thirdScroll\" onWheel={this.handleThirdWheeel}  onScroll={this.handleThirdCallBack}   className=\"d-none d-sm-none d-md-block  col-xs-12 col-sm-12 col-md-3 \" style={{ borderRadius: \"3px\", backgroundColor: \"#f6fafc\", overflow: \"auto\",  }}>\r\n                                <div id=\"thirdInnerScr\" style={{maxWidth:'100%',marginTop:30}} >\r\n                                    <div style={{background:'white',paddingLeft:10}}>\r\n                                {/* <div style={{ paddingLeft: '30px', marginTop: '5px', background: \"rgba(255, 0, 0, 0)\" }}>\r\n                                    <b style={{fontSize:20}}>Arranged by{this.state.sortByName}</b>\r\n                                    <p style={{fontSize:14,paddingLeft:12}}><label style={{paddingLeft:'0px',cursor:'pointer',fontWeight:700,color:this.state.sortByName?'grey':'black'}} onClick={this.sortByLike}>Likes</label> <label style={{paddingLeft:'8px',cursor:'pointer',fontWeight:700,color:this.state.sortByName?'black':'grey'}} onClick={this.sortByName} >Names</label></p>\r\n                                </div>\r\n                                <h3><b>{this.state.author.firstName} {this.state.author.lastName}</b></h3> */}\r\n                                <h6>{this.state.author.dob}-{this.state.author.dod}</h6>\r\n                                <button className=\"btn btn-link\" style={{color:'black'}} onClick={() => {this.setState({showBooks:true})}}><i className=\"fas fa-book-open\"></i> <span><b>({this.state.author.Books && this.state.author.Books.length})</b></span></button>\r\n                                <br /><br />\r\n                                {this.state.authorBio && this.state.authorBio.length > 0 && this.state.authorBio.map(item => {\r\n                                    return (<div className=\"\" style={{ width: \"340px\",}}><b style={{fontSize:15,display:\"block\"}}>{item.heading.charAt(0).toUpperCase() + item.heading.slice(1)}:</b>\r\n                                        {item.values.map(v => {\r\n\r\n                                            return <p6 style={{marginTop:'-10px;'}}><span style={{ display: \"inline-block\",padding:0.1 }}><Link style={{ cursor: \"pointer\",color:'black',fontSize:13 }} to=\"author-clusters\" onClick={() => this.onBioClick({ distinct_grouping: v.name, distinct_grouping_id: v.id })}>{v.name}</Link>&nbsp;&nbsp;</span></p6>\r\n                                        })}\r\n\r\n                                    </div>);\r\n                                })\r\n                                }\r\n                                </div>\r\n                                <div id=\"authorInfluencedByAuthors\" style={{ width: \"340px\", margin: \"auto\",marginTop:66,paddingTop:20, }}>\r\n                                    {/* this.state.sortedAuthorInfluencedByAuthors && this.state.sortedAuthorInfluencedByAuthors.length > 0 && <div>\r\n                                        <h6 style={{ color: \"red\" }}>Influenced By:</h6>\r\n                                        <div className=\"dytb\" >\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorInfluencedByAuthors.map(author => {\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}></div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.author_first + author.author_last}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward()} className=\"fa fa-angle-right dytbc\" ></i>\r\n                                        </div>\r\n                                    </div>*/\r\n                                    }\r\n                                    {this.state.sortedAuthorInfluencedOnAuthors && this.state.sortedAuthorInfluencedOnAuthors.length > 0 && <div>\r\n                                        {/* <h6 style={{ color: \"red\" }}>Influenced On:</h6> */}\r\n                                        <div className=\"dytb\">\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse1()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorInfluencedOnAuthors.map(author => {\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}>\r\n                                                            <img src={`https://conceptionary-images.s3.amazonaws.com/${author.lastName}+${author.firstName}.jpg`} alt={author.firstName + \" \" + author.lastName}></img>\r\n                                                        </div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.firstName + author.lastName}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward1()} className=\"fa fa-angle-right dytbc\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    }\r\n                                    {this.state.sortedAuthorConvoWithAuthors && this.state.sortedAuthorConvoWithAuthors.length > 0 && <div>\r\n                                        {/* <h6 style={{ color: \"red\" }}>In Conversation with:</h6> */}\r\n                                        <div className=\"dytb\">\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse2()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorConvoWithAuthors.map(author => {\r\n\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}>\r\n                                                            <img src={`https://conceptionary-images.s3.amazonaws.com/${author.lastName}+${author.firstName}.jpg`} alt={author.firstName + \" \" + author.lastName}></img>\r\n                                                        </div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.firstName + author.lastName}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward2()} className=\"fa fa-angle-right dytbc\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    }\r\n                                </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-2\" >\r\n                                <div className=\"text-center\">\r\n                                    {/* This place is for adds */}\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                        {/* new row for books */}\r\n                        {this.state.showBooks && <div className=\"row\">\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", textAlign: \"\" }}>\r\n                                <div style={{ width: \"150px\", margin: \"auto\", marginTop: \"10px\" }}>\r\n                                    <div style={{ cursor: \"pointer\" }} onClick={() => this.setState({ showBooks: false })}><i style={{ width: \"16px\" }} className=\"fa  fa-arrow-left\" />&nbsp;&nbsp;<span style={{ fontSize: \"16px\" }} >Go Back</span></div>\r\n                                    <h3>Books</h3>\r\n                                    {this.state.authorBooksById && this.state.authorBooksById.length > 0 && this.state.authorBooksById.map(book => {\r\n                                        return (\r\n                                            <a href={\"#\" + book.discrete_book_id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                            }}>{book.title}</a>\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\" }}>\r\n                                <div id=\"main-co    ntent\" style={{ backgroundColor: \"white\" }}>\r\n                                    <div id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                        <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                        <h5 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\", display: \"inline-block\" }} className=\"float-right\">{(this.state.selectedOption.born && this.state.selectedOption.died) ? this.state.selectedOption.born + \" - \" + this.state.selectedOption.died : \"HUL\"}</h5>\r\n                                    </div>\r\n                                    {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Positive\r\n                                    </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Critical\r\n                                    </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Funny\r\n                                    </label>\r\n                                    </div> */}\r\n                                    {this.state.author && this.state.author.Books && this.state.author.Books.length > 0 && this.state.author.Books.map(book => {\r\n                                        {\r\n                                            return this.state.authorBooks[book].BookDescriptions && this.state.authorBooks[book].BookDescriptions.length > 0 && this.state.authorBooks[book].BookDescriptions.map(bookDescription => {\r\n                                                return (<div id={book} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col col-md-2\">\r\n                                                            <div style={{ width: \"60px\", minHeight: \"80px\", background: \"red\" }}></div>\r\n                                                        </div>\r\n                                                        <div className=\"col col-md-10\">\r\n                                                            <h6>{this.state.authorBooks[book].title}</h6>\r\n                                                            <div style={{ color: \"black\" }}>{bookDescription.description}</div>\r\n                                                            <div className=\"pull-right\">\r\n                                                                <a className=\"contextbutton\" onClick={() => {\r\n                                                                    this.setState({\r\n                                                                        visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                                        id: book.id,\r\n                                                                    })\r\n                                                                }} style={{ cursor: \"pointer\" }}>Context</a>\r\n                                                            </div>\r\n                                                            <div id={book} style={{ marginTop: \"20px\", display: [book == this.state.id ? this.state.visibility : \"none\"] }} >{bookDescription.source}</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>);\r\n                                            })\r\n                                        }\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                    }\r\n                </div>}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst setInitialsortedAuthorInfluencedByAuthors = (data) => {\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\nconst setInitialsortedAuthorInfluencedOnAuthors = (data) => {\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\nconst setInitialsortedAuthorConvoWithAuthors = (data) => {\r\n    // console.log('Here get me ', data);\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\n// const renderAuthorBio = (authorBio) => {\r\n//     let desiredArray = [];\r\n//     let uniqueSupraIds = [];\r\n//     authorBio.forEach(element => {\r\n//         if (!(uniqueSupraIds.includes(element.supra_id))) {\r\n//             uniqueSupraIds.push(element.supra_id);\r\n//             // console.log(\"Here is element--------------------->\", element);\r\n//             desiredArray.push({ supra_id: element.supra_id, heading: element.author_supra, values: [{ distinct_grouping: element.distinct_grouping, distinct_grouping_id: element.distinct_grouping_id }] })\r\n//         }\r\n//         else {\r\n//             // console.log(\"Here in else\")\r\n//             for (let i = 0; i < desiredArray.length; i++) {\r\n//                 if (desiredArray[i].supra_id === element.supra_id) {\r\n//                     desiredArray[i].values.push({ distinct_grouping: element.distinct_grouping, distinct_grouping_id: element.distinct_grouping_id });\r\n//                 }\r\n//             }\r\n//         }\r\n//     })\r\n//     return desiredArray;\r\n// }\r\n// const getUniqueBookNamesWithIds = (authorBooks) => {\r\n//     // console.log(\"Recievce author books\", authorBooks)\r\n//     let uniqueBookNameWithId = [];\r\n//     let uniqueBookIds = [];\r\n//     authorBooks.forEach(e => {\r\n//         if (!(uniqueBookIds.indexOf(e.id) > -1)) {\r\n//             uniqueBookIds.push(e.id);\r\n//             let discrete_book_id = e.id;\r\n//             let title = e.title;\r\n//             uniqueBookNameWithId.push({ discrete_book_id, title });\r\n//         }\r\n//     })\r\n//     return uniqueBookNameWithId;\r\n// }\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        getAuthorDetails: bindActionCreators(getAuthorDetails, dispatch),\r\n        // getAuthorBio: bindActionCreators(getAuthorBio, dispatch),\r\n        //getAuthorBooks: bindActionCreators(getAuthorBooks, dispatch),\r\n        getAuthorInfluencedByAuthors: bindActionCreators(getAuthorInfluencedByAuthors, dispatch),\r\n        // getAuthorInfluencedOnAuthors: bindActionCreators(getAuthorInfluencedOnAuthors, dispatch),\r\n        //getAuthorConvoWithAuthors: bindActionCreators(getAuthorConvoWithAuthors, dispatch),\r\n        flushAuthorState: bindActionCreators(flushAuthorState, dispatch),\r\n        flushAuthorClusterState: bindActionCreators(flushAuthorClusterState, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch),\r\n        perspectivesByKeywords:bindActionCreators(perspectivesByKeywords,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    console.log(\"State on author page is\",state);\r\n    return {\r\n        navbar: state.navbar,\r\n        author: state.author,\r\n        uniqueconcepts: getUniqueConcept(state),\r\n        // uniqueconcepts:state.author.authorWithDetails.sortedKeywords,\r\n        sortedperpectives:  getSortedPerspectivesByConceptName(state),\r\n        authorBio: getAuthorBioData(state),\r\n        authorBooksById: getUniqueAuthorBooks(state),\r\n        ends:state.author.ends,\r\n        finish:state.author.finish\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthorPage);","import axios from 'axios';\r\nexport default function setAuthorizationToken(token) {\r\n    if (token) {\r\n        axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`\r\n    }\r\n    else {\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n}","import axios from \"axios\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport setAuthorizationToken from \"../utils/setAuthorizationToken\";\r\nexport function setCurrentUser(user) {\r\n    return {\r\n        type: \"SET_CURRENT_USER\",\r\n        user\r\n    }\r\n}\r\nexport function logOut() {\r\n    return dispatch => {\r\n        localStorage.removeItem('jwtToken');\r\n        setAuthorizationToken(false);\r\n        dispatch({\r\n            type: \"LOG_OUT\",\r\n        })\r\n    }\r\n}\r\n\r\n// new implementation\r\n\r\nexport function userLoginRequest(userData) {\r\n\r\n    return dispatch => {\r\n        return axios.post(\"http://localhost:3002/api/rest/v1/login\", userData, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        })\r\n            .then(res => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('jwtToken', token);\r\n                setAuthorizationToken(token);\r\n                dispatch(setCurrentUser(jwt.decode(token)));\r\n            });\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport validateLogin from \"../../helpers/validateLogin\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport classnames from \"classnames\";\r\nimport { userLoginRequest } from \"../../actions/loginActions\";\r\nimport \"./Login.css\";\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            errors: {},\r\n            isLoading: false,\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n    isValid(data) {\r\n        const { errors, isValid } = validateLogin(data);\r\n        if (!isValid) {\r\n            this.setState({ errors })\r\n        }\r\n        return isValid;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.isValid(this.state)) {\r\n            this.setState({ errors: {}, isLoading: true });\r\n            this.props.userLoginRequest({ username: this.state.username, password: this.state.password, call: \"signin\" }).then(\r\n                (data) => { this.props.history.push(\"/command-center\"); console.log(\"Data after succeful response login\", data) },\r\n                (data) => { this.setState({ errors: data.response.data, isLoading: false }); console.log(\"data after error login\", data); console.log(\"stategkkfhjllllllllll\", this.state); }\r\n            );\r\n        }\r\n    }\r\n    render() {\r\n        const { username, password, isLoading, errors } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"back\">\r\n                    <div className=\"col col-md-4 offset-md-4 div-center\" style={{ marginTop: 70 }}>\r\n                        <div className=\"loginCenter\">\r\n                            <h3>Login</h3>\r\n                            <hr />\r\n                            <form onSubmit={this.onSubmit}>\r\n                                {errors.form && <div className=\"alert alert-danger\">{errors.form}</div>}\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.username })}>\r\n                                    {errors.username && <span className=\"help-block\">{errors.username}</span>}\r\n                                    {!errors.username && <label >Username</label>}\r\n                                    <input type=\"username\" class=\"form-control\" name=\"username\" value={this.state.username} placeholder=\"username\" onChange={this.onChange} />\r\n                                </div>\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.password })}>\r\n                                    {errors.password && <span className=\"help-block\">{errors.password}</span>}\r\n                                    {!errors.password && <label >Password</label>}\r\n                                    <input type=\"password\" class=\"form-control\" name=\"password\" onChange={this.onChange} placeholder=\"Password\" />\r\n                                </div>\r\n                                <button style={{ backgroundColor: '#009dd6' }} type=\"submit\" disabled={this.state.isLoading} class=\"btn \">Login</button>\r\n                                <hr />\r\n                                <a href=\"/signup\" class=\"btn btn-link\">Signup</a>\r\n                                <button disabled={isLoading} type=\"button\" class=\"btn btn-link\">Reset Password</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        userLoginRequest: bindActionCreators(userLoginRequest, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n","import validator from \"validator\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nexport default function (loginData) {\r\n    let errors = {};\r\n    if (validator.isEmpty(loginData.email)) {\r\n        errors.email = \"*Email is required!\";\r\n    }\r\n    if (validator.isEmpty(loginData.password)) {\r\n        errors.password = \"*Password is required!\"\r\n    }\r\n\r\n    return {\r\n        errors,\r\n        isValid: isEmpty(errors),\r\n    }\r\n}","import axios from \"axios\";\r\nexport function userSignupRequest(userData) {\r\n    return dispatch => {\r\n        return axios.post(\"https://8xzajgtd2e.execute-api.us-east-1.amazonaws.com/dev/signup\", userData, {\r\n            headers: {\r\n\r\n            }\r\n        });\r\n    }\r\n}","import validator from \"validator\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nexport default function (signupData) {\r\n    let errors = {};\r\n    if (validator.isEmpty(signupData.firstname)) {\r\n        errors.firstname = \"*First Name is required!\";\r\n    }\r\n    if (validator.isEmpty(signupData.lastname)) {\r\n        errors.lastname = \"*Last Name is required!\";\r\n    }\r\n    if (validator.isEmpty(signupData.email)) {\r\n        errors.email = \"*Email is required!\";\r\n    }\r\n    if (!validator.isEmail(signupData.email)) {\r\n        errors.email = \"*Email is invalid!\"\r\n    }\r\n    return {\r\n        errors,\r\n        isValid: isEmpty(errors),\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./Signup.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { userSignupRequest } from \"../../actions/signupActions\";\r\nimport classnames from \"classnames\";\r\nimport { Redirect } from \"react-router\";\r\nimport validateSignup from \"../../helpers/validateSignup\";\r\nclass Signup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            email: \"\",\r\n            errors: {},\r\n            isLoading: false,\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        // console.log(\"Errors in Signup State\", this.state.errors);\r\n    }\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n    isValid(data) {\r\n        const { errors, isValid } = validateSignup(data);\r\n        if (!isValid) {\r\n            this.setState({ errors })\r\n        }\r\n        return isValid;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.isValid(this.state)) {\r\n            this.setState({ errors: {}, isLoading: true });\r\n            this.props.userSignupRequest({\r\n                fname: this.state.firstname, lname: this.state.lastname, email: this.state\r\n                    .email\r\n                , call: \"signup\"\r\n            }).then(\r\n                ({ data }) => { this.props.history.push(\"/login\"); console.log(\"**********first Function*******:\", data.body); console.log(\"State in good 200 request\", this.state); },\r\n                (data) => {\r\n                    // console.log(\"**********second Function*******:\", data.response.data);\r\n                    this.setState({ errors: data.response.data, isLoading: false })\r\n                    // console.log(\"State in bad request\", this.state);\r\n                }\r\n            );\r\n        }\r\n    }\r\n    render() {\r\n        const { errors } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"back\">\r\n\r\n\r\n                    <div className=\"col col-md-6 offset-md-3 div-center\" style={{ marginTop: '50px' }}>\r\n                        <div className=\"loginCenter\">\r\n                            <h3>Signup</h3>\r\n                            <hr />\r\n                            <form onSubmit={this.onSubmit}>\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.firstname })}>\r\n                                    {errors.firstname && <span className=\"help-block\">{errors.firstname}</span>}\r\n                                    {!errors.firstname && <label >Name</label>}\r\n                                    <input type=\"text\" class=\"form-control\" value={this.state.firstname} onChange={this.onChange} name=\"firstname\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    {errors.lastname && <span className=\"help-block\">{errors.lastname}</span>}\r\n                                    {!errors.lastname && <label >Last Name</label>}\r\n                                    <input type=\"text\" class=\"form-control\" value={this.state.lastname} onChange={this.onChange} name=\"lastname\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    {errors.email && <span className=\"help-block\">{errors.email}</span>}\r\n                                    {!errors.email && <label>Email</label>}\r\n                                    <input type=\"email\" class=\"form-control\" value={this.state.email} onChange={this.onChange} name=\"email\" email=\"email\" />\r\n                                </div>\r\n                                <button className=\"pull-right\" disabled={this.state.isLoading} style={{ backgroundColor: '#009dd6' }} type=\"submit\" class=\"btn\">Get Verified</button>\r\n                                <a href=\"/login\" class=\"btn text-center btn-link\">Already have and account ?</a>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        userSignupRequest: bindActionCreators(userSignupRequest, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Signup);\r\n","import React, { Component } from 'react';\r\nimport \"./TopNavBar.css\";\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { bindActionCreators } from 'redux';\r\nimport \"./ReactSelect.css\";\r\nimport \"react-virtualized/styles.css\";\r\nimport \"react-virtualized-select/styles.css\";\r\nimport chroma from 'chroma-js'\r\nimport AsyncSelect from 'react-select/lib/Async';\r\nimport { setSelectedCategory, setSelectedItem, login, logout, signup, flushState, getAllAsync, setAutherClusterSelectedItems, prefetchConceptsForNavbar, prefetchConceptClustersForNavbar, prefetchAuthorsForNavbar, prefetchAuthorClustersForNavbar, prefetchAuthorGroupsForNavbar, getAuthorGroups, addTag, removeTag } from \"../../actions/navbaractions\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Modal from 'react-responsive-modal';\r\nimport { Button, Form, FormGroup, Input, Label, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport '../../../node_modules/bootstrap/dist/js/bootstrap';\r\nimport Loader from 'react-loader-spinner'\r\nimport Joi from 'joi-browser/dist/joi-browser'\r\nimport axios from 'axios';\r\nimport $ from \"jquery\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nimport {\r\n    Collapse,\r\n    Navbar,\r\n    NavbarToggler,\r\n    NavbarBrand,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    UncontrolledDropdown,\r\n    Dropdown,\r\n    DropdownItem,\r\n    DropdownToggle,\r\n    DropdownMenu\r\n} from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nconst server = process.env.REACT_APP_SERVER;\r\nclass TopNavBar extends Component {\r\n    allow=true\r\n    val=\" \"\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedTag: [],\r\n            searchCategory: this.props.navbar.searchCategory,\r\n            seletedSearch: \"\",\r\n            selectedOption: {},\r\n            authorClusterSelectedOptions: \"\",\r\n            concepts: this.props.navbar.concepts,\r\n            conceptClusters: this.props.navbar.conceptClusters,\r\n            authors: this.props.navbar.authors,\r\n            authorClusters: this.props.navbar.authorClusters,\r\n            authorGroups: this.props.navbar.authorGroups,\r\n            dropdownData: [],\r\n            tags: this.props.navbar.tags,\r\n            labelsArray: [],\r\n            loadOptionsData: [],\r\n            suggestions: [],\r\n            modalOpen: false,\r\n            modalSignupOpen: false,\r\n            account: {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            },\r\n            errors: [],\r\n            loginRequestStatus_admin: true,\r\n            loginStatus_admin: true,\r\n            userAccount: [],\r\n            filter:false,\r\n            default:false,\r\n            allow:true,\r\n            modal:false,\r\n            term:'',\r\n            defination:'',\r\n            original:'',\r\n            author:'',\r\n            citation:'',\r\n            show:true,\r\n            thanksModal:false\r\n        }\r\n\r\n        // console.log(\"Top Navbar state in Constructor\", this.props)\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.loadOptions = this.loadOptions.bind(this);\r\n        this.renderRedirect = this.renderRedirect.bind(this);\r\n        this.onSelectedCatagoryChange = this.onSelectedCatagoryChange.bind(this);\r\n        this.handleTerm=this.handleTerm.bind(this)\r\n        this.handleDefination=this.handleDefination.bind(this)\r\n        this.handleOriginal=this.handleOriginal.bind(this)\r\n        this.handleAuthor=this.handleAuthor.bind(this)\r\n        this.handleCitation=this.handleCitation.bind(this)\r\n        this.handleSubmitNew=this.handleSubmitNew.bind(this)\r\n        //this.renderRedirectCategory = this.renderRedirectCategory.bind(this);\r\n        this.searchAllConceptionary = this.searchAllConceptionary.bind(this);\r\n    }\r\n    handleTerm(e){ \r\n        console.log(e);  \r\n        this.setState({term:e.target.value})\r\n    }\r\n    handleDefination(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({defination:e.target.value})\r\n    }\r\n    handleOriginal(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({original:e.target.value})\r\n    }\r\n    handleAuthor(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({author:e.target.value})\r\n    }\r\n    handleCitation(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({citation:e.target.value})\r\n    }\r\n    handleSubmitNew(e){   \r\n        this.setState({modal:false,thanksModal:true})\r\n        console.log(e);\r\n        // this.setState({term:e.target.value})\r\n        e.preventDefault();\r\n        console.log(\"State is \",this.state)\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/newPerspective`,{term:this.state.term,defination:this.state.defination,author:this.state.author,citation:this.state.citation,original:this.state.original}).then(res => {\r\n            console.log(\"Your Email is sent \",res)\r\n            if(res.status=200)\r\n            {\r\n                console.log(\"successfull\");\r\n                this.setState({modal:false});\r\n            }\r\n        })\r\n    }\r\n    schema = {\r\n        Email: Joi.string()\r\n            .required()\r\n            .label(\"Email\"),\r\n        Password: Joi.string()\r\n            .label(\"Password\")\r\n            .required(),\r\n        Username: Joi.string().allow('', null)\r\n    };\r\n\r\n    \r\n    componentDidMount() {\r\n        if(window.location.pathname=='/')\r\n        {\r\n            this.setState({show:false})\r\n            console.log(\"hiding\")\r\n            }\r\n        else\r\n        {\r\n            console.log(\"showing\");\r\n        }\r\n        if (this.props.loginStatus_admin) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n    shuffle(a) {\r\n        // for (let i = a.length - 1; i > 0; i--) {\r\n        //     const j = Math.floor(Math.random() * (i + 1));\r\n        //     [a[i], a[j]] = [a[j], a[i]];\r\n        // }\r\n        return a;\r\n    }\r\n\r\n    toggleModalOpen = () => {\r\n        this.setState(prevState => ({ modalOpen: !(prevState.modalOpen) }));\r\n    }\r\n\r\n    toggleModalSignupOpen = () => {\r\n        this.setState(prevState => ({ modalSignupOpen: !(prevState.modalSignupOpen) }));\r\n    }\r\n\r\n\r\n\r\n\r\n    // Login Actions\r\n\r\n\r\n    validateProperty(input) {\r\n        const obj = { [input.name]: input.value };\r\n        const schema = { [input.name]: this.schema[input.name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        if (!error) return null;\r\n        return error.details[0].message;\r\n    }\r\n\r\n    /* *********************************************** HANDLE INPUT CHANGE EVENT *************************************** */\r\n\r\n    validate = () => {\r\n        const result = Joi.validate(this.state.account, this.schema, {\r\n            abortEarly: false\r\n        });\r\n        if (!result.error) return null;\r\n\r\n        const errors = [];\r\n\r\n        for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n    };\r\n\r\n    handleLoginChange = ({ currentTarget: input }) => {\r\n        const errors = [...this.state.errors];\r\n\r\n        const errorMessage = this.validateProperty(input);\r\n\r\n        if (errorMessage)\r\n            errors[input.name] = errorMessage;\r\n        else\r\n            delete errors[input.name];\r\n\r\n        const account = { ...this.state.account };\r\n\r\n        account[input.name] = input.value;\r\n        this.setState({ account, errors });\r\n\r\n    };\r\n\r\n\r\n    handleSubmit = (e, isSignup) => {\r\n        e.preventDefault();\r\n        // this.setState({loginRequestStatus_admin:false})\r\n        const errors = this.validate();\r\n\r\n        if (!errors) {\r\n            if (isSignup) this.props.signup(this.state.account)\r\n            else this.props.login(this.state.account);\r\n        }\r\n        if (this.props.loginStatus_admin) {\r\n            this.setState({ errors: errors || {} });\r\n        }\r\n    }\r\n\r\n    // end login actions\r\n\r\n\r\n    searchAllConceptionary(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/home/all/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [...this.state.suggestions];\r\n\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthors(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authors/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching authors for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConcepts(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/concepts/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConceptClusters(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/conceptClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                \r\n                const selectedOption = data.data.data;\r\n                // this.setState({selectedOption});\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n\r\n            console.log('Error while prefetching concept clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthorClusters(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroupsNav(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorGroups/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroups(labels, callback) {\r\n        axios.post(`${server}/api/rest/v1/authors/search`, labels).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    onTagsChanged = (tag) => {\r\n        \r\n        // this.setState({filter:false})\r\n        this.props.addTag(tag);\r\n        if (this.state.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: 'AuthorGroups'\r\n            });\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        }\r\n        if (this.state.tags.length <= 0) {\r\n            this.setState({\r\n                searchCategory: this.props.navbar.searchCategory\r\n            });\r\n            this.props.setSelectedCategory(\"All\");\r\n        }\r\n        \r\n\r\n        this.setState({ suggestions: [],filter:!this.state.filter })\r\n\r\n    };\r\n\r\n    onInputChanged = (e) => {\r\n        //console.log(`input value is now: ${e.target.value}`);\r\n    }\r\n\r\n    handleDelete = (i) => {\r\n        const tags = this.state.tags.slice(0)\r\n        tags.splice(i, 1)\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        })\r\n        this.setState({ suggestions: [] })\r\n\r\n\r\n    }\r\n\r\n    handleAddition = (tag) => {\r\n        let tags = [...this.state.tags];\r\n        tags.push({\r\n            id: tag.id.toString(),\r\n            label: tag.label,\r\n            type: tag.type\r\n        });\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        });\r\n        this.setState({ suggestions: [] })\r\n\r\n        //console.log(this.state.tags);\r\n    }\r\n    loadTags = (input, cb) => {\r\n        axios.post(`${server}/api/rest/v1/authorGroups/search`, input).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [];\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    obj.value = x.label;\r\n                    obj.type = x.type;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n                cb(null, suggestions);\r\n            }\r\n            else {\r\n                console.log(\"\");\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching suggestions for navbar', error);\r\n        });\r\n    }\r\n    loadSuggestions = (label) => {\r\n        let tagsObject = {};\r\n        if (this.state.tags.length < 1) {\r\n            tagsObject = {};\r\n            tagsObject.type = \"both\";\r\n            tagsObject.labels = label;\r\n        } else {\r\n            tagsObject = {};\r\n            tagsObject.labels = label;\r\n            tagsObject.type = \"group\";\r\n            tagsObject.id = this.state.tags.map(x => x.id);\r\n\r\n        }\r\n        let query = {};\r\n        query.tagsObject = tagsObject;\r\n        return new Promise((resolve, reject) => {\r\n            this.loadTags(query, function (err, suggestions) {\r\n\r\n                resolve(suggestions);\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    handleChange = (selectedOption) => {\r\n        ReactDOM.findDOMNode(this.refs.myInput).focus();\r\n        this.setState({allow:true});\r\n\r\n        if (selectedOption.label !== undefined) {\r\n            this.props.setSelectedItem(selectedOption);\r\n            this.setState({\r\n                selectedOption\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTagChange = (selectedTag) => {\r\n        if (selectedTag.label !== undefined) {\r\n            this.state.tags.push(selectedTag);\r\n            this.setState({ tags: this.state.tags });\r\n        }\r\n    }\r\n\r\n    onSelectedCatagoryChange(e) {\r\n        if (this.props.navbar.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: \"AuthorGroups\",\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        } else {\r\n            this.setState({\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(e);\r\n        }\r\n    }\r\n    loadOptions(inputValue) {\r\n        if (this.state.searchCategory === \"Concept\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConcepts(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Concept Clusters\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConceptClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"AuthorGroups\") {\r\n            let obj = {};\r\n            obj.labels = this.state.tags;\r\n            obj.category = this.state.seletedSearch;\r\n            obj.label = inputValue;\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroups(obj, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"Author\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthors(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Clusters\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Groups\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroupsNav(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"All\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAllConceptionary(inputValue, function (err, results) {\r\n\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n    };\r\n    renderRedirect = () => {\r\n        console.log(\"rendering now\",this.state.selectedOption)\r\n        if (this.state.selectedOption) {\r\n            if (this.state.selectedOption.category) {\r\n                console.log(\"Rendering \",this.state.selectedOption)\r\n                switch (this.state.selectedOption.category) {\r\n                    case \"Concepts\":\r\n                        return <Redirect to='/concepts' />\r\n                    case \"Concept-Clusters\":\r\n                        return <Redirect to='/concept-clusters' />\r\n                    case \"Authors\":\r\n                        return <Redirect to='/authors' />\r\n                    case \"Author-Clusters\":\r\n                        return <Redirect to='/author-clusters' />\r\n                    case \"Author-Groups\":\r\n                        return <Redirect to='/author-groups' />\r\n                    default:\r\n                        return null\r\n                }\r\n            }\r\n        }\r\n    }\r\n    removeTag = id => {\r\n        this.props.removeTag(id);\r\n    }\r\n    componentWillUnmount()\r\n    {\r\n        console.log(\"component Un mounted\");\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if(window.location.pathname=='/')   \r\n        {\r\n            this.setState({show:false})\r\n            console.log(\"hiding\")\r\n        }\r\n        else\r\n        {\r\n            console.log(\"showing\")\r\n            \r\n        this.setState({show:true})\r\n        }\r\n        console.log(this.state.selectOption);\r\n        console.log(nextProps.navbar.selectedOption)\r\n        \r\n        if (this.state.selectedOption !== nextProps.navbar.selectedOption && nextProps.navbar.selectedOption) {\r\n            this.setState({ selectedOption: nextProps.navbar.selectedOption });\r\n        }\r\n\r\n        // if ( this.props.loginStatus_admin !=nextProps.loginStatus_admin  && nextProps.loginStatus_admin) {\r\n\r\n        // }\r\n        if (nextProps.navbar.SIGNUP_SUCCESS) {\r\n            let account = {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            };\r\n            this.setState({\r\n                account\r\n\r\n            });\r\n        }\r\n        if (this.props.loginStatus_admin != nextProps.loginStatus_admin && !nextProps.invalidLogin && nextProps.loginStatus_admin) {\r\n            this.setState({ modalOpen: false })\r\n        }\r\n\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (nextProps.navbar.tags.length <= 0) {\r\n                this.props.setSelectedCategory(this.state.seletedSearch ? this.state.seletedSearch : 'All');\r\n            }\r\n        }\r\n        // let selectedOption=\"\";\r\n        // if(this.allow)\r\n        // {\r\n            \r\n        // }\r\n        this.setState({\r\n            searchCategory: nextProps.navbar.searchCategory,\r\n            concepts: nextProps.navbar.concepts,\r\n            conceptClusters: nextProps.navbar.conceptClusters,\r\n            authors: nextProps.navbar.authors,\r\n            authorClusters: nextProps.navbar.authorClusters,\r\n            authorGroups: nextProps.navbar.authorGroups,\r\n            selectedOption: nextProps.navbar.selectedOption,\r\n            tags: nextProps.navbar.tags,\r\n        \r\n\r\n        }); \r\n        if (nextProps.navbar.selectedOption.label !== undefined) {\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                \r\n                let filters = nextProps.navbar.tags.map(x => x.label);\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}?`;\r\n                for (let i = 0; i < filters.length; i++) {\r\n                    if (i == 0) {\r\n                        url = url.concat(`filters=${filters[i]}`);\r\n                    } else {\r\n                        url = url.concat(`&filters=${filters[i]}`);\r\n                    }\r\n\r\n                }\r\n                // console.log(\"absolute path is \",this.props.history);\r\n                window.history.pushState(null, null, url);\r\n            \r\n                // if(this.props.history.location.pathname==='/Message')\r\n                // {\r\n                //     window.location=window.location.href;\r\n                // }\r\n                // window.history.go();\r\n\r\n            } else {\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}`;\r\n                console.log(\"pushing\",url)\r\n                \r\n                //   if(this.props.history.location.pathname==='/Message')\r\n                //   {\r\n                //       window.location=window.location.href;\r\n                //   }\r\n                \r\n                  window.history.pushState(null, null, url);\r\n\r\n                console.log(\"absolute path is \",window.location.href);\r\n                //   if(this.props.history.location.pathname==='/Message')\r\n                //   {\r\n                //       window.location=window.location.href;\r\n                //   }\r\n    \r\n                //   window.history.go();\r\n                //this.props.history.push(url);\r\n            }\r\n\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return (\r\n             <div>\r\n                {this.renderRedirect()}\r\n                {/* {this.state.show && <div><Navbar style={{position:'fixed',zIndex:100, backgroundColor: [getBackgroudColor(this.state.selectedOption.page)],padding:\"0px\",paddingLeft:\"20px\",paddingRight:\"20px\",width:\"100vw\" }} light expand=\"md\"> */}\r\n                {this.state.show && <div><Navbar style={{position:'fixed',zIndex:100, backgroundColor: '#fff',padding:\"0px\",paddingLeft:\"20px\",paddingRight:\"20px\",width:\"100vw\",boxShadow:\"1px 2px #d8cfcf\" }} light expand=\"md\">\r\n                    <NavbarBrand href=\"/\">Conceptionary</NavbarBrand>\r\n                    \r\n                    {/* <Nav className=\"navbar ml-auto d-md-none d-block d-sm-none d-md-none\">\r\n                        <NavItem  className=\"\" style={{margin:0,padding:0,cursor:'pointer'}} onClick={() => {this.setState({filter:!this.state.filter})}}>\r\n                            <i id=\"filter\" className=\"fa fa-filter filter\"></i>\r\n                        </NavItem>\r\n                    </Nav> */}\r\n                    <NavbarToggler onClick={this.toggle} />\r\n                    {/* <AsyncSelect className=\" d-block d-sm-block d-md-none\"\r\n                                        value={this.state.allow?this.state.selectedOption:\" \"}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onOpen={()=> this.setState({selectedOption:\" \"})}\r\n                                        onFocus={()=> {this.setState({allow:false});}}\r\n                                        styles={colourStyles}\r\n                                    /> */}\r\n                    <Collapse isOpen={this.state.isOpen} navbar>\r\n                        <Nav className=\"navbar\">\r\n                            <form className=\"form-inline\" >\r\n                                <span style={{ display: \"inline-block\",marginLeft:'166px',padding:\"5px 3px\",marginTop:\"-10px\" }}>\r\n                                    <AsyncSelect className=\"ml-2 width-300\"\r\n                                        value={this.state.allow?this.state.selectedOption:\" \"}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onOpen={()=> this.setState({selectedOption:\" \"})}\r\n                                        onFocus={()=> {this.setState({allow:false});}}\r\n                                        styles={colourStyles}\r\n                                    />\r\n\r\n                                </span>\r\n                               \r\n                               \r\n                                <span style={{ display: \"inline-block\" }}>\r\n                                    <select ref = \"myInput\" autoFocus={false} style={{marginTop:\"-15px\", height:37,padding: \"5px 2px\", borderRadius: \"5px\", outline:'none',border: \"none\",width:[this.state.searchCategory === \"All\"?'50px':'auto'],background:'none' }} onChange={(e) => this.onSelectedCatagoryChange(e.target.value)} value={this.state.seletedSearch}>\r\n                                        <option selected={this.state.searchCategory === \"All\"} value=\"All\">All</option>\r\n                                        <option selected={this.state.searchCategory === \"Concept\"} value=\"Concept\">Concepts</option>\r\n                                        <option selected={this.state.searchCategory === \"Author\"} value=\"Author\">Authors</option>\r\n                                        <option selected={this.state.searchCategory === \"Concept Clusters\"} value=\"Concept Clusters\">Concept lists</option>\r\n                                        <option selected={this.state.searchCategory === \"Author Groups\"} value=\"Author Groups\">Author lists</option>\r\n                                    </select>\r\n                                </span>\r\n            \r\n                            </form>\r\n                            &nbsp;\r\n                            &nbsp;\r\n                            \r\n                        </Nav>\r\n                        <Nav className=\"ml-auto\" navbar>\r\n                             \r\n                                \r\n                        <span style={{ display: \"inline-block\",paddingTop:\"5px\",paddingRight:'5px' }}>\r\n                                    <ul>\r\n                                        {this.state.tags.map(tag => {\r\n                                            return <li style={{ display: 'inline-block', background: 'purple', color: \"#fff\", borderRadius: '8px', padding: '5px', fontSize: '13px', marginLeft: '2px' }}>{tag.label}\r\n                                                <span style={{ marginLeft: '5px' }} className=\"badge\" id=\"tag\" onClick={() => { this.removeTag(tag.id) }}>X</span>\r\n                                            </li>\r\n                                        })}\r\n                                    </ul>\r\n                                </span>\r\n                             <span className=\"ml-auto\" style={{ display:this.state.filter?\"inline-block\":\"none\" }}>\r\n                                    <AsyncSelect className=\"width-200\"\r\n                                        value={this.state.selectedTag}\r\n                                        loadOptions={this.loadSuggestions}\r\n                                        onChange={this.onTagsChanged}\r\n                                        // styles={colourStyles}\r\n                                        isDisabled={this.state.tags.length >= 2 ? true : false || this.state.searchCategory === \"Author Groups\"}\r\n                                    />\r\n\r\n                                </span>\r\n                                \r\n                        <span style={{ display: \"inline-block\" }}>\r\n                            <NavItem  className=\"\" style={{margin:0,padding:0,cursor:'pointer'}} onClick={() => {this.setState({filter:!this.state.filter})}}>\r\n                                <i id=\"filter\" className=\"fa fa-filter filter\"></i>\r\n                            </NavItem>\r\n                                        \r\n                                </span>\r\n                                <span>\r\n                                                                  \r\n                                <NavLink onClick={() => {this.setState({modal:true})}} style={{cursor:'pointer'}} ><i className=\"fa fa-plus\"  style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i></NavLink>\r\n                            \r\n                                    </span>\r\n                                <span>\r\n                                        \r\n                                        <UncontrolledDropdown nav inNavbar>\r\n                                          <DropdownToggle nav >\r\n                                            <i class=\"fa fa-info\" style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i>\r\n                                          </DropdownToggle>\r\n                                          <DropdownMenu right>\r\n                                            <DropdownItem tag=\"a\"  href=\"/about\">\r\n                                                About\r\n                                            </DropdownItem>\r\n                                            <DropdownItem divider />\r\n                                            <DropdownItem tag=\"a\" href=\"/contact\">\r\n                                                Contact\r\n                                            </DropdownItem>\r\n                                            <DropdownItem divider />\r\n                                            <DropdownItem tag=\"a\" href=\"/TermsOfUse\">\r\n                                                Terms of Use\r\n                                            </DropdownItem>\r\n                                          </DropdownMenu>\r\n                                        </UncontrolledDropdown>\r\n                                                              </span>\r\n                                                              \r\n\r\n                            {/* {\r\n                                this.props.loginStatus_admin ?\r\n                                    <React.Fragment>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                {this.props.loggedInUserAccount_admin.username}\r\n\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                <span onClick={() => { this.props.logout() }}>Logout</span>\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n\r\n                                            <button\r\n                                                style={\r\n                                                    {\r\n                                                        border: '1px solid',\r\n                                                        marginRight: '5px',\r\n                                                        borderRadius: '50%',\r\n                                                        color: 'black',\r\n                                                        fontWeight: 'bold',\r\n                                                        background: 'white'\r\n                                                    }\r\n                                                }\r\n                                            >+</button>\r\n                                        </span>\r\n\r\n                                    </React.Fragment>\r\n                                    :\r\n\r\n                                    <span>\r\n                                 \r\n                                    <NavItem style={{ cursor: 'pointer' }}>\r\n                                \r\n                                        <NavLink onClick={this.toggleModalOpen} >Log-in</NavLink>\r\n                                    </NavItem>\r\n                                    </span>\r\n                                    \r\n\r\n                            } */}\r\n                        </Nav>\r\n                    </Collapse>\r\n                    \r\n                        </Navbar> \r\n                        <div className=\"d-md-none d-lg-none d-xl-none\" style={{position:'fixed',zIndex:'1',width:'100%',display:'flex',alignItems:'flex-end',justifyContent:'center',height:'90px',background:'rgb(237,244,247)',paddingBottom:'3px'}}>\r\n                            <AsyncSelect className=\"ml-2 width-300\"\r\n                                        value={this.state.allow?this.state.selectedOption:\" \"}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onOpen={()=> this.setState({selectedOption:\" \"})}\r\n                                        onFocus={()=> {this.setState({allow:false});}}\r\n                                        styles={colourStyles}\r\n                                    />\r\n                                    </div> \r\n                                    \r\n                                    </div>\r\n                                    \r\n                                    }    \r\n                       \r\n                <Modal open={this.state.modalOpen} onClose={this.toggleModalOpen} center>\r\n                    <h4 style={{ textAlign: \"center\" }}>Log in to your account</h4>\r\n\r\n                    <div style={{ padding: '50px' }}>\r\n                        <Form style={{ margin: 'auto', width: '300px', padding: '20px 30px', background: '#fff', boxShadow: '0 0 20px #ccc' }}>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Email\">Email</Label> */}\r\n                                <Input type=\"text\" name=\"Email\" id=\"Email\" onChange={(e) => this.handleLoginChange(e)} placeholder=\"username\" />\r\n                                {this.state.errors.Email && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Email}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Password\" name=\"Password\" id=\"Password\" onChange={(e) => this.handleLoginChange(e)} placeholder=\"Password\" />\r\n                                {this.state.errors.Password && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Password}</p>\r\n                                )}\r\n                            </FormGroup>\r\n                            {\r\n                                this.props.invalidLogin ? <p className=\"alert alert-info\">Invalid username/password</p> : null\r\n                            }\r\n\r\n                            <p style={{ color: '#641E89', textDecoration: 'underline', cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    this.toggleModalOpen();\r\n                                    this.toggleModalSignupOpen();\r\n                                }}\r\n                            >Don't have an account? signup</p>\r\n                            <Button onClick={(e) => this.handleSubmit(e)}\r\n                                style={{\r\n                                    width: \"100%\",\r\n                                    height: \"40px\",\r\n                                    backgroundColor: \"#641E89\",\r\n                                    color: \"#fff\",\r\n                                    border: \"1px solid white\"\r\n                                }} className=\"btn form-control\">{this.state.loginRequestStatus_admin ? \"Login\" :\r\n                                    <Loader\r\n                                        type=\"Puff\"\r\n                                        color=\"#FFF\"\r\n                                        height=\"30\"\r\n                                        width=\"30\"\r\n                                    />}\r\n                            </Button>\r\n\r\n                        </Form>\r\n                    </div>\r\n                </Modal>        \r\n                <Modal open={this.state.modal}  toggle={() => {this.setState({modal:false})}}  onClose={() => {this.setState({modal:false})}} styles={{padding:0}} >\r\n                <ModalHeader style={{padding:'0',paddingRight:'1rem'}} className='text-center'><h1>Submit a definition</h1> <h3>for consideration</h3></ModalHeader>\r\n                         <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">term:</label>\r\n                            <div onChange={this.handleTerm} className=\"col-md-12\">\r\n                                 <input type=\"text\" className=\"form-control\" id=\"term\" placeholder=\"enter term\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">definition:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea onChange={this.handleDefination}  className=\"form-control\" placeholder=\"enter definition\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">original:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea className=\"form-control\" onChange={this.handleOriginal}  placeholder=\"enter original\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">author:</label>\r\n                            <div className=\"col-md-12\">\r\n                                 <input type=\"text\"  onChange={this.handleAuthor}  className=\"form-control\" id=\"term\" placeholder=\"enter author name\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">citation:</label>\r\n                            <div className=\"col-md-10\">\r\n                                <textarea  onChange={this.handleCitation}  className=\"form-control\" placeholder=\"enter citation\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"col-md-offset-2 col-md-10\">\r\n                            <button type=\"submit\" onClick={this.handleSubmitNew} class=\"btn btn-success\">Submit</button>\r\n                            </div>\r\n                        </div>\r\n                </Modal>\r\n                {/* <Modal isOpen={this.state.thanksModal} toggle={() => {this.setState({thanksModal:false})}} className=\"animated zoomIn\" style={{top:'30%'}}>\r\n                            <ModalHeader toggle={this.toggle} style={{padding:'0',paddingRight:'1rem'}}></ModalHeader>\r\n                            <ModalBody className=\"text-center\">\r\n                                <h3>Thanks for getting in touch</h3>\r\n                            </ModalBody>\r\n                           \r\n                        </Modal> */}\r\n                <Modal open={this.state.modalSignupOpen} onClose={this.toggleModalSignupOpen} center>\r\n                    <h4 style={{ textAlign: \"center\" }}>Sign up for a new account</h4>\r\n                    {\r\n                        this.props.navbar.SIGNUP_SUCCESS &&\r\n\r\n                        (\r\n                            <div class=\"alert alert-success alert-dismissible\">\r\n                                <span href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</span>\r\n                                <strong>Success!</strong> user created please login.\r\n                        </div>\r\n                        )\r\n                    }\r\n                    <div style={{ padding: '50px' }}>\r\n                        <Form style={{ margin: 'auto', width: '300px', padding: '20px 30px', background: '#fff', boxShadow: '0 0 20px #ccc' }}>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Email\">Email</Label> */}\r\n                                <Input type=\"text\" name=\"Email\" id=\"Email\" value={this.state.account.Email} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Email\" />\r\n                                {this.state.errors.Email && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Email}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Username\" name=\"Username\" id=\"Username\" value={this.state.account.Username} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Username\" />\r\n                                {this.state.errors.Username && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Username}</p>\r\n                                )}\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Password\" name=\"Password\" id=\"Password\" value={this.state.account.Password} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Password\" />\r\n                                {this.state.errors.Password && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Password}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <p style={{ color: '#641E89', textDecoration: 'underline', cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    this.toggleModalSignupOpen();\r\n                                    this.toggleModalOpen();\r\n                                }}\r\n                            >Already have an account? login</p>\r\n                            {/* <p style={{color:'#641E89',textDecoration:'underline', cursor:'pointer'}}>Forgot Password ?</p> */}\r\n                            <Button onClick={(e) => this.handleSubmit(e, true)}\r\n                                style={{\r\n                                    width: \"100%\",\r\n                                    height: \"40px\",\r\n                                    backgroundColor: \"#641E89\",\r\n                                    color: \"#fff\",\r\n                                    border: \"1px solid white\"\r\n                                }} className=\"btn form-control\">{this.state.loginRequestStatus_admin ? \"Signup\" :\r\n                                    <Loader\r\n                                        type=\"Puff\"\r\n                                        color=\"#FFF\"\r\n                                        height=\"30\"\r\n                                        width=\"30\"\r\n                                    />}\r\n                            </Button>\r\n\r\n                        </Form>\r\n                    </div>\r\n                </Modal>\r\n                <Modal open={this.state.thanksModal} onClose={() => {this.setState({thanksModal:false})}} center>\r\n                <ModalHeader toggle={this.toggle} style={{padding:'0',paddingRight:'1rem'}}></ModalHeader>\r\n                            <ModalBody className=\"text-center\">\r\n                                <h3>Thanks for getting in touch</h3>\r\n                            </ModalBody>\r\n                </Modal>\r\n\r\n                            </div> \r\n        );\r\n    }\r\n}\r\n\r\nconst dot = (color = '#ccc') => ({\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n\r\n    ':before': {\r\n        backgroundColor: color,\r\n        borderRadius: 10,\r\n        content: '\" \"',\r\n        display: 'block',\r\n        marginRight: 8,\r\n        height: 10,\r\n        width: 10,\r\n    },\r\n});\r\nconst colourStyles = {\r\n    control: styles => ({ ...styles, backgroundColor: 'white' }),\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        const color = chroma(data.color);\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isDisabled\r\n                ? null\r\n                : isSelected ? data.color : isFocused ? color.alpha(0.1).css() : null,\r\n            color: isDisabled\r\n                ? '#ccc'\r\n                : isSelected\r\n                    ? chroma.contrast(color, 'white') > 2 ? 'white' : 'black'\r\n                    : data.color,\r\n            cursor: isDisabled ? 'not-allowed' : 'default',\r\n        };\r\n    },\r\n    input: styles => ({ ...styles, ...dot() }),\r\n    placeholder: styles => ({ ...styles, ...dot() }),\r\n    singleValue: (styles, { data }) => ({ ...styles, ...dot(data.color) }),\r\n};\r\nconst getBackgroudColor = (page) => {\r\n    switch (page) {\r\n        case 'Concepts':\r\n            return \"#696969\";\r\n        case 'Concept Clusters':\r\n            return \"#CD5C5C\";\r\n        case 'Authors':\r\n            return \"#A52A2A\";\r\n        case 'Author Clusters':\r\n            return \"#800080\";\r\n        default:\r\n            return \"#a4b2b7\";\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushState: bindActionCreators(flushState, dispatch),\r\n        setAutherClusterSelectedItems: bindActionCreators(setAutherClusterSelectedItems, dispatch),\r\n        getAuthorGroups: bindActionCreators(getAuthorGroups, dispatch),\r\n        login: bindActionCreators(login, dispatch),\r\n        signup: bindActionCreators(signup, dispatch),\r\n        logout: bindActionCreators(logout, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        removeTag: bindActionCreators(removeTag, dispatch)\r\n\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        userExist_admin: state.navbar.userExist_admin,\r\n        loginRequestStatus_admin: state.navbar.loginRequestStatus_admin,\r\n        loginStatus_admin: state.navbar.loginStatus_admin,\r\n        invalidLogin: state.navbar.invalidLogin,\r\n        loggedInUserAccount_admin: state.navbar.loggedInUserAccount_admin\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TopNavBar));","// import React, { Component } from 'react';\r\nimport conceptionary_svg from \"../../images/conceptionary.png\";\r\nimport \"./HomePage.css\";\r\n// import{getAuthorGroups} from \"../../utilities\";\r\n// import queryString from \"query-string\";\r\n// import $ from \"jquery\";\r\n\r\n// class HomePage extends Component {\r\n//     default=false;\r\n//     constructor(props) {\r\n//         super(props);\r\n//         this.state = {}\r\n//     }\r\n//     async componentWillMount(){           \r\n//     //     if (queryString.parse(this.props.location.search).filters) {\r\n//     //         let filters = [];\r\n//     //         let queryFilters = queryString.parse(this.props.location.search).filters;\r\n//     //         if (typeof queryFilters === \"string\") {\r\n//     //             filters.push(queryFilters);\r\n//     //         } else {\r\n//     //             filters = queryFilters;\r\n//     //         }\r\n//     //         let author_group = await getAuthorGroups(filters);\r\n//     //         this.props.addTag(author_group);\r\n//     // }\r\n// }\r\n//     render() {\r\n//         return (\r\n//             <div style={{ paddingTop: \"5%\" }} className=\"text-center\">\r\n//                 <img src={conceptionary_svg} width=\"80%\" alt=\"\" />\r\n//             </div>\r\n//         );\r\n//     }\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { Component } from 'react';\r\n// import \"./TopNavBar.css\";\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { bindActionCreators } from 'redux';\r\n// import \"./ReactSelect.css\";\r\nimport \"react-virtualized/styles.css\";\r\nimport \"react-virtualized-select/styles.css\";\r\nimport chroma from 'chroma-js'\r\nimport AsyncSelect from 'react-select/lib/Async';\r\nimport { setSelectedCategory, setSelectedItem, login, logout, signup, flushState, getAllAsync, setAutherClusterSelectedItems, prefetchConceptsForNavbar, prefetchConceptClustersForNavbar, prefetchAuthorsForNavbar, prefetchAuthorClustersForNavbar, prefetchAuthorGroupsForNavbar, getAuthorGroups, addTag, removeTag } from \"../../actions/navbaractions\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Modal from 'react-responsive-modal';\r\nimport { Button, Form, FormGroup, Input, Label, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport '../../../node_modules/bootstrap/dist/js/bootstrap';\r\nimport Loader from 'react-loader-spinner'\r\nimport Joi from 'joi-browser/dist/joi-browser'\r\nimport axios from 'axios';\r\nimport $ from \"jquery\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nimport {\r\n    Collapse,\r\n    Navbar,\r\n    NavbarToggler,\r\n    NavbarBrand,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    UncontrolledDropdown,\r\n    Dropdown,\r\n    DropdownItem,\r\n    DropdownToggle,\r\n    DropdownMenu\r\n} from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nconst server = process.env.REACT_APP_SERVER;\r\nclass HomePage extends Component {\r\n    allow=true\r\n    val=\" \"\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedTag: [],\r\n            searchCategory: this.props.navbar.searchCategory,\r\n            seletedSearch: \"\",\r\n            selectedOption: {},\r\n            authorClusterSelectedOptions: \"\",\r\n            concepts: this.props.navbar.concepts,\r\n            conceptClusters: this.props.navbar.conceptClusters,\r\n            authors: this.props.navbar.authors,\r\n            authorClusters: this.props.navbar.authorClusters,\r\n            authorGroups: this.props.navbar.authorGroups,\r\n            dropdownData: [],\r\n            tags: this.props.navbar.tags,\r\n            labelsArray: [],\r\n            loadOptionsData: [],\r\n            suggestions: [],\r\n            modalOpen: false,\r\n            modalSignupOpen: false,\r\n            account: {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            },\r\n            errors: [],\r\n            loginRequestStatus_admin: true,\r\n            loginStatus_admin: true,\r\n            userAccount: [],\r\n            filter:false,\r\n            default:false,\r\n            allow:true,\r\n            modal:false,\r\n            term:'',\r\n            defination:'',\r\n            original:'',\r\n            author:'',\r\n            citation:'',\r\n        }\r\n\r\n        // console.log(\"Top Navbar state in Constructor\", this.props)\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.loadOptions = this.loadOptions.bind(this);\r\n        this.renderRedirect = this.renderRedirect.bind(this);\r\n        this.onSelectedCatagoryChange = this.onSelectedCatagoryChange.bind(this);\r\n        this.handleTerm=this.handleTerm.bind(this)\r\n        this.handleDefination=this.handleDefination.bind(this)\r\n        this.handleOriginal=this.handleOriginal.bind(this)\r\n        this.handleAuthor=this.handleAuthor.bind(this)\r\n        this.handleCitation=this.handleCitation.bind(this)\r\n        this.handleSubmitNew=this.handleSubmitNew.bind(this)\r\n        //this.renderRedirectCategory = this.renderRedirectCategory.bind(this);\r\n        this.searchAllConceptionary = this.searchAllConceptionary.bind(this);\r\n    }\r\n    handleTerm(e){ \r\n        console.log(e);  \r\n        this.setState({term:e.target.value})\r\n    }\r\n    handleDefination(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({defination:e.target.value})\r\n    }\r\n    handleOriginal(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({original:e.target.value})\r\n    }\r\n    handleAuthor(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({author:e.target.value})\r\n    }\r\n    handleCitation(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({citation:e.target.value})\r\n    }\r\n    handleSubmitNew(e){   \r\n        console.log(e);\r\n        // this.setState({term:e.target.value})\r\n        e.preventDefault();\r\n        console.log(\"State is \",this.state)\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/newPerspective`,{term:this.state.term,defination:this.state.defination,author:this.state.author,citation:this.state.citation,original:this.state.original}).then(res => {\r\n            console.log(\"Your Email is sent \",res)\r\n            if(res.status=200)\r\n            {\r\n                console.log(\"successfull\");\r\n                this.setState({modal:false});\r\n            }\r\n        })\r\n    }\r\n    schema = {\r\n        Email: Joi.string()\r\n            .required()\r\n            .label(\"Email\"),\r\n        Password: Joi.string()\r\n            .label(\"Password\")\r\n            .required(),\r\n        Username: Joi.string().allow('', null)\r\n    };\r\n\r\n    componentDidMount() {\r\n        console.log(\"setting positon \")\r\n        // ReactDOM.findDOMNode(this.refs.search).focus();\r\n        console.log(\"Location is \",window.location.pathname)\r\n        if (this.props.loginStatus_admin) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n    shuffle(a) {\r\n        // for (let i = a.length - 1; i > 0; i--) {\r\n        //     const j = Math.floor(Math.random() * (i + 1));\r\n        //     [a[i], a[j]] = [a[j], a[i]];\r\n        // }\r\n        return a;\r\n    }\r\n\r\n    toggleModalOpen = () => {\r\n        this.setState(prevState => ({ modalOpen: !(prevState.modalOpen) }));\r\n    }\r\n\r\n    toggleModalSignupOpen = () => {\r\n        this.setState(prevState => ({ modalSignupOpen: !(prevState.modalSignupOpen) }));\r\n    }\r\n\r\n\r\n\r\n\r\n    // Login Actions\r\n\r\n\r\n    validateProperty(input) {\r\n        const obj = { [input.name]: input.value };\r\n        const schema = { [input.name]: this.schema[input.name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        if (!error) return null;\r\n        return error.details[0].message;\r\n    }\r\n\r\n    /* *********************************************** HANDLE INPUT CHANGE EVENT *************************************** */\r\n\r\n    validate = () => {\r\n        const result = Joi.validate(this.state.account, this.schema, {\r\n            abortEarly: false\r\n        });\r\n        if (!result.error) return null;\r\n\r\n        const errors = [];\r\n\r\n        for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n    };\r\n\r\n    handleLoginChange = ({ currentTarget: input }) => {\r\n        const errors = [...this.state.errors];\r\n\r\n        const errorMessage = this.validateProperty(input);\r\n\r\n        if (errorMessage)\r\n            errors[input.name] = errorMessage;\r\n        else\r\n            delete errors[input.name];\r\n\r\n        const account = { ...this.state.account };\r\n\r\n        account[input.name] = input.value;\r\n        this.setState({ account, errors });\r\n\r\n    };\r\n\r\n\r\n    handleSubmit = (e, isSignup) => {\r\n        e.preventDefault();\r\n        // this.setState({loginRequestStatus_admin:false})\r\n        const errors = this.validate();\r\n\r\n        if (!errors) {\r\n            if (isSignup) this.props.signup(this.state.account)\r\n            else this.props.login(this.state.account);\r\n        }\r\n        if (this.props.loginStatus_admin) {\r\n            this.setState({ errors: errors || {} });\r\n        }\r\n    }\r\n\r\n    // end login actions\r\n\r\n\r\n    searchAllConceptionary(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/home/all/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [...this.state.suggestions];\r\n\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthors(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authors/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching authors for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConcepts(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/concepts/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConceptClusters(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/conceptClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                // this.setState({selectedOption});\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n\r\n            console.log('Error while prefetching concept clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthorClusters(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroupsNav(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorGroups/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroups(labels, callback) {\r\n        axios.post(`${server}/api/rest/v1/authors/search`, labels).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    onTagsChanged = (tag) => {\r\n        \r\n        // this.setState({filter:false})\r\n        this.props.addTag(tag);\r\n        if (this.state.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: 'AuthorGroups'\r\n            });\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        }\r\n        if (this.state.tags.length <= 0) {\r\n            this.setState({\r\n                searchCategory: this.props.navbar.searchCategory\r\n            });\r\n            this.props.setSelectedCategory(\"All\");\r\n        }\r\n        \r\n\r\n        this.setState({ suggestions: [],filter:!this.state.filter })\r\n\r\n    };\r\n\r\n    onInputChanged = (e) => {\r\n        //console.log(`input value is now: ${e.target.value}`);\r\n    }\r\n\r\n    handleDelete = (i) => {\r\n        const tags = this.state.tags.slice(0)\r\n        tags.splice(i, 1)\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        })\r\n        this.setState({ suggestions: [] })\r\n\r\n\r\n    }\r\n\r\n    handleAddition = (tag) => {\r\n        let tags = [...this.state.tags];\r\n        tags.push({\r\n            id: tag.id.toString(),\r\n            label: tag.label,\r\n            type: tag.type\r\n        });\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        });\r\n        this.setState({ suggestions: [] })\r\n\r\n        //console.log(this.state.tags);\r\n    }\r\n    loadTags = (input, cb) => {\r\n        axios.post(`${server}/api/rest/v1/authorGroups/search`, input).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [];\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    obj.value = x.label;\r\n                    obj.type = x.type;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n                cb(null, suggestions);\r\n            }\r\n            else {\r\n                console.log(\"\");\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching suggestions for navbar', error);\r\n        });\r\n    }\r\n    loadSuggestions = (label) => {\r\n        let tagsObject = {};\r\n        if (this.state.tags.length < 1) {\r\n            tagsObject = {};\r\n            tagsObject.type = \"both\";\r\n            tagsObject.labels = label;\r\n        } else {\r\n            tagsObject = {};\r\n            tagsObject.labels = label;\r\n            tagsObject.type = \"group\";\r\n            tagsObject.id = this.state.tags.map(x => x.id);\r\n\r\n        }\r\n        let query = {};\r\n        query.tagsObject = tagsObject;\r\n        return new Promise((resolve, reject) => {\r\n            this.loadTags(query, function (err, suggestions) {\r\n\r\n                resolve(suggestions);\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    handleChange = (selectedOption) => {\r\n        // ReactDOM.findDOMNode(this.refs.myInput).focus();\r\n        this.setState({allow:true});\r\n\r\n        if (selectedOption.label !== undefined) {\r\n            this.props.setSelectedItem(selectedOption);\r\n            this.setState({\r\n                selectedOption\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTagChange = (selectedTag) => {\r\n        if (selectedTag.label !== undefined) {\r\n            this.state.tags.push(selectedTag);\r\n            this.setState({ tags: this.state.tags });\r\n        }\r\n    }\r\n\r\n    onSelectedCatagoryChange(e) {\r\n        if (this.props.navbar.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: \"AuthorGroups\",\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        } else {\r\n            this.setState({\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(e);\r\n        }\r\n    }\r\n    loadOptions(inputValue) {\r\n        if (this.state.searchCategory === \"Concept\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConcepts(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Concept Clusters\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConceptClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"AuthorGroups\") {\r\n            let obj = {};\r\n            obj.labels = this.state.tags;\r\n            obj.category = this.state.seletedSearch;\r\n            obj.label = inputValue;\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroups(obj, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"Author\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthors(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Clusters\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Groups\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroupsNav(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"All\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAllConceptionary(inputValue, function (err, results) {\r\n\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n    };\r\n    renderRedirect = () => {\r\n        if (this.state.selectedOption) {\r\n            if (this.state.selectedOption.category) {\r\n                switch (this.state.selectedOption.category) {\r\n                    case \"Concepts\":\r\n                        return <Redirect to='/concepts' />\r\n                    case \"Concept-Clusters\":\r\n                        return <Redirect to='/concept-clusters' />\r\n                    case \"Authors\":\r\n                        return <Redirect to='/authors' />\r\n                    case \"Author-Clusters\":\r\n                        return <Redirect to='/author-clusters' />\r\n                    case \"Author-Groups\":\r\n                        return <Redirect to='/author-groups' />\r\n                    default:\r\n                        return null\r\n                }\r\n            }\r\n        }\r\n    }\r\n    removeTag = id => {\r\n        this.props.removeTag(id);\r\n    }\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n        \r\n        if (this.state.selectedOption !== nextProps.navbar.selectedOption && nextProps.navbar.selectedOption) {\r\n            this.setState({ selectedOption: nextProps.navbar.selectedOption });\r\n        }\r\n\r\n        // if ( this.props.loginStatus_admin !=nextProps.loginStatus_admin  && nextProps.loginStatus_admin) {\r\n\r\n        // }\r\n        if (nextProps.navbar.SIGNUP_SUCCESS) {\r\n            let account = {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            };\r\n            this.setState({\r\n                account\r\n\r\n            });\r\n        }\r\n        if (this.props.loginStatus_admin != nextProps.loginStatus_admin && !nextProps.invalidLogin && nextProps.loginStatus_admin) {\r\n            this.setState({ modalOpen: false })\r\n        }\r\n\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (nextProps.navbar.tags.length <= 0) {\r\n                this.props.setSelectedCategory(this.state.seletedSearch ? this.state.seletedSearch : 'All');\r\n            }\r\n        }\r\n        // let selectedOption=\"\";\r\n        // if(this.allow)\r\n        // {\r\n            \r\n        // }\r\n        this.setState({\r\n            searchCategory: nextProps.navbar.searchCategory,\r\n            concepts: nextProps.navbar.concepts,\r\n            conceptClusters: nextProps.navbar.conceptClusters,\r\n            authors: nextProps.navbar.authors,\r\n            authorClusters: nextProps.navbar.authorClusters,\r\n            authorGroups: nextProps.navbar.authorGroups,\r\n            selectedOption: nextProps.navbar.selectedOption,\r\n            tags: nextProps.navbar.tags,\r\n        \r\n\r\n        });\r\n        \r\n        if (nextProps.navbar.selectedOption.label !== undefined) {\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                let filters = nextProps.navbar.tags.map(x => x.label);\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}?`;\r\n                for (let i = 0; i < filters.length; i++) {\r\n                    if (i == 0) {\r\n                        url = url.concat(`filters=${filters[i]}`);\r\n                    } else {\r\n                        url = url.concat(`&filters=${filters[i]}`);\r\n                    }\r\n\r\n                }\r\n                window.history.pushState(null, null, url);\r\n            } else {\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}`;\r\n                  window.history.pushState(null, null, url);\r\n                //this.props.history.push(url);\r\n            }\r\n        }\r\n    }\r\n    render() { \r\n        console.log(\"rendering\")\r\n\r\n\r\n        return (\r\n            \r\n      <div>\r\n      <Navbar color=\"\" style={{background:'white',width:'100vw'}} light expand=\"md\">\r\n      <NavbarBrand className=\"d-block d-sm-block d-md-none\" href=\"/\" style={{color:'black'}}></NavbarBrand>\r\n        <NavbarToggler  />\r\n        <Collapse isOpen={this.state.isTopBarOpen} navbar>\r\n        <Nav  navbar className=\"ml-auto\">\r\n                             \r\n                                \r\n                                         <span style={{ display: \"inline-block\" }}>\r\n                                                      <ul>\r\n                                                          {this.state.tags.map(tag => {\r\n                                                             return <li style={{ display: 'inline-block', background: 'purple', color: \"#fff\", borderRadius: '8px', padding: '5px', fontSize: '13px', marginLeft: '2px' }}>{tag.label}\r\n                                                                 <span style={{ marginLeft: '5px' }} className=\"badge\" id=\"tag\" onClick={() => { this.removeTag(tag.id) }}>X</span>\r\n                                                             </li>\r\n                                                         })}\r\n                                                     </ul>\r\n                                                 </span>\r\n                                              <span  style={{ display:this.state.filter?\"inline-block\":\"none\" }}>\r\n                                                     <AsyncSelect className=\"width-200\"\r\n                                                         value={this.state.selectedTag}\r\n                                                         loadOptions={this.loadSuggestions}\r\n                                                         onChange={this.onTagsChanged}\r\n                                                         // styles={colourStyles}\r\n                 \r\n                                                         isDisabled={this.state.tags.length >= 2 ? true : false || this.state.searchCategory === \"Author Groups\"}\r\n                                                     />\r\n                 \r\n                                                 </span>\r\n                                         <span style={{ display: \"inline-block\" }}>\r\n                                         <NavItem  style={{margin:0,padding:0,cursor:'pointer'}} onClick={() => {this.setState({filter:!this.state.filter})}}><i id=\"filter\" className=\"fa fa-filter filter\"></i></NavItem>\r\n                                                         \r\n                                                 </span>\r\n                                                 <span>\r\n                                                                                   \r\n                                                 <NavLink onClick={() => {this.setState({modal:true})}} style={{cursor:'pointer'}} ><i className=\"fa fa-plus\"  style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i></NavLink>\r\n                                             \r\n                                                     </span>\r\n                                                 <span>\r\n                                                         \r\n                                                         <UncontrolledDropdown nav inNavbar>\r\n                                                           <DropdownToggle nav >\r\n                                                             <i class=\"fa fa-info\" style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i>\r\n                                                           </DropdownToggle>\r\n                                                           <DropdownMenu right>\r\n                                                             <DropdownItem tag=\"a\"  href=\"/about\">\r\n                                                                 About\r\n                                                             </DropdownItem>\r\n                                                             <DropdownItem divider />\r\n                                                             <DropdownItem tag=\"a\" href=\"/contact\">\r\n                                                                 Contact\r\n                                                             </DropdownItem>\r\n                                                             <DropdownItem divider />\r\n                                                             <DropdownItem tag=\"a\" href=\"/TermsOfUse\">\r\n                                                                 Terms of Use\r\n                                                             </DropdownItem>\r\n                                                           </DropdownMenu>\r\n                                                         </UncontrolledDropdown>\r\n                                                                               </span>\r\n                                                                               \r\n                 \r\n                                             {/* {\r\n                                                 this.props.loginStatus_admin ?\r\n                                                     <React.Fragment>\r\n                                                         <span style={{ padding: '0 5px' }}>\r\n                                                             <NavItem style={{ cursor: 'pointer' }}>\r\n                                                                 {this.props.loggedInUserAccount_admin.username}\r\n                 \r\n                                                             </NavItem>\r\n                                                         </span>\r\n                                                         <span style={{ padding: '0 5px' }}>\r\n                                                             <NavItem style={{ cursor: 'pointer' }}>\r\n                                                                 <span onClick={() => { this.props.logout() }}>Logout</span>\r\n                                                             </NavItem>\r\n                                                         </span>\r\n                                                         <span style={{ padding: '0 5px' }}>\r\n                 \r\n                                                             <button\r\n                                                                 style={\r\n                                                                     {\r\n                                                                         border: '1px solid',\r\n                                                                         marginRight: '5px',\r\n                                                                         borderRadius: '50%',\r\n                                                                         color: 'black',\r\n                                                                         fontWeight: 'bold',\r\n                                                                         background: 'white'\r\n                                                                     }\r\n                                                                 }\r\n                                                             >+</button>\r\n                                                         </span>\r\n                 \r\n                                                     </React.Fragment>\r\n                                                     :\r\n                 \r\n                                                     <span>\r\n                                                  \r\n                                                     <NavItem style={{ cursor: 'pointer' }}>\r\n                                                 \r\n                                                         <NavLink onClick={this.toggleModalOpen} >Log-in</NavLink>\r\n                                                     </NavItem>\r\n                                                     </span>\r\n                                                     \r\n                 \r\n                                             } */}\r\n                                         </Nav>\r\n                                 \r\n        </Collapse>\r\n      </Navbar>\r\n    <div style={{display:\"flex\",alignItems:\"center\",flexDirection:'column',justifyContent:'center',paddingTop:\"10%\"}}>\r\n                    \r\n                <img className=\" d-md-block\" src={conceptionary_svg} width=\"25%\" height=\"50%\" alt=\"\" />\r\n                <h3  className=\" d-md-block d-none d-sm-none\" >search</h3>\r\n                <h3  className=\" d-md-none d-block d-block\" ></h3>\r\n              <AsyncSelect ref=\"search\" className=\"d-none d-sm-none d-md-block\" \r\n                                        value={this.state.allow?this.state.selectedOption:\" \"}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onOpen={()=> this.setState({selectedOption:\" \"})}\r\n                                        onFocus={()=> {this.setState({allow:false});}}\r\n                                        autoFocus=\"true\"\r\n                                        styles={colourStyles}\r\n                                    />\r\n                \r\n                                   <AsyncSelect ref=\"search\" className=\"d-block d-sm-block d-md-none\" \r\n                                        value={this.state.allow?this.state.selectedOption:\" \"}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onOpen={()=> this.setState({selectedOption:\" \"})}\r\n                                        onFocus={()=> {this.setState({allow:false});}}\r\n                                        autoFocus=\"true\"\r\n                                        styles={colourStylesResponsive}\r\n                                    />\r\n                                    <a href='http://conceptionary.io/sitemap.xml' target=\"_blank\" style={{position:'absolute',bottom:5,color:'gray'}}>Sitemap</a>\r\n                \r\n                </div>\r\n\r\n                <Modal open={this.state.modal}  toggle={() => {this.setState({modal:false})}}  onClose={() => {this.setState({modal:false})}} styles={{padding:0}} >\r\n                <ModalHeader style={{padding:'0',paddingRight:'1rem'}} className='text-center'><h1>Submit a defination</h1> <h3>for considration</h3></ModalHeader>\r\n                         <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">Term:</label>\r\n                            <div onChange={this.handleTerm} className=\"col-md-12\">\r\n                                 <input type=\"text\" className=\"form-control\" id=\"term\" placeholder=\"Enter Term\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">Defination:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea onChange={this.handleDefination}  className=\"form-control\" placeholder=\"Enter Definationa\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">Original:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea className=\"form-control\" onChange={this.handleOriginal}  placeholder=\"Enter Original\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">Author:</label>\r\n                            <div className=\"col-md-12\">\r\n                                 <input type=\"text\"  onChange={this.handleAuthor}  className=\"form-control\" id=\"term\" placeholder=\"Enter Author Name\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">Citation:</label>\r\n                            <div className=\"col-md-10\">\r\n                                <textarea  onChange={this.handleCitation}  className=\"form-control\" placeholder=\"Enter Citation\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"col-md-offset-2 col-md-10\">\r\n                            <button type=\"submit\" onClick={this.handleSubmitNew} class=\"btn btn-success\">Submit</button>\r\n                            </div>\r\n                        </div>\r\n                </Modal>\r\n\r\n                  \r\n             </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nconst dot = (color = '#ccc') => ({\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n\r\n    ':before': {\r\n        backgroundColor: color,\r\n        borderRadius: 10,\r\n        content: '\" \"',\r\n        display: 'block',\r\n        marginRight: 8,\r\n        height: 10,\r\n        width: 10,\r\n    },\r\n});\r\nconst colourStyles = {\r\n    control: styles => ({ ...styles, backgroundColor: 'white',border:'1px solid #2684FF',width:'500px' }),\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        const color = chroma(data.color);\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isDisabled\r\n                ? null\r\n                : isSelected ? data.color : isFocused ? color.alpha(0.1).css() : null,\r\n            color: isDisabled\r\n                ? '#ccc'\r\n                : isSelected\r\n                    ? chroma.contrast(color, 'white') > 2 ? 'white' : 'black'\r\n                    : data.color,\r\n            cursor: isDisabled ? 'not-allowed' : 'default',\r\n        };\r\n    },\r\n    input: styles => ({ ...styles, ...dot() }),\r\n    placeholder: styles => ({ ...styles, ...dot() }),\r\n    singleValue: (styles, { data }) => ({ ...styles, ...dot(data.color) }),\r\n};\r\nconst colourStylesResponsive = {\r\n    control: styles => ({ ...styles, backgroundColor: 'white',border:'1px solid #2684FF',width:'230px' }),\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        const color = chroma(data.color);\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isDisabled\r\n                ? null\r\n                : isSelected ? data.color : isFocused ? color.alpha(0.1).css() : null,\r\n            color: isDisabled\r\n                ? '#ccc'\r\n                : isSelected\r\n                    ? chroma.contrast(color, 'white') > 2 ? 'white' : 'black'\r\n                    : data.color,\r\n            cursor: isDisabled ? 'not-allowed' : 'default',\r\n        };\r\n    },\r\n    input: styles => ({ ...styles, ...dot() }),\r\n    placeholder: styles => ({ ...styles, ...dot() }),\r\n    singleValue: (styles, { data }) => ({ ...styles, ...dot(data.color) }),\r\n};\r\nconst getBackgroudColor = (page) => {\r\n    switch (page) {\r\n        case 'Concepts':\r\n            return \"#696969\";\r\n        case 'Concept Clusters':\r\n            return \"#CD5C5C\";\r\n        case 'Authors':\r\n            return \"#A52A2A\";\r\n        case 'Author Clusters':\r\n            return \"#800080\";\r\n        default:\r\n            return \"#a4b2b7\";\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushState: bindActionCreators(flushState, dispatch),\r\n        setAutherClusterSelectedItems: bindActionCreators(setAutherClusterSelectedItems, dispatch),\r\n        getAuthorGroups: bindActionCreators(getAuthorGroups, dispatch),\r\n        login: bindActionCreators(login, dispatch),\r\n        signup: bindActionCreators(signup, dispatch),\r\n        logout: bindActionCreators(logout, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        removeTag: bindActionCreators(removeTag, dispatch)\r\n\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        userExist_admin: state.navbar.userExist_admin,\r\n        loginRequestStatus_admin: state.navbar.loginRequestStatus_admin,\r\n        loginStatus_admin: state.navbar.loginStatus_admin,\r\n        invalidLogin: state.navbar.invalidLogin,\r\n        loggedInUserAccount_admin: state.navbar.loggedInUserAccount_admin\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HomePage));\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export default HomePage;","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport './style.css';\r\nimport Axios from 'axios';\r\nclass FileUpload extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedFile: null,\r\n            msg: \"\",\r\n            skip: [],\r\n            wait:false\r\n        }\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onClickHandler = this.onClickHandler.bind(this);\r\n    }\r\n\r\n    onChangeHandler(event) {\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n        });\r\n    }\r\n    async onClickHandler() {\r\n        this.setState({\r\n            wait:true\r\n        })\r\n        const data = new FormData();\r\n        data.append('file', this.state.selectedFile);\r\n        let response = await Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/upload`, data);\r\n        if (response.data.msg) {\r\n            this.setState({\r\n                msg: response.data.msg,\r\n                wait:false\r\n            })\r\n        }\r\n        if (response.data.skip.length > 0) {\r\n            this.setState({\r\n                skip: response.data.skip\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"container\" style={{ paddingTop:50}}>\r\n                <div class=\"row\">\r\n                    <div class=\"offset-md-3 col-md-6\">\r\n                        <div class=\"form-group files\">\r\n                            <label><b>Upload Your File </b></label>\r\n                            <input type=\"file\" name=\"file\" class=\"form-control\" multiple onChange={this.onChangeHandler} /><br></br>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            {/*<ToastContainer />\r\n                <Progress max=\"100\" color=\"success\" value={this.state.loaded} >{Math.round(this.state.loaded,2) }%</Progress>*/}\r\n\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn-success btn-block\" onClick={this.onClickHandler} disabled={(this.state.selectedFile?false:true)||(this.state.wait?true:false)}>Upload</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ display: this.state.msg ? 'block' : 'none' }}>\r\n                    <div class=\"offset-md-3 col-md-6\" style={{ marginTop: '50px' }}>\r\n                        <div class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n                            <strong>{this.state.msg}</strong>\r\n                            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ marginTop: '50px' }}>\r\n                    <div class=\"class=offset-md-3 col-md-6\">\r\n                        {\r\n                            this.state.wait&&(\r\n                                <h2>please wait......</h2>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ marginTop: '50px' }}>\r\n                    <div class=\"class=offset-md-2 col-md-6\">\r\n                        <ul style={{listStyleType:'none'}}>\r\n                           {\r\n                               this.state.skip.length>0&&(\r\n                                   this.state.skip.map(i=>{\r\n                                       return <li>row:{i} not saved from file</li>\r\n                                   })\r\n                               )\r\n                           }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FileUpload\r\n\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { Helmet } from \"react-helmet\";\r\nimport og from 'open-graph';\r\nclass PerspectiveDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Perspective: null,\r\n            Concept: null,\r\n            Author: null,\r\n            imgURL: null,\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        const { id } = this.props.match.params;\r\n        \r\n        let data = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/detail/${id}`)\r\n        if (data.data.responseType == \"success\") {\r\n            console.log(\"Sending daTa\",data);\r\n            this.setState({\r\n                Perspective: data.data.data,\r\n                Concept: data.data.data.Concept,\r\n                Author: data.data.data.Author,\r\n                imgURL: data.data.img\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        if(this.state.Perspective)\r\n        {\r\n            var url = `http://conceptionary.io/perspective/${this.state.Perspective.id}`;\r\n            og(url, function(err, meta){\r\n            console.log(\"Your page is indexed\");\r\n            })\r\n        }\r\n \r\n        let title = \"\";\r\n        let description\r\n        if(this.state.Perspective)\r\n        {\r\n            console.log(\"this.state.Perspe\",this.state.Perspective.pronoun);\r\n            \r\n            if(this.state.Perspective.pronoun!==null && this.state.Perspective.pronoun!==undefined )\r\n            {\r\n                title=this.state.Perspective.pronoun.charAt(0).toUpperCase() + this.state.Perspective.pronoun.slice(1)+\" \"+this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1);   \r\n                console.log(\"first\");\r\n            }\r\n            else\r\n            {\r\n              \r\n               title=this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1);\r\n                \r\n            }\r\n            console.log(\"Title built is \",title)\r\n                description = title +\" is \"+this.state.Perspective.description;\r\n            console.log(\"Descriptin is \",description)\r\n            \r\n            \r\n        }\r\n        \r\n\r\n\r\n    return (\r\n            <div className=\"text-center\" style={{ marginTop: '50px' }}>\r\n                {this.state.Perspective && this.state.Concept && this.state.Author &&\r\n                    <React.Fragment>\r\n                        {/* {console.log(this.state.imgURL)} */}\r\n                        <iframe style={{width: \"0px\", height: \"0px\", margin: \"0px\", padding: \"0px\"}} src={`https://www.facebook.com/sharer/sharer.php?u=http://conceptionary.io/perspective/${this.state.Perspective.id}`}></iframe>\r\n            \r\n                        <Helmet>\r\n\r\n                          \r\n\r\n\r\n                            {/* <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"og:type\" content=\"video.movie\" />\r\n                            <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                            <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                            <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                            <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                            <meta property=\"og:image:type\" content=\"image/jpeg\" />\r\n                            <meta property=\"og:image:width\" content=\"200\" />\r\n                            <meta property=\"og:image:height\" content=\"200\" />\r\n                           \r\n\r\n                            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                            <meta name=\"Twitter:site\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta name=\"twitter:creator\" content=\"Conceptionary.com\" />\r\n                            <meta name=\"twitter:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                            <meta name=\"twitter:description\" content={this.state.Perspective.description} />\r\n                            <meta name=\"twitter:image:src\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} /> */}\r\n\r\n                              {/* <meta name=\"description\" content={this.state.Perspective.description}/>\r\n                                <meta property=\"og:site_name\" content=\"Conceptionary\" />\r\n                                <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                                <meta property=\"og:type\" content=\"article\" />\r\n                                <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                                <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                                <meta property=\"twitter:card\" content=\"summary\" />\r\n                                <meta property=\"twitter:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                                <meta property=\"twitter:description\" content={this.state.Perspective.description} />\r\n                                <meta property=\"twitter:domain\" content=\"http://conceptionary.io\" />\r\n                                <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                                <meta property=\"og:image:type\" content=\"image/jpeg\" />\r\n                                <meta property=\"og:image:width\" content=\"200\" />\r\n                                <meta property=\"og:image:height\" content=\"200\" />\r\n                                <meta property=\"twitter:image:src\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} /> */}\r\n                            {/* <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"og:type\" content=\"website\" />\r\n                            <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)}  />\r\n                            <meta property=\"og:description\" content={this.state.Perspective.description} /> */}\r\n\r\n                            {/* <meta property=\"og:image\" content=\"https://thereduxjsbooks.com/images/redux-trio-1200x630.png\" />\r\n                            <meta property=\"og:image:alt\" content=\"3 books on ReduxJS. A sequel that takes you from beginner to pro.\" />\r\n                            <meta property=\"og:image:type\" content=\"image/png\" />\r\n                            <meta property=\"og:image:width\" content=\"1200\" />\r\n                            <meta property=\"og:image:height\" content=\"630\" /> */}\r\n\r\n\r\n                            {/* <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                            <meta name=\"twitter:image\" content=\"https://thereduxjsbooks.com/images/redux-trio-560x300.png\" />\r\n                            <meta name=\"twitter:image:alt\" content=\"3 books on ReduxJS. A sequel that takes you from beginner to pro.\" />\r\n                            <meta name=\"twitter:description\" content=\"For every book you buy, we will send a free copy to a developer in India, Nigeria, and Tunisia who can't afford the cost.\"\r\n                            /> */}\r\n                            <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                            <meta property=\"og:image:secure_url\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                            <meta property=\"og:image:width\" content=\"600\"/>\r\n                            <meta property=\"og:image:height\" content=\"314\"/>\r\n                            <meta property=\"og:type\" content=\"video.movie\" />\r\n                            <meta property=\"og:title\" content={title}  />\r\n                            <meta property=\"og:description\" content={description} />\r\n                            <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"og:site_name\" content=\"Conceptionary.io\" />\r\n                            <meta property=\"article:publisher\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"article:author\" content=\"Conceptionary.io\" />\r\n\r\n                            <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                            \r\n                            {/* <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                            <meta name=\"twitter:site\" content=\"Conceptionary\" />\r\n                            <meta name=\"twitter:creator\" content=\"Conceptionary.io\" />\r\n                            <meta property=\"og:url\" content=\"http://conceptionary.io/perspective/130\" />\r\n                            <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)}  />\r\n                            <meta property=\"og:description\" content={this.state.Perspective.description}  />\r\n                            <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`}/>\r\n                             */}\r\n\r\n\r\n                        </Helmet>\r\n                        <div>\r\n                            \r\n                            <img src={this.state.imgURL} style={{ width: '200px', height: '200px' }} alt={this.state.Author.lastName}></img>\r\n                            <h3>{this.state.Concept.name}</h3>\r\n                            <hr></hr>\r\n                            <p><b>{this.state.Concept.name}</b> {this.state.Perspective.description}</p>\r\n                            <h5>{this.state.Author.firstName + \" \" + this.state.Author.lastName}</h5>\r\n                        </div>\r\n                    </React.Fragment>\r\n                }\r\n                {/* <Helmet>\r\n                    <meta property=\"og:url\" content={`http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${this.state.Perspective.id}`} />\r\n                    <meta property=\"og:type\" content=\"website\" />\r\n                    <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                    <meta property=\"og:title\" content={this.state.Concept.name} />\r\n                    <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                    <meta property=\"og:image\" content=\"https://www.recordedbooks.com/RBDigital/media/site/new%20stuff/Authors%20600%20X%20600/Authors_Stephen-King_600x600_1.jpg?ext=.jpg\" />\r\n                </Helmet>\r\n                <div>\r\n                    <img alt=\"\" src=\"https://www.recordedbooks.com/RBDigital/media/site/new%20stuff/Authors%20600%20X%20600/Authors_Stephen-King_600x600_1.jpg?ext=.jpg\" style={{ width: '200px', height: '200px' }}></img>\r\n                    <h3>{this.state.Concept.name}</h3>\r\n                    <hr></hr>\r\n                    <p><b>{this.state.Concept.name}</b> {this.state.Perspective.description}</p>\r\n                    <h5>{this.state.Author.firstName + \" \" + this.state.Author.lastName}</h5>\r\n                    <p>conceptionary site</p>\r\n                </div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PerspectiveDetail","import React from 'react'\r\nimport {\r\n    FacebookIcon,TwitterIcon,LinkedinIcon,  EmailIcon,PinterestIcon,InstapaperIcon\r\n\r\n} from 'react-share';\r\nimport insta from '../../images/insta.png'\r\nimport youtube from '../../images/youtube.png'\r\nclass About extends React.Component{\r\n    render()\r\n    {\r\n        return (\r\n            <div style={{paddingTop:\"5%\",paddingBottom:\"10%\"}} className=\"container\" >\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 text-justify\" style={{lineHeight:'normal'}}  >\r\n                        <center>\r\n                                <h1>Conceptionary.io</h1>\r\n                                \r\n                        </center>\r\n                        <p>Anyone who has ever held a purring cat in their arms or watched a cat walking along\r\n                        a wooden fence knows that Merriam-Webster’s definition of ‘cat’ doesn’t come within\r\n                        stalking distance of this mysterious creature when it defines it as . . .</p>\r\n                        <p5><q>. . . a carnivorous mammal long domesticated as a pet and for catching\r\n                        rats and mice</q></p5> <br/><br/>\r\n                        <p>The definition is drab. It’s static. Fittingly enough, it sounds like something someone\r\n                        just pulled from some dictionary.</p>\r\n                        <p>Dictionaries are generally concept killers. They put concepts under glass like a\r\n                        butterfly collection. They stick a pin through a concept’s dusty abdomen to hold it in\r\n                        place. A cat is oh so much more than Merriam-Webster would have it:</p>\r\n                        <p>While a definition ought to always be definitive, authoritative, and universally true, it should never purport to be the final word on a matter. Conceptionary believes that the essence of a thing is sooner to be discovered in a kaleidoscope of pointed insights rather than in one dull generalization.</p>\r\n                        \r\n                        <p><b>The cat</b> is a sculpture set to music.<br />\r\n                        - Merrit Malloy</p>\r\n                        <p><b> The cat </b>is there to give man the pleasure of caressing the tiger.<br />\r\n                        - Victor Hugo</p>\r\n                        <p><b>The cat</b> is a diagram and pattern of subtle air, just as the fish is the\r\n                        movement of water embodied, given shape.<br />\r\n                        - Doris Lessing</p>\r\n                        <p><b>The cat</b> is a thing that sleeps fat and walks thin.<br />\r\n                        - Rosalie Moore</p>\r\n                        <p><b>The cat </b>is Like a graceful vase, which, even when motionless, seems to\r\n                        flow.<br/>\r\n                        - George F. Will</p>\r\n                        <p>Great minds do not think alike. As such, we encourage you to visit Conceptionary much like you would a gourmet cooking festival, gliding from one smell to the next. We all know that the one perfect marinara sauce doesn’t exist. Nor would we have it any other way. Each master chef uses his own preferred herbs, leans on his own signature piquancy and develops a thickness unique to that chef alone. If we do find one that suits us better than all others, then it is because it speaks directly to us in a way the others don’t, because it understands us better than the others. The same rules apply here!</p>\r\n                        <h4>Welcome to Conceptionary!</h4>\r\n                    </div>\r\n                    <div className=\"col-md-4\" >\r\n                        <div>\r\n                            <br/>   \r\n                            <p><b>visit us on social media or contact us</b></p>\r\n                            <p >\r\n                                <a target=\"_blank\"  href=\"https://twitter.com/Conceptionaryio\" style={{display:\"inline-block\",padding:8}}><TwitterIcon size={30} /></a>\r\n                                <a target=\"_blank\"  href=\"https://www.pinterest.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><PinterestIcon size={30} /></a>\r\n                                <a target=\"_blank\"  href=\"https://www.facebook.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><FacebookIcon   Icon size={30} /></a>\r\n                                <a target=\"_blank\"  href=\"https://instagram.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><img src={insta} style={{height:'32px'}} /></a>\r\n                                <a target=\"_blank\"  href=\"https://www.youtube.com/channel/UCrlry6uxw66m6F3pnx2WfNg\" style={{display:\"inline-block\",padding:8}}><img src={youtube} style={{height:'40px'}} /></a>\r\n                                \r\n                            </p>\r\n                            <div style={{color:'#32217a'}}>\r\n                                <p>Copyright &copy; 2019 conceptionary.io</p>\r\n                                <h4>Other Sources of Interest</h4>\r\n                                \r\n                                <h6><u><b>Online Quotations and Aphorisms</b></u></h6>\r\n                                <ul style={{listStyle:'none',padding:0,lineHeight:'1'}} >\r\n                                    <li><a  target=\"_blank\"  href=\"https://www.azquotes.com/\"><h6>azquote</h6></a></li>\r\n                                    <li><a  target=\"_blank\"  href=\"#\"><h6>quoteikon</h6></a></li>\r\n                                    <li ><a  target=\"_blank\"  href=\"#\"><h6>Quote Garden</h6></a></li>\r\n                                    <li><a target=\"_blank\"  href=\"#\"><h6>Bartlets Quotations</h6></a></li>\r\n                                    <li><a target=\"_blank\"  href=\"https://www.azquotes.com/\"><h6>Wiki Quotes</h6></a></li>\r\n                                    <li><a target=\"_blank\"  href=\"#\"><h6>Brainy Quotes</h6></a></li>\r\n                                    <li><a target=\"_blank\"  href=\"https://www.azquotes.com/\"><h6>Good Reads</h6></a></li>\r\n                                    <li><a target=\"_blank\"  href=\"https://www.azquotes.com/\"><h6>Quote Investigaotr</h6></a></li>\r\n                                    \r\n                                    \r\n                                </ul>\r\n                                <br/>\r\n                                <h6><u><b>Aphorism Feeds on Twitter</b></u></h6>\r\n                                <ul style={{listStyle:'none',padding:0}}>\r\n                                    <li><h6>Marty Rubin</h6></li>\r\n                                </ul>\r\n                                <br /><br />\r\n                                <ul style={{listStyle:'none',padding:0}}>\r\n                                    <li><h6 style={{textDecoration:'underline'}}><a target=\"_blank\"  href=\"https://www.knauit.com/quotes\">https://www.knauit.com/quotes</a></h6></li>\r\n                                    <li>Quote Investigator</li>\r\n                                </ul>\r\n                                <br /><br />\r\n                                <ul style={{listStyle:'none',padding:0}}>\r\n                                    <li><h6 >Dictionary sites</h6></li>\r\n                                    <li><a href=\"https://www.urbandictionary.com/\" target=\"_blank\" >Urban Dictionary</a></li>\r\n                                    <li><a href=\"https://sidewaysdictionary.com\" target=\"_blank\">One Look</a></li>\r\n                                    <li><a href=\"https://sidewaysdictionary.com\" target=\"_blank\">Sideways Dictionary</a></li>\r\n                                    <li><a href=\"https://www.rhymezone.com\" target=\"_blank\">Rhym Zone</a></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default About;","import React from 'react'\r\nimport axios from 'axios'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {\r\n    FacebookIcon,TwitterIcon,LinkedinIcon,  EmailIcon,PinterestIcon, InstapaperIcon\r\n\r\n} from 'react-share';\r\nimport insta from '../../images/insta.png'\r\nimport youtube from '../../images/youtube.png'\r\nimport Instagram from 'react-share-icons/lib/Instagram';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nclass Contact extends React.Component{\r\n    constructor(a)\r\n    {\r\n        super(a)\r\n        this.state={\r\n            name:'',\r\n            email:'',\r\n            subject: '',\r\n            body: '',\r\n            modal:false,\r\n            form:true\r\n        }\r\n        this.handleName=this.handleName.bind(this);\r\n        this.handleEmail=this.handleEmail.bind(this);\r\n        this.handleSubject=this.handleSubject.bind(this);\r\n        this.handleBody=this.handleBody.bind(this);\r\n        this.submitEmail=this.submitEmail.bind(this)\r\n    \r\n        this.toggle = this.toggle.bind(this);\r\n    \r\n    }\r\n    toggle() {\r\n        this.setState(prevState => ({\r\n          modal: !prevState.modal,\r\n          name: \"\",\r\n          email: '',\r\n          body : '',\r\n          subject: ''\r\n        }));\r\n      }\r\n    componentDidMount()\r\n    {\r\n        this.props.history.push('/contact');\r\n        console.log(\"pushed \");\r\n    }\r\n    handleName(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({name: value.target.value});\r\n    }\r\n    handleEmail(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({email: value.target.value});\r\n    }\r\n    handleSubject(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({subject: value.target.value});\r\n    }\r\n    handleBody(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({body: value.target.value});\r\n    }\r\n    submitEmail(e)\r\n    {\r\n        e.preventDefault();\r\n        this.setState({form:false})\r\n        this.toggle();\r\n        console.log(\"Your Values are\",this.state);\r\n        let data={};\r\n        data.name=this.state.name;\r\n        data.email=this.state.email;\r\n        data.subject=this.state.subject;\r\n        data.body=this.state.body;\r\n        console.log(\"sending email\");\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/contact`,{email:this.state.email,name:this.state.name,contact:this.state.contact,body:this.state.body,subject:this.state.subject}).then(res => {\r\n            console.log(\"Your Email is sent \",res)\r\n            if(res.status=200)\r\n            {\r\n                // this.toggle();\r\n            }\r\n        })\r\n    }\r\n    \r\n    render()\r\n    {\r\n        return (\r\n            <div style={{paddingTop:\"5%\"}}>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6 \">\r\n                            <h1>Contact Us</h1>\r\n                            <p>We's love to hear from you. Feel free to let us know how you feel about conceptionary. Any ideas who we can improve ?</p>\r\n                            \r\n                            {this.state.form &&     <div className=\"\" style={{border:\"1px solid #4a4545\",padding:20}}>\r\n                               <form action=\"\" className=\"form-horizontal\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"email\">Name :</label>\r\n                                    <input value={this.state.name} style={{border:'1px solid #4a4545'}} type=\"name\" placeholder=\"Enter your name\" onChange={this.handleName} class=\"form-control\" id=\"email\" />\r\n                                </div>\r\n                                \r\n                                <div class=\"form-group\">\r\n                                    <label for=\"pwd\">Subject:</label>\r\n                                    <input  value={this.state.subject} style={{border:'1px solid #4a4545'}} type=\"text\" placeholder=\"Enter Subject\"  onChange={this.handleSubject} class=\"form-control\" id=\"pwd\" /> \r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"pwd\">Email:</label>\r\n                                    <input  value={this.state.email} style={{border:'1px solid #4a4545'}} type=\"email\"  onChange={this.handleEmail} placeholder=\"Enter your Email\" class=\"form-control\" id=\"pwd\" required /> \r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                <label htmlFor=\"body\">Body :</label>\r\n                                <textarea required  value={this.state.body} style={{border:'1px solid #4a4545'}}  onChange={this.handleBody} placeholder=\"Enter your Message\" className=\"form-control\" rows=\"4\">\r\n                                    \r\n                                </textarea>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                <button type=\"submit\" class=\"btn btn-info\" onClick={this.submitEmail}>Submit</button>\r\n                                </div>\r\n                                </form>\r\n                                \r\n                            </div>\r\n        }\r\n                            <Modal isOpen={this.state.modal} toggle={this.toggle} className=\"animated zoomIn\" style={{top:'30%'}}>\r\n                                <ModalHeader toggle={this.toggle} style={{padding:'0',paddingRight:'1rem'}}></ModalHeader>\r\n                                <ModalBody className=\"text-center\">\r\n                                    <h3>Thanks for getting in touch</h3>\r\n                                </ModalBody>\r\n                                {/* <ModalFooter>\r\n                                    <Button color=\"danger\" onClick={this.toggle}>Close</Button>\r\n                                </ModalFooter> */}\r\n                                </Modal>\r\n                                \r\n                          <br/><br/>\r\n                        </div>\r\n                        \r\n                    <div className=\"col-md-4 offset-md-2\" >\r\n                        <div>\r\n                            <br/>   \r\n                            <p><b>visit us on social media or contact us</b></p>\r\n                            <p >\r\n                                <a  target=\"_blank\"  href=\"https://twitter.com/Conceptionaryio\" style={{display:\"inline-block\",padding:8}}><TwitterIcon size={30} /></a>\r\n                                <a target=\"_blank\"  href=\"https://www.pinterest.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><PinterestIcon size={30} /></a>\r\n                                <a target=\"_blank\"  href=\"https://www.facebook.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><FacebookIcon   Icon size={30} /></a>\r\n                                <a target=\"_blank\"  href=\"https://instagram.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><img src={insta} style={{height:'32px'}} /></a>\r\n                                <a target=\"_blank\"  href=\"https://www.youtube.com/channel/UCrlry6uxw66m6F3pnx2WfNg\" style={{display:\"inline-block\",padding:8}}><img src={youtube} style={{height:'40px'}} /></a>\r\n                            \r\n                            </p>\r\n                            <div style={{color:'#32217a'}}>\r\n                                <p>Copyright &copy; 2019 conceptionary.io</p>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            \r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(Contact);","import React from 'react'\r\nclass TermsOfUse extends React.Component{\r\n    render()\r\n    {\r\n        return (\r\n            <div style={{paddingTop:\"5%\"}} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12 text-justify\">\r\n                    <br/>\r\n                    <h2>Terms and Conditions</h2>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                </div>\r\n            </div>\r\n\r\n                {/* <h3>Terms and Conditions</h3>\r\nGeneral Site Usage\r\nLast Revised: December 16, 2013\r\n\r\nWelcome to www.lorem-ipsum.info. This site is provided as a service to our visitors and may be used for informational purposes only. Because the Terms and Conditions contain legal obligations, please read them carefully.\r\n\r\n<h3>1. YOUR AGREEMENT</h3>\r\nBy using this Site, you agree to be bound by, and to comply with, these Terms and Conditions. If you do not agree to these Terms and Conditions, please do not use this site.\r\n\r\nPLEASE NOTE: We reserve the right, at our sole discretion, to change, modify or otherwise alter these Terms and Conditions at any time. Unless otherwise indicated, amendments will become effective immediately. Please review these Terms and Conditions periodically. Your continued use of the Site following the posting of changes and/or modifications will constitute your acceptance of the revised Terms and Conditions and the reasonableness of these standards for notice of changes. For your information, this page was last updated as of the date at the top of these terms and conditions.\r\n<h3>2. PRIVACY</h3>\r\nPlease review our Privacy Policy, which also governs your visit to this Site, to understand our practices.\r\n\r\n<h3>3. LINKED SITES</h3>\r\nThis Site may contain links to other independent third-party Web sites (\"Linked Sites”). These Linked Sites are provided solely as a convenience to our visitors. Such Linked Sites are not under our control, and we are not responsible for and does not endorse the content of such Linked Sites, including any information or materials contained on such Linked Sites. You will need to make your own independent judgment regarding your interaction with these Linked Sites.\r\n\r\n<h3>4. FORWARD LOOKING STATEMENTS\r\n</h3>\r\nAll materials reproduced on this site speak as of the original date of publication or filing. The fact that a document is available on this site does not mean that the information contained in such document has not been modified or superseded by events or by a subsequent document or filing. We have no duty or policy to update any information or statements contained on this site and, therefore, such information or statements should not be relied upon as being current as of the date you access this site.\r\n\r\n5. DISCLAIMER OF WARRANTIES AND LIMITATION OF LIABILITY\r\nA. THIS SITE MAY CONTAIN INACCURACIES AND TYPOGRAPHICAL ERRORS. WE DOES NOT WARRANT THE ACCURACY OR COMPLETENESS OF THE MATERIALS OR THE RELIABILITY OF ANY ADVICE, OPINION, STATEMENT OR OTHER INFORMATION DISPLAYED OR DISTRIBUTED THROUGH THE SITE. YOU EXPRESSLY UNDERSTAND AND AGREE THAT: (i) YOUR USE OF THE SITE, INCLUDING ANY RELIANCE ON ANY SUCH OPINION, ADVICE, STATEMENT, MEMORANDUM, OR INFORMATION CONTAINED HEREIN, SHALL BE AT YOUR SOLE RISK; (ii) THE SITE IS PROVIDED ON AN \"AS IS\" AND \"AS AVAILABLE\" BASIS; (iii) EXCEPT AS EXPRESSLY PROVIDED HEREIN WE DISCLAIM ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, WORKMANLIKE EFFORT, TITLE AND NON-INFRINGEMENT; (iv) WE MAKE NO WARRANTY WITH RESPECT TO THE RESULTS THAT MAY BE OBTAINED FROM THIS SITE, THE PRODUCTS OR SERVICES ADVERTISED OR OFFERED OR MERCHANTS INVOLVED; (v) ANY MATERIAL DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE SITE IS DONE AT YOUR OWN DISCRETION AND RISK; and (vi) YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR FOR ANY LOSS OF DATA THAT RESULTS FROM THE DOWNLOAD OF ANY SUCH MATERIAL.\r\n\r\nB. YOU UNDERSTAND AND AGREE THAT UNDER NO CIRCUMSTANCES, INCLUDING, BUT NOT LIMITED TO, NEGLIGENCE, SHALL WE BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, PUNITIVE OR CONSEQUENTIAL DAMAGES THAT RESULT FROM THE USE OF, OR THE INABILITY TO USE, ANY OF OUR SITES OR MATERIALS OR FUNCTIONS ON ANY SUCH SITE, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THE FOREGOING LIMITATIONS SHALL APPLY NOTWITHSTANDING ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY.\r\n\r\n6. EXCLUSIONS AND LIMITATIONS\r\nSOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES. ACCORDINGLY, OUR LIABILITY IN SUCH JURISDICTION SHALL BE LIMITED TO THE MAXIMUM EXTENT PERMITTED BY LAW.\r\n\r\n7. OUR PROPRIETARY RIGHTS\r\nThis Site and all its Contents are intended solely for personal, non-commercial use. Except as expressly provided, nothing within the Site shall be construed as conferring any license under our or any third party's intellectual property rights, whether by estoppel, implication, waiver, or otherwise. Without limiting the generality of the foregoing, you acknowledge and agree that all content available through and used to operate the Site and its services is protected by copyright, trademark, patent, or other proprietary rights. You agree not to: (a) modify, alter, or deface any of the trademarks, service marks, trade dress (collectively \"Trademarks\") or other intellectual property made available by us in connection with the Site; (b) hold yourself out as in any way sponsored by, affiliated with, or endorsed by us, or any of our affiliates or service providers; (c) use any of the Trademarks or other content accessible through the Site for any purpose other than the purpose for which we have made it available to you; (d) defame or disparage us, our Trademarks, or any aspect of the Site; and (e) adapt, translate, modify, decompile, disassemble, or reverse engineer the Site or any software or programs used in connection with it or its products and services.\r\n\r\nThe framing, mirroring, scraping or data mining of the Site or any of its content in any form and by any method is expressly prohibited.\r\n\r\n8. INDEMNITY\r\nBy using the Site web sites you agree to indemnify us and affiliated entities (collectively \"Indemnities\") and hold them harmless from any and all claims and expenses, including (without limitation) attorney's fees, arising from your use of the Site web sites, your use of the Products and Services, or your submission of ideas and/or related materials to us or from any person's use of any ID, membership or password you maintain with any portion of the Site, regardless of whether such use is authorized by you.\r\n\r\n9. COPYRIGHT AND TRADEMARK NOTICE\r\nExcept our generated dummy copy, which is free to use for private and commercial use, all other text is copyrighted. generator.lorem-ipsum.info © 2013, all rights reserved\r\n\r\n10. INTELLECTUAL PROPERTY INFRINGEMENT CLAIMS\r\nIt is our policy to respond expeditiously to claims of intellectual property infringement. We will promptly process and investigate notices of alleged infringement and will take appropriate actions under the Digital Millennium Copyright Act (\"DMCA\") and other applicable intellectual property laws. Notices of claimed infringement should be directed to:\r\n\r\ngenerator.lorem-ipsum.info\r\n\r\n126 Electricov St.\r\n\r\nKiev, Kiev 04176\r\n\r\nUkraine\r\n\r\ncontact@lorem-ipsum.info\r\n\r\n11. PLACE OF PERFORMANCE\r\nThis Site is controlled, operated and administered by us from our office in Kiev, Ukraine. We make no representation that materials at this site are appropriate or available for use at other locations outside of the Ukraine and access to them from territories where their contents are illegal is prohibited. If you access this Site from a location outside of the Ukraine, you are responsible for compliance with all local laws.\r\n\r\n12. GENERAL\r\nA. If any provision of these Terms and Conditions is held to be invalid or unenforceable, the provision shall be removed (or interpreted, if possible, in a manner as to be enforceable), and the remaining provisions shall be enforced. Headings are for reference purposes only and in no way define, limit, construe or describe the scope or extent of such section. Our failure to act with respect to a breach by you or others does not waive our right to act with respect to subsequent or similar breaches. These Terms and Conditions set forth the entire understanding and agreement between us with respect to the subject matter contained herein and supersede any other agreement, proposals and communications, written or oral, between our representatives and you with respect to the subject matter hereof, including any terms and conditions on any of customer's documents or purchase orders.\r\n\r\nB. No Joint Venture, No Derogation of Rights. You agree that no joint venture, partnership, employment, or agency relationship exists between you and us as a result of these Terms and Conditions or your use of the Site. Our performance of these Terms and Conditions is subject to existing laws and legal process, and nothing contained herein is in derogation of our right to comply with governmental, court and law enforcement requests or requirements relating to your use of the Site or information provided to or gathered by us with respect to such use. */}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default TermsOfUse;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Router, Route, Link, Switch, Redirect } from 'react-router-dom';\r\nimport ConceptsPage from \"./components/ConceptsPage/ConceptsPage\";\r\nimport ConceptClustersPage from \"./components/ConceptClustersPage/ConceptClustersPage\";\r\nimport Message from \"./components/Messages/Message\";\r\nimport AuthorCluster from \"./components/AutherCluster/AutherCluster\";\r\nimport AuthorPage from \"./components/AuthorPage/AutherPage\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Signup from \"./components/Signup/Signup\";\r\nimport TopNavBar from \"./components/TopNavBar/TopNavBar\";\r\nimport HomePage from \"./components/HomePage/HomePage\";\r\nimport FileUpload from './components/FileUpload/FileUpload';\r\nimport PerspectiveDetail from './components/perspectiveDetail/perspective';\r\nimport { connect } from 'react-redux';\r\nimport { createBrowserHistory } from \"history\";\r\nimport About from './components/about/about'\r\nimport Contact from './components/contact/contact'\r\nimport TermsOfUse from './components/termsofuse/termsofuse'\r\nconst history = createBrowserHistory()\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAuthenticated: false,\r\n      user: this.props.auth.user,\r\n    }\r\n  }\r\n  render() {\r\n    const { isAuthenticated } = this.props.auth;\r\n    // const { id, username, email } = this.props.auth.user;\r\n    const PrivateRoute = ({ component: Component, ...rest }) => {\r\n      // console.log(\"...Rest\", rest);\r\n      return <Route {...rest} render={(props) => {\r\n        // console.log(\"Props in Private Route\", props);\r\n        return isAuthenticated === true ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }} />\r\n    };\r\n    return (\r\n       <Router history={history}>\r\n        <div>\r\n          <TopNavBar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={HomePage} />\r\n            <Route path=\"/login\" exact component={Login} />\r\n            <Route path=\"/signup\" exact component={Signup} />\r\n            <Route path=\"/concepts\" exact component={ConceptsPage} />\r\n            <Route path=\"/concepts/:name\" exact component={ConceptsPage} />\r\n            <Route path=\"/concept-clusters\" exact component={ConceptClustersPage} />\r\n            <Route path=\"/concept-clusters/:name\" exact component={ConceptClustersPage} />\r\n            <Route path=\"/authors\" exact component={AuthorPage} />\r\n            <Route path=\"/authors/:name\" exact component={AuthorPage} />\r\n            <Route path=\"/author-clusters\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-groups\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-groups/:name\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-clusters/:name\" exact component={AuthorCluster} />\r\n            <Route path=\"/Message\" exact component={Message} />\r\n            <Route path=\"/Fileupload\" exact component={FileUpload}/>\r\n            <Route path=\"/perspective/:id\" exact component={PerspectiveDetail}/>\r\n            <Route path=\"/contact\" exact component={Contact}/>\r\n            <Route path=\"/TermsOfUse\" exact component={TermsOfUse}/>\r\n            <Route path=\"/about\" exact component={About}/>\r\n          </Switch>\r\n        </div>\r\n        </Router>\r\n    );\r\n  }\r\n}\r\nfunction mapStatToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n  }\r\n}\r\nexport default connect(mapStatToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.1/8 is considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS } from \"constants\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {}\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"SET_CURRENT_USER\":\r\n            return {\r\n                isAuthenticated: !isEmpty(action.user),\r\n                user: action.user,\r\n            }\r\n        case \"LOG_OUT\":\r\n            return {\r\n                isAuthenticated: false,\r\n                user: {}\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","\r\nconst initialState = {\r\n    // searchSuggestions: [],\r\n    tags: [],\r\n    selectedOption: \"\",\r\n    authorClusterSelectedOptions: \"\",\r\n    searchCategory: \"All\",\r\n    concepts: [],\r\n    authors: [],\r\n    conceptClusters: [],\r\n    authorClusters: [],\r\n    authorGroups: [],\r\n    loading: true,\r\n    userExist_admin: false,\r\n    loginStatus_admin: false,\r\n    loggedInUserAccount_admin: {},\r\n    loginRequestStatus_admin: true,\r\n    invalidLogin: false,\r\n    SIGNUP_SUCCESS: false,\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"GET_CONCEPTS_NAMES_NAVBAR\":\r\n            // console.log(\"GET_CONCEPTS_NAMES_NAVBAR\");\r\n            return {\r\n                ...state,\r\n                searchSuggestions: action.payload,\r\n            }\r\n        case \"SET_SEARCH_CATEGORY\":\r\n            // console.log(\"SET_SEARCH_CATEGORY \");\r\n            return {\r\n                ...state,\r\n                searchCategory: action.payload,\r\n            }\r\n        case \"SET_SELECTED_OPTION\":\r\n            // console.log(\"SET_SELECTED_OPTION\");\r\n            return {\r\n                ...state,\r\n                selectedOption: action.payload\r\n            }\r\n        case \"FLUSH_NAV_BAR\":\r\n            return {\r\n                ...state,\r\n                selectedOption: \"\",\r\n            }\r\n        case \"SET_AUTHOR_CLUSTER_SELECTED_OPTIONS\":\r\n            return {\r\n                ...state,\r\n                authorClusterSelectedOptions: action.payload,\r\n            }\r\n        case \"CONCEPTS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(action.payload);\r\n            // console.log(\"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                concepts: action.payload,\r\n            }\r\n        case \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                conceptClusters: action.payload,\r\n            }\r\n        case \"AUTHORS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"AUTHORS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                authors: action.payload,\r\n            }\r\n        case \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                authorClusters: action.payload,\r\n            }\r\n\r\n        case \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\":\r\n            return {\r\n                ...state,\r\n                authorGroups: action.payload,\r\n            }\r\n\r\n        case \"LOGIN_REQUEST\":\r\n            return {\r\n                ...state,\r\n                loginRequestStatus_admin: false,\r\n                invalidLogin: false,\r\n                loginStatus_admin: false\r\n\r\n            }\r\n\r\n        case \"LOGIN_SUCCESS\":\r\n            // return state;\r\n            return {\r\n                ...state,\r\n                userExist_admin: true,\r\n                loggedInUserAccount_admin: action.userInfo,\r\n                loginRequestStatus_admin: true,\r\n                loginStatus_admin: true,\r\n                invalidLogin: false\r\n\r\n            }\r\n\r\n        case \"LOGIN_FAILURE\":\r\n            return {\r\n                ...state,\r\n                loginRequestStatus_admin: true,\r\n                loginStatus_admin: false,\r\n                invalidLogin: true\r\n            }\r\n\r\n        case \"LOGOUT\":\r\n            return {\r\n                ...state,\r\n                loginStatus_admin: false,\r\n                loggedInUserAccount_admin: {},\r\n                loginRequestStatus_admin: false,\r\n                userExist_admin: false,\r\n            }\r\n        case \"SIGNUP_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                SIGNUP_SUCCESS: true\r\n            }\r\n        case \"ADD_TAG\": {\r\n            let tags = [...state.tags]\r\n            if(Array.isArray(action.payload)){\r\n                tags.push(...action.payload)\r\n            }else{\r\n                tags.push(action.payload)\r\n            }\r\n            return {\r\n                ...state,\r\n                tags: tags\r\n            }\r\n        }\r\n        case \"REMOVE_TAG\":\r\n            let tags = [...state.tags];\r\n            for (let i = 0; i < tags.length; i++) {\r\n                if (tags[i].id == action.payload) {\r\n                    tags.splice(i, 1);\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                tags: tags\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { stat } from \"fs\";\r\n\r\nconst initialState = {\r\n    listRelatedData: [],\r\n    loading: true,\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    perspectiveIds: [],\r\n    sortedAuthorIds: [],\r\n    perspectivesRelations: {},\r\n    perspectivesDetail: [],\r\n    perspectivesByAuthor: {},\r\n    sortedAuthors: [],\r\n    authors: {},\r\n    concept: {},\r\n    keywordIds: [],\r\n    keywords: {},\r\n    isLike: false,\r\n    initial:false,\r\n    normalizedPerspectives:{},\r\n    sortByLikes:false,\r\n    isScroll:true,\r\n    isScrollByLike:true,\r\n    message:false,\r\n    finish:false\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n            case 'SET_MESSAGE':{\r\n                return {\r\n                    message:true\r\n                }\r\n            }\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':{\r\n            \r\n            return {\r\n                apiLoading: true,\r\n                sortByLikes:false,\r\n                isScrollByLike:state.isScrollByLike,\r\n                finish:false\r\n            }}\r\n        case 'REQUEST_SUCCESSFUL_CONCEPT':\r\n            {\r\n            return {\r\n                ...state,\r\n                apiLoading: false,\r\n                apiServerError: false,\r\n                apiNetworkError: false,\r\n            }\r\n        }\r\n        case 'SET_CONCEPT_DETAILS': {\r\n            return {\r\n                ...state,\r\n                perspectivesRelations: action.payload.perspectivesRelations,\r\n                authors: action.payload.authors,\r\n                concept: action.payload.concepts,\r\n                keywords: action.payload.keywords,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                sortedAuthorIds: action.payload.sortedAuthorIds,\r\n                sortedAuthors: action.payload.sortedAuthors,\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_SCROLL': {\r\n            let oldPerspectives=state.normalizedPerspectives;\r\n            let perspectivesByAuthor = state.perspectivesByAuthor;\r\n            action.payload.perspectives.forEach(p => {\r\n                perspectivesByAuthor[p.AuthorId].push(p.id);\r\n            })\r\n            let normalizedPerspectives=action.payload.normalizedPerspectives;\r\n            Object.keys(normalizedPerspectives).map(id => {\r\n                state.normalizedPerspectives[id]=normalizedPerspectives[id];\r\n            })\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: perspectivesByAuthor,\r\n                normalizedPerspectives:oldPerspectives\r\n            }\r\n        }\r\n        case 'LOAD_BY_LIKES': {\r\n            return {\r\n                isScrollByLike:false,\r\n                initial : false\r\n            }\r\n        }\r\n        case 'SET_NORMALIZED_PERSPECTIVES':\r\n        {\r\n\r\n            return {\r\n                ...state,\r\n                normalizedPerspectives:action.payload.data,\r\n                sortByLikes:true,\r\n                initial:true,\r\n                offset:1,\r\n                isScrollByLike:action.payload.isScrollLike,\r\n                finish:action.payload.finish\r\n\r\n            }\r\n        }\r\n        case 'SET_NORMALIZED_PERSPECTIVES_BY_SCROLL':\r\n        {\r\n            console.log(\"got data for scroll is \",action.payload)\r\n            let normalizedPerspectives=action.payload.data;\r\n            let oldPerspectives=state.normalizedPerspectives;\r\n            let newPerspectives=oldPerspectives.concat(normalizedPerspectives);\r\n            let oldoffset=++state.offset;\r\n            return {\r\n                ...state,\r\n                normalizedPerspectives:newPerspectives,\r\n                sortByLikes:true,\r\n                offset:oldoffset,\r\n                finish:action.payload.finish\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_AUTHOR': {\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                normalizedPerspectives:action.payload.normalizedPerspectives,\r\n                initial:true,\r\n                sortByLikes:false,\r\n                isScrollByLike:false,\r\n                offset:0,\r\n                isScrollByLike:false\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS': {\r\n            console.log(\"action.payload is \",action.payload)\r\n        //    if(state.sortByLikes)\r\n        //    {\r\n        //     return {\r\n        //         ...state,\r\n        //         perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n        //         normalizedPerspectives:action.payload.Perspectives,\r\n        //         initial:true\r\n        //     }\r\n        //    }\r\n        //    else\r\n        //    {\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                normalizedPerspectives:action.payload.normalizedPerspectives,\r\n                initial:true,\r\n                sortByLikes:true,\r\n            }\r\n        //    }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS_SCROLL': {\r\n            console.log(\"got action\",action.payload)\r\n            let oldPerspectives=state.normalizedPerspectives;\r\n            let perspectivesByAuthor = state.perspectivesByAuthor;\r\n            // action.payload.normalizedPerspectives.forEach(p => {\r\n            //     perspectivesByAuthor[p.AuthorId].push(p.id);\r\n            // })\r\n            let normalizedPerspectives=action.payload.normalizedPerspectives;\r\n            let newPerspectives=oldPerspectives.concat(normalizedPerspectives)\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: perspectivesByAuthor,\r\n                normalizedPerspectives:newPerspectives\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS_SCROLL_UP': {\r\n            console.log(\"got action\",action.payload)\r\n            let oldPerspectives=state.normalizedPerspectives;\r\n            let perspectivesByAuthor = state.perspectivesByAuthor;\r\n            // action.payload.normalizedPerspectives.forEach(p => {\r\n            //     perspectivesByAuthor[p.AuthorId].push(p.id);\r\n            // })\r\n            let normalizedPerspectives=action.payload.normalizedPerspectives;\r\n            let newPerspectives=normalizedPerspectives.concat(oldPerspectives);\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: perspectivesByAuthor,\r\n                normalizedPerspectives:newPerspectives\r\n            }\r\n        }\r\n        case 'setPerspectiveIds': {\r\n            return {\r\n                ...state,\r\n                perspectiveIds: action.payload\r\n            }\r\n        }\r\n        case 'sortByAuthorLast': {\r\n            return {\r\n                ...state,\r\n                sortBy: action.payload\r\n            }\r\n        }\r\n        case 'sortByKeyword': {\r\n            return {\r\n                ...state,\r\n                sortBy: action.payload.sortBy,\r\n                sortByKeywordId: action.payload.sortByKeywordId,\r\n                all: action.payload.all\r\n\r\n            }\r\n        }\r\n        case 'SHOW_ALL_PERSPECTIVE': {\r\n            return {\r\n                ...state,\r\n                all: action.payload\r\n            }\r\n        }\r\n        case 'SET_PERSPECTIVE_LIKE': {\r\n            let perspectives = state.perspectives;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return {\r\n                ...state,\r\n                perspectives: perspectives\r\n            }\r\n        }\r\n        case 'SET_IS_LIKE': {\r\n            return {\r\n                ...state,\r\n                isLike: action.payload\r\n            }\r\n        }\r\n\r\n        // case \"GET_CONCEPT_DETAILS\":\r\n        //     // console.log(\"Dispatch Called!\");\r\n        //     return {\r\n        //         ...state,\r\n        //         conceptsWithDetails: [...action.payload]\r\n        //     }\r\n        // case \"GET_CONCEPT_KEYWORDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         keywords: [...action.payload],\r\n        //     }\r\n        // case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         perspectiveids: [...action.payload]\r\n        //     }\r\n        // case \"REFRESH_CONCEPT_PAGE\":\r\n        //     return {\r\n        //         ...state,\r\n\r\n        //     }\r\n        case 'FLUSH_CONCEPT':{\r\n            return {\r\n                isScrollByLike:state.isScrollByLike\r\n            }\r\n        }\r\n        case 'GET_LIST_RELATED':\r\n            return {\r\n                ...state,\r\n                listRelatedData: action.payload,\r\n            }\r\n        // case 'LOADING_FALSE':\r\n        //     console.log(\"Loading False\")\r\n        //     return {\r\n        //         ...state,\r\n        //         loading: false\r\n        //     }\r\n        // case 'LOADING_TRUE':\r\n        //     console.log(\"Loaing True\")\r\n        //     return {\r\n        //         loading: true,\r\n        //     }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    conceptClustersWithDetails: [],\r\n    conceptClusterConceptsDiscrete: [],\r\n    authors:{},\r\n    concepts:{},\r\n    perspective:{},\r\n    keywords:{},\r\n    conceptCluster:{},\r\n    authorClicked: false,\r\n    conceptClicked: true,\r\n    loading: true,\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    conceptClusterWithDetails: {},\r\n    sortedAuthors:[],\r\n    sortedConcepts:[],\r\n    initial:true\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'CONCEPT_CLUSTER_DETAIL':{\r\n            let conceptCluster=action.payload.conceptCluster[Object.keys(action.payload.conceptCluster)[0]]\r\n            return{\r\n                ...state,\r\n                authors:action.payload.authors,\r\n                concepts:action.payload.concepts,\r\n                perspective:action.payload.perspectives,\r\n                conceptCluster:conceptCluster,\r\n                keywords:action.payload.keywords\r\n            }\r\n        }\r\n        // case 'CONCEPT_CLUSTER_DETAIL_SCROLL':{\r\n        //     let conceptCluster=action.payload.conceptCluster[Object.keys(action.payload.conceptCluster)[0]]\r\n        //     let prev=state.perspective;\r\n        //     let prevConcept=state.concepts;\r\n        //     console.log(\"why why\",action.payload.perspectives);\r\n        //     Object.keys(action.payload.perspectives).map(key => {\r\n        //         console.log(\"checking\",key);\r\n        //         prev[key]=action.payload.perspectives[key];\r\n        //         console.log(\"pushing at\",)\r\n        //         prevConcept[Object.keys(prevConcept)[0]].Perspectives.push(key);\r\n        //     })\r\n        //     let prevAuthor=state.authors;\r\n        //     Object.keys(action.payload.authors).map(key => {\r\n        //         prevAuthor[key]=action.payload.authors[key];\r\n        //     })\r\n        \r\n        //     console.log(\"new formed is \",prev);\r\n        //     return{\r\n        //         ...state,\r\n        //         authors:prevAuthor,\r\n        //         concepts:prevConcept,\r\n        //         perspective:prev,\r\n        //         conceptCluster:conceptCluster,\r\n        //         keywords:action.payload.keywords\r\n        //     }\r\n        // }\r\n        case 'SORTED_AUTHOR':{\r\n            return {\r\n                ...state,\r\n                sortedAuthors:action.payload.results.sortedAuthors,\r\n                initial:false,\r\n                sortedConcepts:action.payload.results.sortedConcepts\r\n            }\r\n        }\r\n        case 'CLICKED_STATE':{\r\n            return{\r\n                ...state,\r\n                authorClicked:action.payload.authorClicked,\r\n                conceptClicked:action.payload.conceptClicked\r\n            }\r\n        }\r\n        case 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE':{\r\n            let perspectives = state.conceptClusterWithDetails;\r\n            \r\n            perspectives[action.payload.index].loves = action.payload.perspective.loves;\r\n            perspectives[action.payload.index].isLike = action.payload.perspective.isLike;\r\n            return{\r\n                ...state,\r\n                conceptClusterWithDetails: perspectives\r\n            }\r\n        }\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':\r\n            return {\r\n                apiLoading: true,\r\n                initial:false,\r\n                sortedAuthors:state.sortedAuthors,\r\n                sortedConcepts:state.sortedConcepts\r\n            }\r\n            case 'REQUEST_SUCCESSFUL':\r\n                {\r\n                    action.payload.map(perspective => {\r\n                        perspective['isLike']=false;\r\n                    })\r\n                return {\r\n                    ...state,\r\n                    conceptClusterWithDetails: action.payload,\r\n                    apiLoading: false,\r\n                    apiServerError: false,\r\n                    apiNetworkError: false,\r\n                    sortedConcepts:state.sortedConcepts\r\n                }\r\n            }\r\n                case 'REQUEST_SUCCESSFUL_SCROLL':{\r\n                    let prev=state.conceptClusterWithDetails;\r\n                    let neww=action.payload;\r\n                    console.log(\"rpev\",neww);\r\n                    neww.map((key,index) => {\r\n                        console.log(\"checking index\",index)\r\n                        // console.log(\"previous size was\",prev.Concepts[index].Perspectives);    \r\n                        // key.Perspectives.map(persp => {\r\n                        //     console.log(\"pushing at \",index)\r\n                        //     prev.Concepts[index].Perspectives.push(persp);\r\n                        // });\r\n                        key['isLike']=false;\r\n                        prev.push(key);\r\n\r\n                        // console.log(\"new size will be \",prev.Concepts[index].Perspectives);\r\n\r\n\r\n\r\n\r\n                    })\r\n                    console.log(\"new is \",prev);\r\n                    return {\r\n                        ...state,\r\n                        conceptClusterWithDetails: prev,\r\n                        apiLoading: false,\r\n                        apiServerError: false,\r\n                        apiNetworkError: false,\r\n                    }\r\n\r\n                }\r\n                case 'REQUEST_SUCCESSFUL_UPSCROLL':{\r\n                    let prev=state.conceptClusterWithDetails;\r\n                    let neww=action.payload;\r\n                    console.log(\"rpev\",prev);\r\n                    neww.reverse();\r\n                    neww.map((key,index) => {\r\n                        console.log(\"checking index\",index)\r\n                        // console.log(\"previous size was\",prev.Concepts[index].Perspectives);    \r\n                        // key.Perspectives.map(persp => {\r\n                        //     console.log(\"pushing at \",index)\r\n                        //     prev.Concepts[index].Perspectives.push(persp);\r\n                        // });\r\n                        key['isLike']=false;\r\n                       \r\n                        prev.unshift(key);\r\n\r\n                        // console.log(\"new size will be \",prev.Concepts[index].Perspectives);\r\n\r\n\r\n\r\n\r\n                    })\r\n                    console.log(\"new is \",prev);\r\n                    return {\r\n                        ...state,\r\n                        conceptClusterWithDetails: prev,\r\n                        apiLoading: false,\r\n                        apiServerError: false,\r\n                        apiNetworkError: false,\r\n                    }\r\n\r\n                }\r\n        case \"GET_CONCEPT_CLUSTER_DETAILS\":\r\n            // console.log(\"Dispatch Called!\");\r\n            return {\r\n                ...state,\r\n                conceptClustersWithDetails: [...action.payload]\r\n            }\r\n        case \"GET_CONCEPT_CLUSTER_CONCEPTS_DISCRETE\":\r\n            return {\r\n                ...state,\r\n                conceptClusterConceptsDiscrete: [...action.payload],\r\n            }\r\n        case 'FLUSH_CONCEPT_CLUSTER':{\r\n            return {\r\n                loading: true,\r\n                sortedAuthors:[],\r\n                sortedConcepts:[],\r\n                initial:true\r\n            \r\n            }\r\n        }\r\n        // case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         perspectiveids: [...action.payload]\r\n        //     }\r\n        case \"LOADING_FALSE\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { stat } from \"fs\";\r\n\r\nconst initialState = {\r\n    authorsWithDetails: {},\r\n    authorBioHeadings: {},\r\n    authorBooks: {},\r\n    authorPerspectives:{},\r\n    authorGroups:{},\r\n    concepts:{},\r\n    author:{},\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    author_authors_apiLoading: false,\r\n    author_authors_apiServerError: false,\r\n    author_authors_apiNetworkError: false,\r\n    author_authors: {\r\n    AuthorInfluenceAuthors: [],\r\n    AuthorConvoAuthors: [],\r\n    ends:true,\r\n    finish:false\r\n    }\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'AUTHOR_DETAILS':{\r\n            \r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n           console.log(\"ACtion pyaload is \",action.payload)\r\n            return{\r\n                ...state,\r\n                authorPerspectives:action.payload.perspectives,\r\n                authorBioHeadings:action.payload.AuthorBioHeadings,\r\n                authorGroups:action.payload.AuthorGroups,\r\n                author:author,\r\n                concepts:action.payload.concepts,\r\n                authorBooks:action.payload.books\r\n            }\r\n        }\r\n        case 'AUTHOR_DETAILS_BY_SCROLL':{\r\n            \r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n            let prevAuthorPerspective=state.authorPerspectives;\r\n            console.log(action.payload)\r\n            console.log(\"befor \",Object.keys(prevAuthorPerspective).length);\r\n            Object.keys(action.payload.perspectives).map(key => {\r\n            \r\n                prevAuthorPerspective[key]=action.payload.perspectives[key];\r\n            });\r\n            console.log(\"after\",Object.keys(prevAuthorPerspective).length)\r\n    \r\n            let prevAuthor=state.author;\r\n            author.Perspectives.map(key => {\r\n               \r\n                prevAuthor.Perspectives.push(key);\r\n            })\r\n            \r\n            let prevConcept=state.concepts;\r\n            Object.keys(action.payload.concepts).map(key => {\r\n                prevConcept[key]=action.payload.concepts[key];\r\n            })\r\n            console.log(\"prevAuthor\",Object.keys(prevAuthorPerspective).length);\r\n            console.log(\"prevAuthor\",prevAuthor)\r\n            console.log(\"prevConcepti\",prevConcept)\r\n\r\n\r\n            return{\r\n                ...state,\r\n                authorPerspectives:prevAuthorPerspective,\r\n                author:prevAuthor,\r\n                concepts:prevConcept,\r\n                finish:action.payload.finish\r\n                \r\n            }\r\n        }\r\n        case 'AUTHOR_DETAILS_BY_KEYWORDS':{\r\n            \r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n            let prevAuthorPerspective={};\r\n            console.log(action.payload)\r\n            console.log(\"befor \",Object.keys(prevAuthorPerspective).length);\r\n            Object.keys(action.payload.perspectives).map(key => {\r\n                prevAuthorPerspective[key]=action.payload.perspectives[key];\r\n            });\r\n            console.log(\"after\",Object.keys(prevAuthorPerspective).length)\r\n    \r\n            let prevAuthor=state.author;\r\n            prevAuthor.Perspectives=[];\r\n            author.Perspectives.map(key => {\r\n               \r\n                prevAuthor.Perspectives.push(key);\r\n            })\r\n            prevAuthor['sortedKeywords']=state.author.sortedKeywords\r\n            console.log(\"sorting,\",prevAuthor)\r\n            \r\n            let prevConcept={}\r\n            Object.keys(action.payload.concepts).map(key => {\r\n                prevConcept[key]=action.payload.concepts[key];\r\n            })\r\n            console.log(\"prevAuthor\",Object.keys(prevAuthorPerspective).length);\r\n            console.log(\"prevAuthor\",prevAuthor)\r\n            console.log(\"prevConcepti\",prevConcept)\r\n\r\n\r\n            return{\r\n                ...state,\r\n                authorPerspectives:prevAuthorPerspective,\r\n                author:prevAuthor,\r\n                concepts:prevConcept,\r\n                finish:action.payload.finish\r\n                \r\n            }\r\n        }\r\n        case 'AUTHOR_DETAILS_BY_KEYWORDS_SCROLL':{\r\n            console.log(\"scroloign\")\r\n            console.log(\"scroloign\")\r\n            console.log(\"scroloign\")\r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n            let prevAuthorPerspective=state.authorPerspectives;\r\n            console.log(action.payload)\r\n            console.log(\"befor \",Object.keys(prevAuthorPerspective).length);\r\n            Object.keys(action.payload.perspectives).map(key => {\r\n                prevAuthorPerspective[key]=action.payload.perspectives[key];\r\n            });\r\n            console.log(\"after\",Object.keys(prevAuthorPerspective).length)\r\n            let prevAuthor=state.author;\r\n            console.log(\"before it was \",prevAuthor.Perspectives);\r\n\r\n            prevAuthor.Perspectives=prevAuthor.Perspectives;\r\n            author.Perspectives.map(key => {\r\n               \r\n                prevAuthor.Perspectives.push(key);\r\n            })\r\n            console.log(\"after it was\",prevAuthor.Perspectives);\r\n            prevAuthor['sortedKeywords']=state.author.sortedKeywords\r\n            console.log(\"sorting,\",prevAuthor)\r\n            \r\n            let prevConcept=state.concepts\r\n            Object.keys(action.payload.concepts).map(key => {\r\n                prevConcept[key]=action.payload.concepts[key];\r\n            })\r\n            console.log(\"prevAuthor\",Object.keys(prevAuthorPerspective).length);\r\n            console.log(\"prevAuthor\",prevAuthor)\r\n            console.log(\"prevConcepti\",prevConcept)\r\n\r\n\r\n            return{\r\n                ...state,\r\n                authorPerspectives:prevAuthorPerspective,\r\n                author:prevAuthor,\r\n                concepts:prevConcept,\r\n                finish:action.payload.finish\r\n                \r\n            }\r\n        }\r\n        case 'AUTHOR_DETAILS_BY_KEYWORDS_SCROLL_UP':{\r\n            console.log(\"scroloign\")\r\n            console.log(\"scroloign\")\r\n            console.log(\"scroloign\")\r\n            console.log(\"action found is \",action.payload);\r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n            let prevAuthorPerspective=state.authorPerspectives;\r\n            console.log(action.payload)\r\n            console.log(\"befor \",Object.keys(prevAuthorPerspective));\r\n            Object.keys(action.payload.perspectives).map(key => {\r\n                prevAuthorPerspective[key]=action.payload.perspectives[key];\r\n            });\r\n            console.log(\"after\",Object.keys(prevAuthorPerspective))\r\n    \r\n            let prevAuthor=state.author;\r\n            prevAuthor.Perspectives=prevAuthor.Perspectives;\r\n            author.Perspectives.reverse();\r\n\r\n            author.Perspectives.map(key => {\r\n               \r\n                prevAuthor.Perspectives.unshift(key);\r\n            })\r\n            prevAuthor['sortedKeywords']=state.author.sortedKeywords\r\n            console.log(\"sorting,\",prevAuthor)\r\n            \r\n            let prevConcept=state.concepts\r\n            Object.keys(action.payload.concepts).map(key => {\r\n                prevConcept[key]=action.payload.concepts[key];\r\n            })\r\n            console.log(\"prevAuthor\",Object.keys(prevAuthorPerspective).length);\r\n            console.log(\"prevAuthor\",prevAuthor)\r\n            console.log(\"prevConcepti\",prevConcept)\r\n\r\n\r\n            return{\r\n                ...state,\r\n                authorPerspectives:prevAuthorPerspective,\r\n                author:prevAuthor,\r\n                concepts:prevConcept,\r\n                finish:action.payload.finish\r\n                \r\n            }\r\n        }\r\n        case 'AUTHOR_PERSPECTIVE_LIKE':{\r\n            let perspectives = state.authorPerspectives;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            // return{\r\n            //     ...state,\r\n            //     authorPerspectives: perspectives\r\n            // }\r\n        }\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                ...state,\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':\r\n            return {\r\n                ...state,\r\n                apiLoading: true,\r\n            }\r\n            case \"GET_AUTHOR_DETAILS\":\r\n                {\r\n                 console.log(\"Setting this\",action.payload)   \r\n                return {\r\n                    ...state,\r\n                    authorsWithDetails: action.payload,\r\n                    apiLoading: false,\r\n                    apiServerError: false,\r\n                    apiNetworkError: false,\r\n                    finish:action.payload.finish\r\n                }\r\n                }\r\n                case \"GET_AUTHOR_DETAILS_BY_SCROLL\":\r\n                    { \r\n                        let prevAuthor=state.authorsWithDetails\r\n                        action.payload.Perspectives.map(data => {\r\n                            prevAuthor.Perspectives.push(data);\r\n                        });\r\n                        return {\r\n                            ...state,\r\n                            authorsWithDetails:prevAuthor,\r\n                            apiLoading: false,\r\n                            apiServerError: false,\r\n                            apiNetworkError: false,\r\n                            finish:action.payload.finish\r\n                        }\r\n                    }\r\n                    case \"GET_AUTHOR_DETAILS_BY_KEYWORDS\":\r\n                        { \r\n                            action.payload['sortedKeywords']=state.authorsWithDetails.sortedKeywords\r\n                            return {\r\n                                ...state,\r\n                                authorsWithDetails:action.payload,\r\n                                apiLoading: false,\r\n                                apiServerError: false,\r\n                                apiNetworkError: false,\r\n                                finish:action.payload.finish\r\n                            }\r\n                        }\r\n                        case \"GET_AUTHOR_DETAILS_BY_KEYWORDS_SCROLL\":\r\n                            { \r\n                                action.payload['sortedKeywords']=state.authorsWithDetails.sortedKeywords\r\n                                let prev=state.authorsWithDetails;\r\n                                action.payload.Perspectives.map(perspective => {\r\n                                    prev.Perspectives.push(perspective);\r\n                                })\r\n                                \r\n                                return {\r\n                                    ...state,\r\n                                    authorsWithDetails:prev,\r\n                                    apiLoading: false,\r\n                                    apiServerError: false,\r\n                                    apiNetworkError: false,\r\n                                    finish:action.payload.finish\r\n                                }\r\n                            }\r\n                            case \"GET_AUTHOR_DETAILS_BY_KEYWORDS_SCROLL_UP\":\r\n                                { \r\n                                    action.payload['sortedKeywords']=state.authorsWithDetails.sortedKeywords\r\n                                    let prev=state.authorsWithDetails;\r\n                                    action.payload.Perspectives.map(perspective => {\r\n                                        prev.Perspectives.unshift(perspective);\r\n                                    })\r\n                                    \r\n                                    return {\r\n                                        ...state,\r\n                                        authorsWithDetails:prev,\r\n                                        apiLoading: false,\r\n                                        apiServerError: false,\r\n                                        apiNetworkError: false,\r\n                                        finish:action.payload.finish\r\n                                    }\r\n                                }\r\n        case \"GET_AUTHOR_AUTHORS_PENDING\":\r\n            return {\r\n                ...state,\r\n                author_authors_apiLoading: true,\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_SUCCESS':\r\n            // console.log('reducer get author success')\r\n            return {\r\n                ...state,\r\n                author_authors_apiLoading: false,\r\n                author_authors_apiServerError: false,\r\n                author_authors_apiNetworkError: false,\r\n                author_authors: action.payload\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_SERVER_ERROR':\r\n            return {\r\n                ...state,\r\n                author_authors_apiServerError: true,\r\n                author_authors_apiLoading: false,\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                author_authors_apiNetworkrError: true,\r\n                author_authors_apiLoading: false,\r\n            }\r\n        case \"GET_AUTHOR_BIO\":\r\n            // console.log(\"Get AuthorBio dispatch called in reducer catching\");\r\n            return {\r\n                ...state,\r\n                authorBioData: [...action.payload]\r\n            }\r\n        case \"GET_AUTHOR_BOOKS\":\r\n            // console.log(\"Get AuthorBooks dispatch called in reducer catching\");\r\n            return {\r\n                ...state,\r\n                authorBooks: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_INFLUENCED_BY_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorInfluencedByAuthors: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_INFLUENCED_ON_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorInfluencedOnAuthors: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_CONVO_WITH_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorConvoWithAuthors: [...action.payload]\r\n            }\r\n        case 'FLUSH_AUTHOR':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'LOADING_FALSE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    keywordsForPerspectiveId: [],\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"GET_SINGLE_CONCEPT_KEYWORDS\":\r\n            return {\r\n                ...state,\r\n                keywordsForPerspectiveId: [...action.payload]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    authorClustersWithDetails: [],\r\n    authorClusterConceptsDiscrete: [],\r\n    authorCluster: {},\r\n    perspectives: [],\r\n    authorClicked: false,\r\n    conceptClicked: true,\r\n    resort:3\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'CLICKED_STATE': {\r\n            return {\r\n                ...state,\r\n                authorClicked: action.payload.authorClicked,\r\n                conceptClicked: action.payload.conceptClicked\r\n            }\r\n        }\r\n        case 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE': {\r\n            let perspectives = state.authorCluster;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return {\r\n                ...state,\r\n                authorCluster: perspectives\r\n            }\r\n        }\r\n        case \"GET_AUTHOR_CLUSTER_DETAILS\":\r\n            return {\r\n                ...state,\r\n                authorClustersWithDetails: [...action.payload.data],\r\n                authorCluster: action.payload.entities.authorCluster,\r\n                perspectives: [...action.payload.result]\r\n            }\r\n        case \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\":\r\n            return {\r\n                ...state,\r\n                authorClusterConceptsDiscrete: [...action.payload],\r\n            }\r\n\r\n        case 'FLUSH_AUTHOR_CLUSTER':\r\n            return {\r\n        \r\n            }\r\n        case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n            return {\r\n                ...state,\r\n                perspectiveids: [...action.payload]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport auth from \"./auth\";\r\nimport navbar from \"./navbar\";\r\nimport concepts from \"./concepts\";\r\nimport conceptClusters from \"./conceptClusters\";\r\nimport author from \"./author\";\r\nimport keyword from './keyword';\r\nimport autherCluster from \"./autherCluster\";\r\nexport default combineReducers({\r\n    auth,\r\n    concepts,\r\n    navbar,\r\n    keyword,\r\n    author,\r\n    conceptClusters,\r\n    autherCluster,\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport setAuthorizationToken from \"./utils/setAuthorizationToken\";\r\nimport combineReducers from \"./reducers\";\r\nimport { setCurrentUser } from './actions/loginActions';\r\nimport jwt from \"jsonwebtoken\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Favicon from 'react-favicon';\r\n\r\n//import { PersistGate } from 'redux-persist/integration/react';\r\n//import configureStore from './store/configureStore';\r\n//const {store,persistor}=configureStore();\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(combineReducers, composeEnhancers(applyMiddleware(thunk)));\r\nif (localStorage.jwtToken) {\r\n    setAuthorizationToken(localStorage.jwtToken);\r\n    store.dispatch(setCurrentUser(jwt.decode(localStorage.jwtToken)));\r\n}\r\n\r\n\r\n\r\nReactDOM.render(<Provider store={store}>\r\n    <Router>\r\n    {/*<PersistGate loading={null} persistor={persistor}>*/}\r\n        <App />\r\n   {/* </PersistGate>*/}\r\n    </Router>\r\n\r\n</Provider>, document.getElementById('root'));\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}