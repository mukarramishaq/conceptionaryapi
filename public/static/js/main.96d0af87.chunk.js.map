{"version":3,"sources":["loading.gif","Spinner.svg","images/conceptionary.svg","components/LoaderComponent/Loader.js","components/AdComponent/AdComponent.js","schema/conceptSchema.js","actions/conceptsActions.js","utils/getSortedAuthor.js","actions/navbaractions.js","utilities/index.js","components/SocialShareButtons/ShareButtons.js","components/SocialShareButtons/TwitterSharedButton.js","components/ConceptsPage/Context/Context.js","utils/keywordsSorterFunction.js","utils/conceptsSorterFunction.js","selectors/index.js","components/ConceptsPage/ConceptsPage.js","schema/conceptClusterSchema.js","actions/conceptClustersActions.js","components/ConceptClustersPage/Context.js","components/ConceptClustersPage/ConceptClustersPage.js","components/Messages/Message.js","schema/authorClusterSchema.js","actions/autherCluster.js","components/AutherCluster/AutherCluster.js","schema/authorSchema.js","actions/authorActions.js","components/AuthorPage/AutherPage.js","utils/setAuthorizationToken.js","actions/loginActions.js","components/Login/Login.js","helpers/validateLogin.js","actions/signupActions.js","helpers/validateSignup.js","components/Signup/Signup.js","components/TopNavBar/TopNavBar.js","components/HomePage/HomePage.js","components/FileUpload/FileUpload.js","components/perspectiveDetail/perspective.js","App.js","serviceWorker.js","reducers/auth.js","reducers/navbar.js","reducers/concepts.js","reducers/conceptClusters.js","reducers/author.js","reducers/keyword.js","reducers/autherCluster.js","reducers/index.js","index.js"],"names":["module","exports","__webpack_require__","p","Component","AdsComponent","react_default","a","createElement","class","style","display","textAlign","data-ad-format","data-ad-layout","data-ad-client","data-ad-slot","React","author","schema","Entity","keyword","perspective","Author","Keywords","conceptSchema","Perspectives","axios","require","perspectivesByAuthor","sortedAuthors","normalizedData","createPerspectivesByAuthor","perspectives","arguments","length","undefined","authorPerspectives","Object","assign","forEach","id","AuthorId","push","getnormalizedPerspectives","console","log","keys","normalize","flushConceptState","dispatch","type","getAllPerspectivesByConcept","conceptId","page_no","conceptPage","post","concat","process","then","data","responseType","payload","getConceptPerspectivesByKeywords","keywordId","get","getPerspectivesByAuthors","authorIds","merge","catch","err","getConceptPerspectivesByAuthorLastName","author_lastName","increasePerspectiveLike","like","res","isLike","decreasePerspectiveLike","sortByAuthorLast","sortBy","showAllPerspective","value","sortByKeyword","getConceptFromApi","concept","obj","Conceptobj","conceptDetailsFromApi","perspectivesRelations","sortedAuthorIds","entities","ids","perspectiveids","concepts","authors","uniqueAuthorWithDetails","uniqueAuthorNames","indexOf","firstName","lastName","sort","b","authorALastName","toUpperCase","authorBLastName","getUniqueSortedAuthors","result","error","getListRelatedByConceptId","listRelatedData","ConceptClusters","flushState","setAutherClusterSelectedItems","selectedItems","setSelectedItem","selectedItem","setSelectedCategory","selectedCategory","addTag","tag","removeTag","getAuthorGroups","name","callback","results","i","label","toLowerCase","startsWith","login","account","username","Email","password","Password","headers","Content-Type","accept","response","JSON","parse","stringify","success","userInfo","user","e","logout","signup","Username","email","temp","filters","filterobj","Promise","resolve","reject","Axios","ShareButtons","props","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","link","react_facebook_lib","appId","href","_ref","handleClick","onClick","backgroundColor","border","FacebookIcon","size","round","_ref2","TwitterIcon","Context","_this","state","visibility","_this2","_this$props","keywords","className","marginTop","padding","borderRadius","fontSize","textTransform","pronoun","selectedOption","description","onAuthorClick","author_first","author_last","born","dob","died","dod","auth_id","color","cursor","map","k","SocialShareButtons_ShareButtons","aria-hidden","onLikeClick","loves","setState","longDescription","citation","keywordsSorter","conceptsSorter","getUniqueKeywords","perspectiveIds","uniqueKeysWords","uniqueKeywordNamesOnly","count","includes","keywordSorterFunction","getUniqueConcept","uniqueConcecptObjects","helperUniqueIds","element","ConceptId","object","discrete_author_name_id","discrete_author_name","textA","textB","getSortedPerspectivesByConceptName","tempPerspectives","conceptNameA","Concept","conceptNameB","getUniqueAuthorBooks","books","authorBooks","Books","bookids","uniqueBookNameWithId","uniqueBookIds","bookid","discrete_book_id","title","getAuthorBioData","authorGroups","authorBioHeadings","AuthorGroups","uniqueBioHeadings","AuthorBioHeading","heading","values","getUniqueSortedConceptsFromConceptCluster","conceptCluster","conceptClusters","Concepts","uniqueConceptNames","sortedUniqueConcepts","getPerspectivesFromConceptCluster","authorClicked","conceptClicked","apply","toConsumableArray","perspectiveId","ConceptName","authorA","authorB","getUniqueAuthorsFromConceptCluster","conceptids","uniqueAuthors","perspecid","getUniqueSortedConceptNameFromAuthorCluster","autherCluster","authorCluster","uniqueConcepts","conceptid","conceptName","getDynamicSortedAuthorClusterWithDetails","copyAuthorClusterWithDetails","authorLastName","getSortedAuthorClusterWithDetailsByAuthorLast","clustersWithDetails","authorClustersWithDetails","getFilteredPerspectives","normalizedPerspectives","pid","ConceptsPage","getConcept","concept_name","myRef","createRef","query","apiLoading","apiServerError","apiNetworkError","listRelatedLoading","listRelatedServerError","listRelatedNetworkError","listRelated","listRelatedRole","navbar","sortedKeywords","uniqueKeywords","authorId","all","sortByAuthor","filteredPerspectives","perspectiveLoading","filterConceptDefinations","bind","assertThisInitialized","onListClick","onListRelatedClick","onRelatedClick","toggleListRelated","scrollDownPerspectiveHandler","scrollUpPerspectiveHandler","handleScrollCallback","category","concept_id","tags","relationary_supra","relationary_thing_supra_id","match","params","queryString","location","search","queryFilters","author_group","history","nextProps","conceptWithDetails","conceptsWithDetails","orignalConceptsWithDetails","loading","initial","slice","document","getElementById","scrollIntoView","behavior","ReactDOM","findDOMNode","refs","myscroll","sortByKeywordId","scrollTop","clientHeight","scrollHeight","sc","addEventListener","keyword_id","rtn","keywords_id","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","return","index","beginners","last","overflow","width","margin","react_loading_default","height","background","marginBottom","paddingLeft","marginLeft","marginRight","fontWeight","borderBottom","paddingTop","paddingBottom","returnOnlyListData","returnOnlyRelationData","textDecoration","lineHeight","ref","onScroll","position","justifyContent","src","ConceptsPage_Context_Context","bottom","borderLeft","loadPerspectivesByAuthor","AdComponent","listData","withRouter","connect","pageNumber","bindActionCreators","conceptClusterSchema","flushConceptClusterState","setClickedState","getConceptClusterFromApi","ConceptClustersPage","sortedConcepts","sortedPerspectives","cluster","groupIds","group","getConceptCluster","Redirect","to","zIndex","components_ConceptClustersPage_Context","borderRight","Message","authorClusterSchema","flushAuthorClusterState","getAuthorCluster","via","asyncToGenerator","regenerator_default","mark","_callee","rej","result1","wrap","_context","prev","sent","t0","stop","_x","_x2","getAuthorClusterHelper","AutherCluster","sortedConceptsNames","dynamicSortedAuthorCluster","sortedAuthorClusterDetail","authorGroup","url","pathname","split","getAuthorGroupByName","getAutherCluster","arr","authorFirstName","long_description","authorBioHeading","book","authorSchema","flushAuthorState","getAuthorInfluencedByAuthors","author_authors_details","getAuthorDetails","authorDetailsFromApi","join","author_firstName","author_image","pictureLink","getPictureLinks","AuthorPage","getAuthor","author_authors","authorInfluencedByAuthors","authorInfluencedOnAuthors","AuthorInfluenceAuthors","authorConvoWithAuthors","AuthorConvoAuthors","showBooks","sortedAuthorInfluencedByAuthors","setInitialsortedAuthorInfluencedByAuthors","sortedAuthorInfluencedOnAuthors","setInitialsortedAuthorInfluencedOnAuthors","sortedAuthorConvoWithAuthors","setInitialsortedAuthorConvoWithAuthors","index1","index2","UniqueConcepts","uniqueconcepts","sortedperpectives","authorBio","authorBooksById","loadImage","getSortedAuthorInfluencedByAuthors","reverse","forward","reverse1","forward1","reverse2","forward2","onConceptClick","onBioClick","x","author_authors_apiLoading","author_authors_apiServerError","author_authors_apiNetworkError","bio","distinct_grouping","distinct_grouping_id","rtnArray","getSortedAuthorInfluencedOnAuthors","getSortedAuthorConvoWithAuthors","totalLength","wheight","onError","onLoad","alt","item","charAt","v","Link","maxHeight","minHeight","textOverflow","whiteSpace","BookDescriptions","bookDescription","source","setAuthorizationToken","token","defaults","common","setCurrentUser","userLoginRequest","userData","Access-Control-Allow-Origin","localStorage","setItem","jwt","decode","Login","errors","isLoading","onChange","onSubmit","defineProperty","target","_validateLogin","loginData","validator","isEmpty","isValid","validateLogin","preventDefault","_this$state","form","classnames","has-error","placeholder","disabled","userSignupRequest","Signup","firstname","lastname","_validateSignup","signupData","isEmail","validateSignup","fname","lname","body","server","TopNavBar","Joi","string","required","allow","toggleModalOpen","prevState","modalOpen","toggleModalSignupOpen","modalSignupOpen","validate","abortEarly","details","path","message","handleLoginChange","input","currentTarget","errorMessage","validateProperty","objectSpread","handleSubmit","isSignup","loginStatus_admin","onTagsChanged","searchCategory","suggestions","filter","onInputChanged","handleDelete","splice","handleAddition","toString","loadTags","cb","loadSuggestions","tagsObject","labels","handleChange","handleTagChange","selectedTag","renderRedirect","seletedSearch","authorClusterSelectedOptions","authorClusters","dropdownData","labelsArray","loadOptionsData","loginRequestStatus_admin","userAccount","loadOptions","onSelectedCatagoryChange","searchAllConceptionary","inputValue","shuffle","alert","_this3","_this4","_this5","_this6","_this7","_this8","_this9","searchConcepts","searchConceptClusters","searchAuthorGroups","searchAuthors","searchAuthorClusters","searchAuthorGroupsNav","SIGNUP_SUCCESS","invalidLogin","window","pushState","_this10","reactstrap_es","getBackgroudColor","page","paddingRight","light","expand","toggle","isOpen","selected","Async_default","onFocus","styles","colourStyles","isDisabled","Fragment","loggedInUserAccount_admin","index_es","open","onClose","center","boxShadow","react_loader_spinner_default","data-dismiss","aria-label","dot","alignItems",":before","content","control","option","isFocused","isSelected","chroma","alpha","css","contrast","singleValue","_ref3","userExist_admin","HomePage","conceptionary_svg","FileUpload","selectedFile","msg","skip","wait","onChangeHandler","onClickHandler","event","files","FormData","append","multiple","role","listStyleType","PerspectiveDetail","Perspective","imgURL","img","Helmet","property","createBrowserHistory","App","isAuthenticated","auth","Router","components_TopNavBar_TopNavBar","Switch","Route","exact","component","AuthorCluster","Boolean","hostname","initialState","perspectivesDetail","keywordIds","conceptClustersWithDetails","conceptClusterConceptsDiscrete","conceptClusterWithDetails","authorsWithDetails","keywordsForPerspectiveId","authorClusterConceptsDiscrete","resort","combineReducers","action","norm","normal","searchSuggestions","Array","isArray","AuthorBioHeadings","author_authors_apiNetworkrError","authorBioData","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","jwtToken","render","es","BrowserRouter","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.96d0af87.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,R0lGODlhEAALAPQAAP///01NVOXl5t7e4PDw8VJSWU1NVG5uc6iorJCQlc/P0WVla4GBhq6usZOTl9LS1GhoblBQV4SEie7u7uTk5ff3+HV1eufn6Pb29szMzr29wNra3PPz9E1NVE1NVE1NVCH5BAkLAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7\"","module.exports = __webpack_public_path__ + \"static/media/Spinner.de191b2f.svg\";","module.exports = __webpack_public_path__ + \"static/media/conceptionary.4e85499c.svg\";","import React, { Component } from 'react';\r\nimport spiner from '../../../src/Spinner.svg';\r\nclass Loader extends Component{\r\n    render(){\r\n        return(\r\n            <img src={spiner}></img>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport AdSense from 'react-adsense';\r\nclass AdsComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <ins class=\"adsbygoogle\"\r\n            \r\n            style={{display:'block', textAlign:'center'}}\r\n            data-ad-format=\"fluid\"\r\n            data-ad-layout=\"in-article\"\r\n            data-ad-client=\"ca-pub-0123456789101112\"\r\n            data-ad-slot=\"9876543210\"></ins>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdsComponent;","import { schema } from 'normalizr';\r\nconst author = new schema.Entity('authors');\r\nconst keyword = new schema.Entity('keywords');\r\nconst perspective = new schema.Entity('perspectivesRelations', {\r\n    Author: author,\r\n    Keywords: [keyword]\r\n});\r\nexport const conceptSchema = new schema.Entity('concepts', {\r\n    Perspectives: [perspective],\r\n});\r\n","import { normalize } from 'normalizr';\r\nimport { conceptSchema } from '../schema/conceptSchema';\r\nimport getUniqueSortedAuthors from '../utils/getSortedAuthor';\r\nconst axios = require('axios');\r\nvar perspectivesByAuthor = {};\r\nvar sortedAuthors = [];\r\nvar normalizedData={};\r\nfunction createPerspectivesByAuthor(perspectives = null) {\r\n    let authorPerspectives = Object.assign({}, perspectivesByAuthor);\r\n    if (perspectives) {\r\n        sortedAuthors.forEach(a => {\r\n            authorPerspectives[a.id] = [];\r\n        })\r\n        perspectives.forEach(p => {\r\n            if (!authorPerspectives[p.AuthorId]) {\r\n                authorPerspectives[p.AuthorId] = [p.id]\r\n            } else {\r\n                authorPerspectives[p.AuthorId].push(p.id)\r\n            }\r\n        })\r\n        return authorPerspectives\r\n    }\r\n}\r\nfunction getnormalizedPerspectives(perspectives=null)\r\n{\r\n    console.log(\"Previous was\",Object.keys(normalizedData).length)\r\n    let normalize = {}\r\n    perspectives.forEach(p => {\r\n        // console.log(p.id);\r\n        normalize[p.id]=p\r\n    })\r\n    console.log(\"new was\",Object.keys(normalize).length)\r\n    normalizedData=normalize;\r\n    return normalize;\r\n}\r\n\r\nexport function flushConceptState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_CONCEPT\",\r\n        })\r\n    }\r\n}\r\nexport function setConceptPageNo(pageNo) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: 'SET_PAGE_NO',\r\n            payload: pageNo\r\n        })\r\n    }\r\n}\r\nexport function getAllPerspectivesByConcept(conceptId, page_no) {\r\n    let conceptPage = {\r\n        conceptId,\r\n        page_no,\r\n    }\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/perspective`, { conceptPage })\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE',\r\n                        payload: data.data.perspectives\r\n                    })\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getConceptPerspectivesByKeywords(keywordId) {\r\n    return dispatch => {\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/keywords/perspective/${keywordId}`)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    data.data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthor(data.data.data.Perspectives)\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS',\r\n                        payload: data.data.data\r\n                    })\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\nexport function getPerspectivesByAuthors(authorIds, conceptId, merge = false) {\r\n    // console.log(\"got request\",authorIds)\r\n    // console.log(\"merge is \",merge);\r\n    let perspective = {};\r\n    perspective[\"authorIds\"] = authorIds;\r\n    perspective[\"conceptId\"] = conceptId;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/authors`, { perspective })\r\n            .then(data => {\r\n                console.log(\"data get is \",data);\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    if (merge) {\r\n                        data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthor(data.data.perspectives)\r\n                        data.data[\"normalizedPerspectives\"]=getnormalizedPerspectives(data.data.perspectives)\r\n                        console.log(data.data);\r\n                        console.log(\"hello\")\r\n                        console.log(\"hello\")\r\n                        console.log(\"hello\")\r\n                        console.log(\"hello\")\r\n                        dispatch({\r\n                            type: 'SET_DETAILED_PERSPECTIVE_BY_SCROLL',\r\n                            payload: data.data\r\n                        })\r\n                    } else {\r\n                        data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthor(data.data.perspectives)\r\n                        data.data[\"normalizedPerspectives\"]=getnormalizedPerspectives(data.data.perspectives)\r\n                        dispatch({\r\n                            type:'SET_NORMALIZED_PERSPECTIVES',\r\n                            payload:data.data\r\n                        })\r\n                        dispatch({\r\n                            type: 'SET_DETAILED_PERSPECTIVE_BY_AUTHOR',\r\n                            payload: data.data\r\n                        });\r\n                      \r\n                    }\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n}\r\nexport function getConceptPerspectivesByAuthorLastName(author_lastName) {\r\n    return dispatch => {\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/perspective/${author_lastName}`)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE',\r\n                        payload: data.data.perspectives\r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'SET_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'SET_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function sortByAuthorLast(sortBy) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"sortByAuthorLast\",\r\n            payload: sortBy\r\n        })\r\n    }\r\n}\r\nexport function showAllPerspective(value) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SHOW_ALL_PERSPECTIVE\",\r\n            payload: value\r\n        })\r\n    }\r\n}\r\nexport function sortByKeyword(keyword) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"sortByKeyword\",\r\n            payload: keyword\r\n        })\r\n    }\r\n}\r\nexport function getConceptFromApi(concept) {\r\n    let obj = {}\r\n    obj.Conceptobj = concept\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/filter?relationships=true`, obj).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                const conceptDetailsFromApi = data.data.Perspectives.perspectivesRelations;\r\n                let sortedAuthorIds = [];\r\n                const normalizedData = normalize(conceptDetailsFromApi, conceptSchema);\r\n                sortedAuthors = getUniqueSortedAuthors(normalizedData.entities, normalizedData.result)\r\n                sortedAuthors.forEach(author => {\r\n                    sortedAuthorIds.push(author.id);\r\n                    perspectivesByAuthor[author.id] = [];\r\n                });\r\n                normalizedData.entities[\"perspectivesByAuthor\"] = perspectivesByAuthor;\r\n                normalizedData.entities.sortedAuthorIds = sortedAuthorIds;\r\n                normalizedData.entities.sortedAuthors = sortedAuthors;\r\n                dispatch({\r\n                    type: \"REQUEST_SUCCESSFUL\",\r\n                    payload: conceptDetailsFromApi\r\n                });\r\n                dispatch({\r\n                    type: 'setPerspectiveIds',\r\n                    payload: normalizedData.entities.concepts[normalizedData.result].Perspectives\r\n                });\r\n                dispatch({\r\n                    type: \"SET_CONCEPT_DETAILS\",\r\n                    payload: normalizedData.entities\r\n                });\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log(\"error is\", error);\r\n            dispatch({\r\n                type: \"NETWORK_ERROR1\"\r\n            })\r\n            console.log('Error While fetching concept details from api', error);\r\n        })\r\n    }\r\n}\r\nexport function getListRelatedByConceptId(concept) {\r\n    let obj = {}\r\n    obj.Conceptobj = concept\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"LIST_RELATED_LOADING\"\r\n        })\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/filter?relationships=true&withListAndRelatedOnly=true&fbclid=IwAR07GYuFbZ9CIrkYUy-0gMPOQrk-aSlLSKP-w0TP1FV5noOp1T-qLJE5xOk`, obj)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == 'success') {\r\n                    let listRelatedData = data.data.data;\r\n                    listRelatedData = listRelatedData.ConceptClusters;\r\n                    dispatch({\r\n                        type: \"GET_LIST_RELATED\",\r\n                        payload: listRelatedData\r\n                    })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"LIST_RELATED_SERVER_ERROR\"\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: 'LIST_RELATED_NETWORK_ERROR'\r\n                })\r\n                console.log('Error While getting list related data', error);\r\n            })\r\n    }\r\n\r\n}\r\n","\r\nexport default function getUniqueSortedAuthors(entities, ids) {\r\n    let perspectiveids = entities.concepts[ids].Perspectives;\r\n    let perspectivesRelations = entities.perspectivesRelations;\r\n    let authors = entities.authors;\r\n    if (perspectiveids && perspectiveids.length > 0 && authors && perspectivesRelations) {\r\n        let uniqueAuthorWithDetails = [];\r\n        let uniqueAuthorNames = [];\r\n        perspectiveids.forEach(id => {\r\n            if (!(uniqueAuthorNames.indexOf((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName)) > -1)) {\r\n                uniqueAuthorNames.push((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName));\r\n                uniqueAuthorWithDetails.push(authors[perspectivesRelations[id].Author]);\r\n            }\r\n        })\r\n        return uniqueAuthorWithDetails.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        });\r\n    }\r\n}","const axios = require('axios');\r\nlet request = require(\"request\");\r\nfunction shuffle(a) {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\nexport function flushState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_NAV_BAR\",\r\n        })\r\n    }\r\n}\r\nexport function setAutherClusterSelectedItems(selectedItems) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_AUTHOR_CLUSTER_SELECTED_OPTIONS\",\r\n            payload: selectedItems,\r\n        })\r\n    }\r\n}\r\nexport function setSelectedItem(selectedItem) {\r\n    // console.log(\"set selected item called---------------->\");\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_SELECTED_OPTION\",\r\n            payload: selectedItem,\r\n        })\r\n    }\r\n}\r\nexport function setSelectedCategory(selectedCategory) {\r\n    // console.log(\"set selected category called\");\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_SEARCH_CATEGORY\",\r\n            payload: selectedCategory,\r\n        })\r\n    }\r\n}\r\nexport function addTag(tag) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"ADD_TAG\",\r\n            payload: tag\r\n        });\r\n    }\r\n}\r\nexport function removeTag(id) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REMOVE_TAG\",\r\n            payload: id\r\n        });\r\n    }\r\n}\r\nexport function getAllAsync(name, data, callback) {\r\n    if (name) {\r\n        if (data.length > 0) {\r\n            let results = [];\r\n            for (let i = 0; i < data.length; i++) {\r\n                if (data[i].label.toLowerCase().startsWith(name.toLowerCase())) {\r\n                    if (results.length < 9) {\r\n                        results.push(data[i]);\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            callback(null, shuffle(results));\r\n        }\r\n        else {\r\n            callback(null, []);\r\n        }\r\n    }\r\n}\r\n\r\nexport function getAllData(inputValue) {\r\n    return \"a\";\r\n}\r\n\r\nexport function prefetchConceptsForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/concepts?fields=id+name', {\r\n            headers: {\r\n                \"X-Requested-With\": \"XMLHttpRequest\"\r\n            }\r\n        }).then(data => {\r\n            const { responseType } = data.data;\r\n            console.log(data)\r\n            if (responseType == 'success') {\r\n                const conceptsForNavBar = data.data.data;\r\n                if (conceptsForNavBar.length > 0) {\r\n                    conceptsForNavBar.map(concept => {\r\n                        return result.push({ label: concept.name, value: concept.name, id: concept.id, category: \"Concept\", color: \"#000000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n        //     request(options, function L(error, response, body) {\r\n        //         // console.log(\"Options\")\r\n        //         let data = JSON.parse(body);\r\n\r\n        //         if (error === null && body.error == undefined) {\r\n        //             if (data.length > 0) {\r\n        //                 let j = 0;\r\n        //                 data.map(part => {\r\n        //                     returndata[j] = { label: part.discrete_concept_name, value: part.discrete_concept_name, id: part.discrete_concept_name_id, image: part.discrete_concept_name_image, category: \"Concept\", color: \"#000000\" };\r\n        //                     j++;\r\n        //                 })\r\n        //                 dispatch({\r\n        //                     type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                     payload: returndata\r\n        //                 })\r\n        //             }\r\n        //             else {\r\n        //                 dispatch({\r\n        //                     type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                     payload: [],\r\n        //                 })\r\n        //             }\r\n        //         }\r\n        //         else {\r\n        //             dispatch({\r\n        //                 type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                 payload: [],\r\n        //             })\r\n        //         }\r\n        //     });\r\n        // }\r\n    }\r\n}\r\nexport function prefetchConceptClustersForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/conceptClusters?fields=id+name+pictureLink').then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                const conceptClustersForNavBar = data.data.data;\r\n                if (conceptClustersForNavBar.length > 0) {\r\n                    conceptClustersForNavBar.map(conceptCluster => {\r\n                        result.push({ label: conceptCluster.name, value: conceptCluster.name, id: conceptCluster.id, category: \"Concept Cluster\", color: \"#FF0000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function prefetchAuthorsForNavbar() {\r\n    let returndata = [];\r\n    let query = `SELECT first_name, last_name, id, dob, dod, picture_link FROM author `;\r\n    var options = {\r\n        method: 'GET',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/authors/',\r\n        form: { query: query }\r\n    };\r\n    return dispatch => {\r\n        request(options, function L(error, response, body) {\r\n            // console.log(\"Options\")\r\n            let data = JSON.parse(body);\r\n            if (error === null && body.error == undefined) {\r\n                if (data.data.length > 0) {\r\n                    let j = 0;\r\n                    data.data.map(part => {\r\n                        let label = part.firstName + \" \" + part.lastName;\r\n                        let value = label;\r\n                        let id = part.id;\r\n                        let born = part.dob;\r\n                        let died = part.dod;\r\n                        let img = part.picturelink;\r\n                        returndata[j] = { label, value, id, born, died, img, page: \"Authors\", category: \"Author\", color: \"#A52A2A\" };\r\n                        j++;\r\n                    })\r\n                    dispatch({\r\n                        type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                        payload: returndata\r\n                    })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                        payload: [],\r\n                    })\r\n                }\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport function prefetchAuthorClustersForNavbar() {\r\n    let returndata = [];\r\n    let query = `SELECT * FROM Conceptionary.author_relationary_distinct_groupings`;\r\n    var options = {\r\n        method: 'POST',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/authors',\r\n        headers:\r\n        {\r\n            'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n            'cache-control': 'no-cache',\r\n            'content-type': 'application/x-www-form-urlencoded'\r\n        },\r\n        form: { query: query }\r\n    };\r\n    // console.log(\"Hi\")\r\n    return dispatch => {\r\n        request(options, function L(error, response, body) {\r\n            // console.log(\"Options\")\r\n            let data = JSON.parse(body);\r\n\r\n            if (error === null && body.error == undefined) {\r\n                let query1 = `SELECT * FROM Conceptionary.author_relationary_supra where author_relationary_supra.categories is null;`;\r\n                // console.log(\"Query in getAutherClusterAsynch\", query);\r\n                var options1 = {\r\n                    method: 'POST',\r\n                    url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n                    headers:\r\n                    {\r\n                        'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n                        'cache-control': 'no-cache',\r\n                        'content-type': 'application/x-www-form-urlencoded'\r\n                    },\r\n                    form: { query: query1 }\r\n                };\r\n                request(options1, function L(error1, response1, body1) {\r\n                    let data1 = JSON.parse(body1);\r\n                    if (error1 === null && body1.error == undefined) {\r\n                        if (data.length > 0) {\r\n                            // console.log(\"data\", data);\r\n                            let j = 0;\r\n\r\n                            data.map(part => {\r\n                                let label = part.distinct_grouping;\r\n                                let value = label;\r\n                                let id = part.distinct_grouping_id;\r\n                                let search_display = part.search_display;\r\n                                let photograph = part.photograph;\r\n                                returndata[j] = { label, value, id, search_display, photograph, category: \"Author Cluster\", color: \"#800080\" };\r\n                                j++;\r\n                            })\r\n                        }\r\n                        if (data1.length > 0) {\r\n                            // console.log(\"Data1 \", data1)\r\n                            data1.map(part => {\r\n                                // console.log(\"@\");\r\n                                let label = part.author_supra;\r\n                                let value = label;\r\n                                let id = part.author_supra_id;\r\n                                let search_display = part.search_display;\r\n                                let categories = part.categories;\r\n                                let author_relationary_image = part.author_relationary_image;\r\n                                let via = \"supra\"\r\n                                returndata.push({ label, value, id, search_display, categories, author_relationary_image, via, category: \"Author Cluster\", color: \"#800080\" });\r\n                            })\r\n                            // console.log(\"Return data\", returndata)\r\n                            if (returndata.length > 0) {\r\n                                dispatch({\r\n                                    type: \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                                    payload: returndata\r\n                                })\r\n                            }\r\n                            else {\r\n                                dispatch({\r\n                                    type: \"AUTHORS_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                                    payload: [],\r\n                                })\r\n                            }\r\n                        }\r\n                        // console.log(\"return data authorCluster\", returndata);\r\n                    }\r\n                });\r\n\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\nexport function getConcepts() {\r\n    let query = \"Select discrete_concept_name,discrete_concept_name_id from Conceptionary.concept_discrete;\"\r\n\r\n    var options = {\r\n        method: 'POST',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/concepts',\r\n        headers:\r\n        {\r\n            'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n            'cache-control': 'no-cache',\r\n            'content-type': 'application/x-www-form-urlencoded'\r\n        },\r\n        form: { query: query }\r\n    };\r\n    return dispatch => {\r\n        request(options, function (error, response, body) {\r\n            // console.log(\"Error is :\", error);\r\n            let data = JSON.parse(body);\r\n            // console.log(\"Gulzain Re/sponse\", response);\r\n            // console.log(\"BODY_________\", data);\r\n            let returndata = [];\r\n            if (error === null && body.error == undefined) {\r\n                if (data.length > 0) {\r\n                    let j = 0;\r\n                    data.map(part => {\r\n                        returndata[j] = { label: part.discrete_concept_name, value: part.discrete_concept_name, id: part.discrete_concept_name_id };\r\n                        j++;\r\n                    })\r\n                    dispatch({\r\n                        type: \"GET_CONCEPTS_NAMES_NAVBAR\",\r\n                        payload: returndata,\r\n\r\n                    })\r\n                }\r\n            }\r\n\r\n            // if (returndata.length > 0) {\r\n            //     console.log(\"return Data\", returndata);\r\n            //     dispatch({\r\n            //         type: \"GET_RELATIONARY_SUPRA_ITEMS_NAVBAR\",\r\n            //         payload: returndata,\r\n\r\n            //     })\r\n            // }\r\n\r\n            // for (var i = 0; i < parts.length; i += 1) {\r\n            //     relationArray.push(\"\\\"\" + parts[i].relationary_supra.replaceAll(\"\\'\", \"\\\\\\'\") + \"\\\"\");\r\n            // }\r\n            // var myhtml = fs.readFileSync('splash.html');\r\n            // //console.log(termsArray);\r\n            // res.send(myhtml + \"<script>autocomplete(document.getElementById(\\\"myInput\\\"),[\" + termsArray + \"],[\" + termsArray + \"]);</script>\" + \"<script>autocomplete(document.getElementById(\\\"myAuthorInput\\\"),[\" + authorArray + \"],[\" + authorArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"groupInput\\\"),[\" + groupArray + \"],[\" + valArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"myListInput\\\"),[\" + listArray + \"],[\" + listArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"myRelationInput\\\"),[\" + relationArray + \"],[\" + relationArray + \"]);</script>\");\r\n\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function prefetchAuthorGroupsForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/authorGroups/all').then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const authroGroupsNavbar = data.data.data;\r\n                console.log(data.data.data)\r\n                if (authroGroupsNavbar.length > 0) {\r\n                    authroGroupsNavbar.map(conceptCluster => {\r\n                        result.push({ label: conceptCluster.name, value: conceptCluster.name, id: conceptCluster.id, category: \"Concept Cluster\", color: \"#FF0000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport function getAuthorGroups(name, data, callback) {\r\n\r\n    console.log(data)\r\n\r\n    if (name) {\r\n\r\n        if (data.length > 0) {\r\n            let results = [];\r\n            for (let i = 0; i < data.length; i++) {\r\n                if (data[i].label.toLowerCase().startsWith(name.toLowerCase())) {\r\n                    if (results.length < 9) {\r\n                        results.push(data[i]);\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            callback(null, results);\r\n        }\r\n        else {\r\n            callback(null, []);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function login(account) {\r\n    return (dispatch) => {\r\n        let obj = {};\r\n\r\n        obj.username = account.Email;\r\n        obj.password = account.Password\r\n\r\n        dispatch(loginRequest());\r\n\r\n        //let accountJSON = JSON.stringify(obj);\r\n        \r\n        return axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/login`, obj, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'accept': 'application/json'\r\n            }\r\n        }).then((response) => {\r\n            let res = JSON.parse(JSON.stringify(response));\r\n            console.log(res)\r\n            console.log(res.data.success)\r\n            if (res.data.success) {\r\n                dispatch(loginSuccess(res.data.user));\r\n\r\n            } else {\r\n                dispatch(loginFailed());\r\n            }\r\n        }).catch(e => {\r\n            dispatch(loginFailed());\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function loginRequest() {\r\n    return {\r\n        type: 'LOGIN_REQUEST'\r\n    }\r\n}\r\n\r\nexport function loginSuccess(userInfo) {\r\n    return {\r\n        type: \"LOGIN_SUCCESS\",\r\n        userInfo: userInfo\r\n    }\r\n}\r\n\r\nexport function loginFailed() {\r\n    return {\r\n        type: \"LOGIN_FAILURE\"\r\n    }\r\n}\r\n\r\n//Logout \r\n\r\n\r\nexport function logout() {\r\n    return {\r\n        type: \"LOGOUT\"\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function signup(account) {\r\n    return (dispatch) => {\r\n        let obj = {};\r\n\r\n        obj.username = account.Username;\r\n        obj.email = account.Email;\r\n        obj.password = account.Password\r\n\r\n        let temp = {};\r\n        temp[\"User\"] = obj;\r\n\r\n\r\n\r\n        dispatch(signupRequest());\r\n        //console.log(accountJSON);\r\n        //let accountJSON = temp;\r\n\r\n        return axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/users`, temp, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'accept': 'application/json'\r\n            }\r\n        }).then((response) => {\r\n            let res = JSON.parse(JSON.stringify(response));\r\n            console.log(res)\r\n            // console.log(res.data.responseType==='success')\r\n            if (res.data.responseType === 'success') {\r\n                dispatch(signupSuccess(res.data.data));\r\n            } else {\r\n                dispatch(signupFailed());\r\n            }\r\n        }).catch(e => {\r\n            dispatch(signupFailed());\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function signupRequest() {\r\n    return {\r\n        type: 'SIGNUP_REQUEST'\r\n    }\r\n}\r\n\r\n\r\nexport function signupSuccess(userInfo) {\r\n    return {\r\n        type: \"SIGNUP_SUCCESS\",\r\n        userInfo: userInfo\r\n    }\r\n}\r\n\r\nexport function signupFailed() {\r\n    return {\r\n        type: \"SIGNUP_FAILURE\"\r\n    }\r\n}\r\n","import Axios from \"axios\";\r\nexport function getAuthorGroups(filters){\r\n    let filterobj = {};\r\n    filterobj.filters = filters;\r\n    return new Promise((resolve, reject) => {\r\n        Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups`, filterobj)\r\n            .then(data => {\r\n                resolve(data.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    });\r\n}","import React, { Component } from 'react';\r\n//import { ShareButton } from \"react-custom-share\";\r\nimport { FacebookProvider, Share } from 'react-facebook';\r\n\r\nimport {\r\n    FacebookIcon,TwitterIcon\r\n} from 'react-share';\r\nimport TwitterSharedButton from './TwitterSharedButton';\r\nclass ShareButtons extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n    render() {\r\n        const { id } = this.props;\r\n        const link = `http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${id}`\r\n        return (\r\n          <div>\r\n          <FacebookProvider appId=\"930857800581355\">\r\n            <Share href={link}>\r\n              {({ handleClick}) => (\r\n               \r\n             <button type=\"button\" onClick={handleClick} style={{backgroundColor: 'transparent',border: 'none'}}> <FacebookIcon size={32} round={true} /></button>\r\n              )}\r\n            </Share>\r\n          </FacebookProvider>\r\n          <FacebookProvider appId=\"930857800581355\">\r\n            <Share href={link}>\r\n              {({ handleClick}) => (\r\n               \r\n             <button type=\"button\" onClick={handleClick} style={{backgroundColor: 'transparent',border: 'none'}}> <TwitterIcon size={32} round={true} /></button>\r\n              )}\r\n            </Share>\r\n          </FacebookProvider>\r\n     \r\n          </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default ShareButtons;\r\n","import React, { Component } from 'react';\r\n//import { ShareButton } from \"react-custom-share\";\r\nimport ShareLink from 'react-twitter-share-link'\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nimport './TwitterShareButton.css'\r\nimport {\r\n    TwitterShareButton,TwitterIcon\r\n} from 'react-share';\r\nclass TwitterSharedButton extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n   \r\n    render() {\r\n        const { id } = this.props;\r\n        const links = `http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${id}`\r\n        return (\r\n        //     <ShareLink link={links}>\r\n        //         {link => (\r\n        //         <a href={link} target='_blank'>Share this on Twitter</a>\r\n        //         )}\r\n        //  </ShareLink>\r\n            <div>\r\n            <Helmet>\r\n                <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                <meta name=\"twitter:site\" content=\"@nytimes\" />\r\n                <meta name=\"twitter:creator\" content=\"@SarahMaslinNir\" />\r\n                <meta name=\"twitter:title\" content=\"Parade of Fans for Houston’s Funeral\" />\r\n                <meta name=\"twitter:description\" content=\"NEWARK - The guest list and parade of limousines with celebrities emerging from them seemed more suited to a red carpet event in Hollywood or New York than than a gritty stretch of Sussex Avenue near the former site of the James M. Baxter Terrace public housing project here.\" />\r\n                <meta name=\"twitter:image\" content=\"http://graphics8.nytimes.com/images/2012/02/19/us/19whitney-span/19whitney-span-articleLarge.jpg\" />\r\n            </Helmet>\r\n        <TwitterShareButton\r\n            url={links}\r\n            title=\"Hello World. \\n My name is Jennifer. \\n What is your name?\"\r\n            className=\"Demo__some-network__share-button\">\r\n            <TwitterIcon\r\n            size={32}\r\n            round />\r\n      </TwitterShareButton>\r\n      </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default TwitterSharedButton;\r\n","import React, { Component } from 'react';\r\nimport ShareButtons from '../../SocialShareButtons/ShareButtons';\r\nimport './Context.css'\r\nclass Context extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visibility: 'none',\r\n        }\r\n    }\r\n    render() {\r\n        const { data, authors, keywords } = this.props;\r\n        return (\r\n            <div id={authors[data.Author].lastName} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\", textAlign: 'justify' }} >\r\n                <b style={{ fontSize: '18px', textTransform: 'capitalize' }}>{data.pronoun}{\" \"} {this.props.selectedOption.label}</b>{\" is \"}{data.description}\r\n                <div onClick={() => this.props.onAuthorClick({ author_first: authors[data.Author].firstName, author_last: authors[data.Author].lastName, born: authors[data.Author].dob, died: authors[data.Author].dod, auth_id: data.Author })} style={{ color: \"red\", cursor: \"pointer\" }}><b>{authors[data.Author].firstName}{\" \"}{authors[data.Author].lastName}</b></div>\r\n                <div>\r\n                   {\r\n                        data.Keywords && data.Keywords.length > 0 && data.Keywords.map(k => {\r\n                            return <span style={{ color: \"grey\",fontSize:13 }}>{data.Keywords.length > 1 && (keywords[k].name + \" | \")}{data.Keywords.length < 2 && (keywords[k].name + \" \")}</span>\r\n                        })\r\n                    }\r\n                </div>\r\n                <div className=\"row\" >\r\n                    <div className=\"col-md-5 col-sm-5 col-xs-5 pt-3\">\r\n                        <ShareButtons id={data.id} ></ShareButtons>\r\n                    </div>\r\n                    <div className=\"col-md-7 col-sm-7 col-xs-7 text-right  \">\r\n                        {/* <div className=\"text-right\" > */}\r\n                        <i style={{ color: data.isLike ? \"red\" : \"grey\", fontSize: '20px' }} className=\"fa fa-thumbs-o-up \" aria-hidden=\"true\" onClick={() => this.props.onLikeClick(data.id)}></i>&nbsp;[{data.loves ? this.props.data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton\" onClick={() => {\r\n                            this.setState({\r\n                                visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                // id: data.id,\r\n                            })\r\n                        }} style={{ cursor: \"pointer\" }}><span className=\"fa fa-ellipsis-h\" id='ellipseCircle' style={{ fontSize: '10px', color: 'black' }}></span></span>\r\n\r\n                        {/* </div> */}\r\n                    </div>\r\n                    <div class=\"col-md-12 col-sm-12 col-xs-7\">\r\n                        <div id={data.id} style={{ marginTop: \"20px\", display: [this.state.visibility], backgroundColor: 'center' }} >{this.props.data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{this.props.data.citation}</div></div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                {/* <div className=\"text-right\" >\r\n                    <i style={{ color: data.isLike ? \"red\" : \"grey\",fontSize:'20px' }} className=\"fa fa-thumbs-o-up \" aria-hidden=\"true\" onClick={() => this.props.onLikeClick(data.id)}></i>&nbsp;[{data.loves ? this.props.data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton\" onClick={() => {\r\n                        this.setState({\r\n                            visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                            // id: data.id,\r\n                        })\r\n                    }} style={{ cursor: \"pointer\" }}><i className=\"fa fa-ellipsis-h\" style={{fontSize:'20px'}}></i></span>\r\n                <div id={data.id} style={{ marginTop: \"20px\", display: [this.state.visibility] }} >{this.props.data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{this.props.data.citation}</div></div>\r\n                \r\n                </div>\r\n                \r\n                <div>\r\n                    <ShareButtons id={data.id}></ShareButtons>\r\n                </div> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// Context.PropTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n//     selectedOption: PropTypes.object.isRequired,\r\n//     onAuthorClick: PropTypes.func.isRequired,\r\n// }\r\nexport default Context;","const keywordsSorter = (a, b) => {\r\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n        return -1;\r\n    }\r\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nexport default keywordsSorter;","const conceptsSorter = (a, b) => {\r\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n        return -1;\r\n    }\r\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nexport default conceptsSorter;","import keywordSorterFunction from '../utils/keywordsSorterFunction';\r\nimport conceptsSorter from '../utils/conceptsSorterFunction';\r\nexport function getUniqueKeywords(state) {\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;\r\n    let perspectiveIds = state.concepts.perspectiveIds;\r\n    let keywords = state.concepts.keywords;\r\n    if (perspectivesRelations && perspectiveIds && perspectiveIds.length > 0 && keywords) {\r\n        const uniqueKeysWords = [];\r\n        const uniqueKeywordNamesOnly = [];\r\n        perspectiveIds.forEach(id => {\r\n            perspectivesRelations[id].Keywords.forEach(keyword => {\r\n                keywords[keyword].count = 1;\r\n                if (!uniqueKeywordNamesOnly.includes(keywords[keyword].name)) {\r\n                    uniqueKeywordNamesOnly.push(keywords[keyword].name)\r\n                    uniqueKeysWords.push(keywords[keyword])\r\n                }\r\n                else {\r\n                    for (let i = 1; i < uniqueKeysWords.length; i++) {\r\n                        if (uniqueKeysWords[i].id === keywords[keyword].id) {\r\n                            uniqueKeysWords[i].count = uniqueKeysWords[i].count + 1;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        return uniqueKeysWords.sort(keywordSorterFunction);\r\n    } else {\r\n        return []\r\n    }\r\n}\r\n\r\nexport function getUniqueSortedAuthors(state) {\r\n    let perspectiveids = state.concepts.perspectiveIds;\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;;\r\n    let authors = state.concepts.authors;\r\n    if (perspectiveids && perspectiveids.length > 0 && authors && perspectivesRelations) {\r\n        let uniqueAuthorWithDetails = [];\r\n        let uniqueAuthorNames = [];\r\n        perspectiveids.forEach(id => {\r\n            if (!(uniqueAuthorNames.indexOf((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName)) > -1)) {\r\n                uniqueAuthorNames.push((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName));\r\n                uniqueAuthorWithDetails.push(authors[perspectivesRelations[id].Author]);\r\n            }\r\n        })\r\n        return uniqueAuthorWithDetails.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        });\r\n    }\r\n}\r\n\r\nexport function getUniqueConcept(state) {\r\n    let author = state.author.author;\r\n    let perspectives = state.author.authorPerspectives;\r\n    let concepts = state.author.concepts;\r\n    if (author.Perspectives && author.Perspectives.length > 0 && perspectives) {\r\n        let uniqueConcecptObjects = [];\r\n        let helperUniqueIds = [];\r\n        author.Perspectives.forEach(element => {\r\n            let count = 0;\r\n            if (!(helperUniqueIds.includes(perspectives[element].ConceptId))) {\r\n                count += 1;\r\n                let discrete_author_name_id = perspectives[element].ConceptId;\r\n                let discrete_author_name = concepts[perspectives[element].ConceptId].name;\r\n                helperUniqueIds.push(perspectives[element].ConceptId)\r\n                uniqueConcecptObjects.push({ discrete_author_name_id, discrete_author_name, count })\r\n            }\r\n            else {\r\n                uniqueConcecptObjects.forEach(object => {\r\n                    if (object.discrete_author_name_id == perspectives[element].ConceptId) {\r\n                        object.count += 1;\r\n                    }\r\n                })\r\n            }\r\n        });\r\n        uniqueConcecptObjects.sort(function (a, b) {\r\n            var textA = a.discrete_author_name.toUpperCase();\r\n            var textB = b.discrete_author_name.toUpperCase();\r\n            return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n        });\r\n        return uniqueConcecptObjects;\r\n    }\r\n}\r\n\r\nexport function getSortedPerspectivesByConceptName(state) {\r\n    let author = state.author.author;\r\n    let perspectives = state.author.authorPerspectives;\r\n    let concepts = state.author.concepts;\r\n    if (author.Perspectives && author.Perspectives.length > 0 && perspectives) {\r\n        let tempPerspectives = [];\r\n        author.Perspectives.forEach(id => {\r\n            tempPerspectives.push(perspectives[id]);\r\n        })\r\n        return tempPerspectives.sort((a, b) => {\r\n            let conceptNameA = concepts[a.Concept].name.toLowerCase();\r\n            let conceptNameB = concepts[b.Concept].name.toLowerCase();\r\n            return conceptNameA < conceptNameB ? -1 : (conceptNameA > conceptNameB) ? 1 : 0;\r\n        })\r\n    }\r\n}\r\nexport function getSortedPerspectivesByLikes(perspectives) {\r\n    if (!perspectives)\r\n        perspectives = [];\r\n    return perspectives.sort((a, b) => {\r\n        if (!a.loves)\r\n            a.loves = 0;\r\n        if (!b.loves)\r\n            b.loves = 0;\r\n        return a.loves > b.loves ? -1 : 0;\r\n\r\n    })\r\n}\r\nexport function getUniqueAuthorBooks(state) {\r\n    let author = state.author.author;\r\n    let books = state.author.authorBooks;\r\n    if (author && author.Books && author.Books.length > 0 && books) {\r\n        let bookids = author.Books;\r\n        let uniqueBookNameWithId = [];\r\n        let uniqueBookIds = [];\r\n        bookids.forEach(bookid => {\r\n            if (!(uniqueBookIds.indexOf(books[bookid].id) > -1)) {\r\n                uniqueBookIds.push(books[bookid].id);\r\n                let discrete_book_id = books[bookid].id;\r\n                let title = books[bookid].title;\r\n                uniqueBookNameWithId.push({ discrete_book_id, title });\r\n            }\r\n        })\r\n        return uniqueBookNameWithId;\r\n    }\r\n}\r\nexport function getAuthorBioData(state) {\r\n    let authorGroups = state.author.authorGroups;\r\n    let authorBioHeadings = state.author.authorBioHeadings;\r\n    let author = state.author.author;\r\n    if (author && author.AuthorGroups && author.AuthorGroups.length > 0) {\r\n        let data = [];\r\n        let uniqueBioHeadings = [];\r\n        author.AuthorGroups.map(id => {\r\n            if (authorGroups[id].AuthorBioHeading) {\r\n                if (!uniqueBioHeadings.includes(authorBioHeadings[authorGroups[id].AuthorBioHeading].name)) {\r\n                    uniqueBioHeadings.push(authorBioHeadings[authorGroups[id].AuthorBioHeading].name);\r\n                    data.push({ heading: authorBioHeadings[authorGroups[id].AuthorBioHeading].name, values: [{ name: authorGroups[id].name, id: authorGroups[id].id }] });\r\n                }\r\n                else {\r\n                    data.forEach(element => {\r\n                        if (element.heading === authorBioHeadings[authorGroups[id].AuthorBioHeading].name) {\r\n                            element.values.push({ name: authorGroups[id].name, id: authorGroups[id].id });\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        })\r\n        return data;\r\n    }\r\n    return;\r\n}\r\n\r\nexport function getUniqueSortedConceptsFromConceptCluster(state) {\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    let concepts = state.conceptClusters.concepts;\r\n    if (conceptCluster && conceptCluster.Concepts && conceptCluster.Concepts.length > 0 && concepts) {\r\n        let uniqueConceptNames = [];\r\n        let sortedUniqueConcepts = [];\r\n        conceptCluster.Concepts.map(id => {\r\n            if (!uniqueConceptNames.includes(concepts[id].name)) {\r\n                uniqueConceptNames.push(concepts[id].name);\r\n                sortedUniqueConcepts.push(concepts[id]);\r\n            }\r\n        })\r\n        return sortedUniqueConcepts.sort((a, b) => {\r\n            let conceptNameA = a.name.toLowerCase();\r\n            let conceptNameB = b.name.toLowerCase();\r\n            return conceptNameA < conceptNameB ? -1 : (conceptNameA > conceptNameB) ? 1 : 0;\r\n        })\r\n    }\r\n}\r\n\r\nexport function getPerspectivesFromConceptCluster(state) {\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    let concepts = state.conceptClusters.concepts;\r\n    let perspective = state.conceptClusters.perspective;\r\n    let authorClicked = state.conceptClusters.authorClicked;\r\n    let conceptClicked = state.conceptClusters.conceptClicked;\r\n    let authors = state.conceptClusters.authors;\r\n    if (conceptCluster && conceptCluster.Concepts && conceptCluster.Concepts.length > 0 && concepts && perspective) {\r\n        const perspectives = [];\r\n        let conceptids = conceptCluster.Concepts;\r\n        conceptids.forEach(id => {\r\n            perspectives.push(...concepts[id].Perspectives.map(perspectiveId => {\r\n                perspective[perspectiveId].ConceptName = concepts[id].name;\r\n                return perspective[perspectiveId];\r\n            }));\r\n        })\r\n        if (authorClicked) {\r\n            perspectives.sort(function (a, b) {\r\n                var textA = authors[a.Author].lastName.toUpperCase();\r\n                var textB = authors[b.Author].lastName.toUpperCase();\r\n                return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n            });\r\n        }\r\n        else if (conceptClicked) {\r\n            perspectives.sort(function (a, b) {\r\n                var authorA = authors[a.Author].lastName.toUpperCase();\r\n                var authorB = authors[b.Author].lastName.toUpperCase();\r\n                var textA = a.ConceptName.toUpperCase();\r\n                var textB = b.ConceptName.toUpperCase();\r\n                if (textA === textB) {\r\n                    return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n                }\r\n                else {\r\n                    return (textA < textB) ? -1 : 1;\r\n                }\r\n            });\r\n\r\n        }\r\n        return perspectives;\r\n    }\r\n}\r\n\r\nexport function getUniqueAuthorsFromConceptCluster(state) {\r\n    let concepts = state.conceptClusters.concepts;\r\n    let authors = state.conceptClusters.authors;\r\n    let perspective = state.conceptClusters.perspective;\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    if (conceptCluster && conceptCluster.Concepts && concepts && perspective && authors) {\r\n        const conceptids = conceptCluster.Concepts;\r\n        const uniqueAuthors = [];\r\n        const uniqueAuthorNames = [];\r\n        conceptids.forEach(id => {\r\n            concepts[id].Perspectives.forEach(perspecid => {\r\n                if (!uniqueAuthorNames.includes(perspective[perspecid].AuthorId)) {\r\n                    uniqueAuthorNames.push(perspective[perspecid].AuthorId)\r\n                    uniqueAuthors.push({\r\n                        id: perspective[perspecid].AuthorId,\r\n                        firstName: authors[perspective[perspecid].Author].firstName,\r\n                        lastName: authors[perspective[perspecid].Author].lastName\r\n                    })\r\n                }\r\n            })\r\n        })\r\n        uniqueAuthors.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        })\r\n        return uniqueAuthors;\r\n    }\r\n}\r\n\r\nexport function getUniqueSortedConceptNameFromAuthorCluster(state) {\r\n    let perspectives = state.autherCluster.perspectives;\r\n    let authorCluster = state.autherCluster.authorCluster;\r\n    if (perspectives && perspectives.length > 0 && authorCluster) {\r\n        let uniqueConceptNames = [];\r\n        let uniqueConcepts = [];\r\n        perspectives.map(conceptid => {\r\n            if (!uniqueConceptNames.includes(authorCluster[conceptid].conceptName)) {\r\n                uniqueConceptNames.push(authorCluster[conceptid].conceptName);\r\n                uniqueConcepts.push({ name: authorCluster[conceptid].conceptName, id: authorCluster[conceptid].conceptId });\r\n            }\r\n        })\r\n        return uniqueConcepts.sort(conceptsSorter);\r\n    }\r\n}\r\n\r\nexport function getDynamicSortedAuthorClusterWithDetails(state) {\r\n    let perspectives = state.autherCluster.perspectives;\r\n    let authorCluster = state.autherCluster.authorCluster;\r\n    let authorClicked = authorCluster.authorClicked;\r\n    let conceptClicked = authorCluster.conceptClicked;\r\n    if (perspectives && perspectives.length > 0 && authorCluster) {\r\n        let copyAuthorClusterWithDetails = [];\r\n        perspectives.forEach(id => {\r\n            copyAuthorClusterWithDetails.push(authorCluster[id]);\r\n        })\r\n        if (authorClicked) {\r\n            copyAuthorClusterWithDetails.sort(function (a, b) {\r\n                var textA = a.authorLastName.toUpperCase();\r\n                var textB = b.authorLastName.toUpperCase();\r\n                return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n            });\r\n        }\r\n        else if (conceptClicked) {\r\n            copyAuthorClusterWithDetails.sort(function (a, b) {\r\n                var authorA = a.authorLastName.toUpperCase();\r\n                var authorB = b.authorLastName.toUpperCase();\r\n                var textA = a.conceptName.toUpperCase();\r\n                var textB = b.conceptName.toUpperCase();\r\n                if (textA === textB) {\r\n                    return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n                }\r\n                else {\r\n                    if (textA === \"CULTURE\") {\r\n                        console.log(\"not author sorting\");\r\n                    }\r\n                    else {\r\n                        if (textA === \"CULTURE\") {\r\n                            console.log(\"not author sorting\");\r\n                        }\r\n                        return (textA < textB) ? -1 : 1;\r\n                    }\r\n                    // return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n                }\r\n            });\r\n        }\r\n        return copyAuthorClusterWithDetails;\r\n    }\r\n}\r\n\r\nexport function getSortedAuthorClusterWithDetailsByAuthorLast(state) {\r\n    let clustersWithDetails = state.autherCluster.authorClustersWithDetails;\r\n    if (clustersWithDetails && clustersWithDetails.length > 0) {\r\n        let copyAuthorClusterWithDetails = [...clustersWithDetails];\r\n        copyAuthorClusterWithDetails.sort(function (a, b) {\r\n            var textA = a.authorLastName.toUpperCase();\r\n            var textB = b.authorLastName.toUpperCase();\r\n            return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n        });\r\n        return copyAuthorClusterWithDetails;\r\n    }\r\n}\r\n\r\nexport function getFilteredPerspectives(state) {\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;\r\n    let authors = state.concepts.authors;\r\n    let perspectivesByAuthor = state.concepts.perspectivesByAuthor;\r\n    let normalizedPerspectives = state.concepts.normalizedPerspectives;\r\n    let sortedAuthorIds = state.concepts.sortedAuthorIds;\r\n    if (normalizedPerspectives && perspectivesRelations && authors && sortedAuthorIds && sortedAuthorIds.length > 0) {\r\n        let result = [];\r\n        // console.log(state)\r\n        // if (this.state.sortBy == 'keyword') {\r\n        //     let filteredPerspectives = [];\r\n        //     let nonFilteredPerspectives = [];\r\n        //     perspectivesDetail.forEach(perspective => {\r\n        //         let includes = false;\r\n        //         if (perspectivesRelations[perspective.id]) {\r\n        //             perspectivesRelations[perspective.id].Keywords.forEach(k => {\r\n        //                 if (k == this.state.sortByKeywordId) {\r\n        //                     perspective.Author = perspectivesRelations[perspective.id].Author;\r\n        //                     perspective.Keywords = perspectivesRelations[perspective.id].Keywords;\r\n        //                     includes = true;\r\n        //                 }\r\n        //             });\r\n        //             includes === true ? filteredPerspectives.push(perspective) : nonFilteredPerspectives.push(perspective);\r\n        //         }\r\n        //     });\r\n        //     result = filteredPerspectives.sort(function (a, b) {\r\n        //         let authorALastName = authors[a.Author].lastName.toUpperCase();\r\n        //         let authorBLastName = authors[b.Author].lastName.toUpperCase();\r\n        //         return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        //     });\r\n        //     return result;\r\n        // }\r\n        // else {\r\n        //     if (this.state.sortByAuthor) {\r\n        //         let includes = false;\r\n        //         for (let perspective of perspectivesDetail) {\r\n        //             if (perspectivesRelations[perspective.id]) {\r\n        //                 if (authors[perspectivesRelations[perspective.id].Author].lastName === this.state.sortByAuthor) {\r\n        //                     includes = true;\r\n        //                     break;\r\n        //                 }\r\n        //             }\r\n        //         }\r\n        //         if (includes) {\r\n        //             perspectivesDetail.forEach(perspective => {\r\n        //                 if (perspectivesRelations[perspective.id]) {\r\n        //                     perspective.Author = perspectivesRelations[perspective.id].Author;\r\n        //                     perspective.Keywords = perspectivesRelations[perspective.id].Keywords;\r\n        //                     result.push(perspective)\r\n        //                 }\r\n        //             })\r\n        //             result = result.sort(function (a, b) {\r\n        //                 let authorALastName = authors[a.Author].lastName.toUpperCase();\r\n        //                 let authorBLastName = authors[b.Author].lastName.toUpperCase();\r\n        //                 return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        //             })\r\n        //             return result;\r\n        //         } else {\r\n        //             let index = sortedAuthorIds.indexOf(this.state.authorId);\r\n        //             let authors = [];\r\n        //             // let beginners = sortedAuthorIds.slice(index - 5, index);\r\n        //             // let last = sortedAuthorIds.slice(index + 1, index + 5)\r\n        //             // authors.push(...beginners, sortedAuthorIds[index], ...last);\r\n        //             authors.push(sortedAuthorIds[index - 1], sortedAuthorIds[index], sortedAuthorIds[index + 1]);\r\n        //             this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true)\r\n        //         }\r\n        //     } else {\r\n        // if (perspectivesByAuthor[sortedAuthorIds[0]].length==0) {\r\n        //     let authors = sortedAuthorIds.slice(0, 5);\r\n        //     this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n        // }\r\n        sortedAuthorIds.forEach(id => {\r\n            if (perspectivesByAuthor[id]) {\r\n                perspectivesByAuthor[id].forEach(pid => {\r\n                    // console.log(\"pid is \",pid)\r\n                    // console.log(\"In seelecto\",normalizedPerspectives)\r\n                    if(normalizedPerspectives[pid])\r\n                    {\r\n                        let p=normalizedPerspectives[pid]\r\n                        if (perspectivesRelations[p.id]) {\r\n                            p.Author = perspectivesRelations[p.id].Author;\r\n                            p.Keywords = perspectivesRelations[p.id].Keywords;\r\n                            result.push(p);\r\n                        }\r\n                    }\r\n                    \r\n                })\r\n            }\r\n        })\r\n        return result;\r\n    }\r\n    //}\r\n    // }\r\n\r\n}","import React, { Component } from 'react';\r\nimport Loader from '../LoaderComponent/Loader';\r\nimport ReactDOM from 'react-dom';\r\nimport AdSense from 'react-adsense';\r\nimport \"./ConceptsPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ReactLoading from 'react-loading';\r\nimport AdsComponent from '../AdComponent/AdComponent';\r\nimport loading from '../../../src/loading.gif';\r\nimport {\r\n    flushConceptState, getListRelatedByConceptId,\r\n    getConceptFromApi,\r\n    increasePerspectiveLike,\r\n    decreasePerspectiveLike,\r\n    sortByKeyword,\r\n    showAllPerspective,\r\n    sortByAuthorLast,\r\n    getConceptPerspectivesByAuthorLastName,\r\n    getConceptPerspectivesByKeywords,\r\n    getAllPerspectivesByConcept,\r\n    getPerspectivesByAuthors,\r\n} from \"../../actions/conceptsActions\";\r\nimport { setSelectedCategory, setSelectedItem, addTag } from \"../../actions/navbaractions\";\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport Context from \"./Context/Context\";\r\nimport { getFilteredPerspectives, getUniqueKeywords, getSortedPerspectivesByLikes } from '../../selectors';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nclass ConceptsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            query: \"\",\r\n            filters: false,\r\n            apiLoading: this.props.concepts.apiLoading,\r\n            apiServerError: this.props.concepts.apiServerError,\r\n            apiNetworkError: this.props.concepts.apiNetworkError,\r\n            listRelatedData: this.props.concepts.listRelatedData,\r\n            listRelatedLoading: this.props.concepts.listRelatedLoading,\r\n            listRelatedServerError: this.props.concepts.listRelatedServerError,\r\n            listRelatedNetworkError: this.props.concepts.listRelatedNetworkError,\r\n            listRelated:true,\r\n            listRelatedRole: 'list',\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            perspectives: this.props.concepts.perspectives,\r\n            keywords: this.props.concepts.keywords,\r\n            concept: this.props.concepts.concept,\r\n            authors: this.props.concepts.authors,\r\n            sortedAuthors: this.props.concepts.sortedAuthors,\r\n            sortedKeywords: this.props.uniqueKeywords,\r\n            visibility: \"hidden\",\r\n            keywordId: null,\r\n            authorId: null,\r\n            id: \"\",\r\n            all: false,\r\n            sortByAuthor: null,\r\n            isLike: this.props.concepts.isLike,\r\n            filteredPerspectives: this.props.filteredPerspectives,\r\n            perspectiveLoading: false,\r\n        };\r\n        this.filterConceptDefinations = this.filterConceptDefinations.bind(this);\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onListClick = this.onListClick.bind(this);\r\n        this.onListRelatedClick = this.onListRelatedClick.bind(this);\r\n        this.onRelatedClick = this.onRelatedClick.bind(this);\r\n        this.toggleListRelated = this.toggleListRelated.bind(this);\r\n        this.scrollDownPerspectiveHandler = this.scrollDownPerspectiveHandler.bind(this);\r\n        this.scrollUpPerspectiveHandler = this.scrollUpPerspectiveHandler.bind(this);\r\n        this.onLikeClick = this.onLikeClick.bind(this);\r\n        this.handleScrollCallback = this.handleScrollCallback.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Concepts\") {\r\n                    let concept = {\r\n                        \"concept_id\": this.props.navbar.selectedOption.id,\r\n                        \"filters\": this.props.navbar.tags.map(tag => tag.id),\r\n                    };\r\n                    this.props.getConceptFromApi(concept);\r\n                    this.props.getListRelatedByConceptId(concept)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    onListRelatedClick(listRelated) {\r\n        let label = listRelated.relationary_supra;\r\n        let value = label;\r\n        let id = listRelated.relationary_thing_supra_id;\r\n        let category = \"Concept-Clusters\";\r\n        this.props.flushConceptState()\r\n        this.props.setSelectedItem({ label, value, id, category });\r\n    }\r\n    getConcept = (concept_name) => {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts?name=${concept_name}`).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                let concept_name = this.props.match.params.name;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                this.setState({\r\n                    query: concept_name,\r\n                    filters: true\r\n                })\r\n                let result = await this.getConcept(concept_name);\r\n                let author_group = await getAuthorGroups(filters);\r\n                if (result) {\r\n                    this.props.addTag(author_group);\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                    });\r\n                } else {\r\n                    this.props.history.push('/Message');\r\n                }\r\n\r\n            } else {\r\n                let concept_name = this.props.match.params.name;\r\n                this.setState({\r\n                    query: concept_name\r\n                });\r\n                let result = await this.getConcept(concept_name);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                    })\r\n                } else {\r\n                    this.props.history.push('/Message');\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushConceptState();\r\n            this.setState({\r\n                apiLoading: nextProps.concepts.apiLoading,\r\n                apiServerError: nextProps.concepts.apiServerError,\r\n                apiNetworkError: nextProps.concepts.apiNetworkError,\r\n                conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n                conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                sortedAuthors: nextProps.concepts.sortedAuthors,\r\n                sortedKeywords: nextProps.uniqueKeywords,\r\n                concept: nextProps.concepts.concept,\r\n                authors: nextProps.concepts.authors,\r\n                keywords: nextProps.concepts.keywords,\r\n                listRelatedData: nextProps.concepts.listRelatedData,\r\n                listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n                listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n                listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n                loading: nextProps.concepts.loading,\r\n                filteredPerspectives: nextProps.filteredPerspectives\r\n                //page_no: nextProps.concepts.page_no\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n                this.setState({\r\n                    selectedOption: nextProps.navbar.selectedOption,\r\n                });\r\n\r\n                let concept = {\r\n                    \"concept_id\": nextProps.navbar.selectedOption.id,\r\n                    \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n                };\r\n                this.props.getConceptFromApi(concept)\r\n                this.props.getListRelatedByConceptId(concept);\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                apiLoading: nextProps.concepts.apiLoading,\r\n                apiServerError: nextProps.concepts.apiServerError,\r\n                apiNetworkError: nextProps.concepts.apiNetworkError,\r\n                conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n                conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                perspectiveids: nextProps.concepts.perspectiveids,\r\n                keywords: nextProps.concepts.keywords,\r\n                listRelatedData: nextProps.concepts.listRelatedData,\r\n                listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n                listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n                listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n                loading: nextProps.concepts.loading,\r\n                sortedAuthors: nextProps.concepts.sortedAuthors,\r\n                sortedKeywords: nextProps.uniqueKeywords,\r\n                concept: nextProps.concepts.concept,\r\n                authors: nextProps.concepts.authors,\r\n                isLike: nextProps.concepts.isLike,\r\n                filteredPerspectives: nextProps.filteredPerspectives\r\n                // page_no: nextProps.concepts.page_no\r\n            })\r\n        }\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n                let concept = {\r\n                    \"concept_id\": this.state.selectedOption.id,\r\n                    \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n                };\r\n                this.props.getConceptFromApi(concept)\r\n                this.props.getListRelatedByConceptId(concept);\r\n            }\r\n\r\n        }\r\n        if (nextProps.concepts.sortedAuthorIds && nextProps.concepts.sortedAuthorIds.length > 0 && nextProps.concepts.perspectivesByAuthor) {\r\n            let sortedAuthorIds = nextProps.concepts.sortedAuthorIds;\r\n            if (!nextProps.concepts.initial) {\r\n                let authors = sortedAuthorIds.slice(0, 10);\r\n                this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n            }\r\n        }\r\n        if (nextProps.concepts.perspectivesByAuthor !== this.props.filteredPerspectives) {\r\n            this.setState({\r\n                perspectiveLoading: false\r\n            })\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.state.sortByAuthor) {\r\n            const element = document.getElementById(this.state.sortByAuthor);\r\n            if (element) {\r\n                element.scrollIntoView({ behavior: 'auto' });\r\n            }\r\n        }\r\n        //getSortedPerspectivesByLikes(this.state.filteredPerspectives);\r\n\r\n    }\r\n    handleScrollCallback() {\r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        // const img = ReactDOM.findDOMNode(this.refs.img)\r\n        if (!this.state.sortByKeywordId) {\r\n            if (\r\n                element.scrollTop + element.clientHeight >=\r\n                element.scrollHeight\r\n            ) {\r\n                this.scrollDownPerspectiveHandler();\r\n            }\r\n            if (element.scrollTop <= 0) {\r\n                if (this.state.sortByAuthor) {\r\n                    this.scrollUpPerspectiveHandler();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        var sc=ReactDOM.findDOMNode(this.refs.myscroll);\r\n        if(sc)\r\n        {\r\n                sc.addEventListener('scroll', this.handleScrollCallback);\r\n         }\r\n    }\r\n    toggleListRelated() {\r\n        this.setState({\r\n            listRelated: !this.state.listRelated,\r\n        })\r\n    }\r\n    onListClick() {\r\n        this.setState({\r\n            listRelatedRole: 'list'\r\n        })\r\n        // this.toggleListRelated();\r\n    }\r\n    onRelatedClick() {\r\n        this.setState({\r\n            listRelatedRole: 'related',\r\n        })\r\n        // this.toggleListRelated();\r\n    }\r\n    onLikeClick(id) {\r\n        if (this.state.perspectives[id].isLike) {\r\n            this.props.decreasePerspectiveLike(id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n        }\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\"\r\n        this.props.flushConceptState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    filterConceptDefinations(keyword_id) {\r\n        let rtn = [];\r\n        this.state.orignalConceptsWithDetails.forEach(element => {\r\n            if (element.keywords_id == keyword_id) {\r\n                rtn.push(element);\r\n            }\r\n        });\r\n        this.setState({\r\n            conceptsWithDetails: rtn,\r\n        })\r\n    }\r\n    loadPerspectivesByAuthor() {\r\n        let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n        let perspectives = this.state.filteredPerspectives;\r\n        let includes = false;\r\n        for (let p of perspectives) {\r\n            if (p.Author == this.state.authorId) {\r\n                includes = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!includes) {\r\n            let index = sortedAuthorIds.indexOf(this.state.authorId);\r\n            let authors = [];\r\n            let beginners = sortedAuthorIds.slice(index - 5, index);\r\n            let last = sortedAuthorIds.slice(index + 1, index + 5)\r\n            authors.push(...beginners, sortedAuthorIds[index], ...last);\r\n            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id)\r\n        } else {\r\n            this.setState({\r\n                sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].lastName]\r\n            })\r\n        }\r\n    }\r\n    scrollDownPerspectiveHandler() {\r\n        let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n        let perspectives = this.state.filteredPerspectives;\r\n        console.log(\"filtered perspectives are \",this.state.filteredPerspectives)\r\n        let index = sortedAuthorIds.indexOf(perspectives[perspectives.length - 1].Author)\r\n        let authors = sortedAuthorIds.slice(index + 1, index + 10);\r\n        this.setState({\r\n            perspectiveLoading: true,\r\n            sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].Author].lastName,\r\n        })\r\n        this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n    }\r\n    scrollUpPerspectiveHandler() {\r\n        let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n        let perspectives = this.state.filteredPerspectives;\r\n        let index = sortedAuthorIds.indexOf(perspectives[0].Author)\r\n        if (index !== 0) {\r\n            let authors = [];\r\n            for (var i = 1; i < 5; i++) {\r\n                let value = sortedAuthorIds[index - i];\r\n                if (value !== undefined) {\r\n                    authors.push(value)\r\n                }\r\n            }\r\n            this.setState({\r\n                sortByAuthor: this.state.authors[perspectives[0].Author].lastName,\r\n                perspectiveLoading: true\r\n            })\r\n            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"overflowhidden\" style={{ overflow: \"hidden\" }}>\r\n                {(this.state.selectedOption.id && this.state.selectedOption.category == \"Concepts\" || this.state.query) && < div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3  \" style={{ borderRadius: \"3px\", backgroundColor: \"\", textTransform: 'capitalize', height: \"90vh\", overflow: \"auto\", textAlign: \"\" }}>\r\n                            <div className='' style={{ width: \"100%\", margin: \"auto\", background: \"white\", textAlign: '', borderRadius: '20px' }}>\r\n                                {this.state.listRelatedLoading && <div style={{ width: \"100px\", margin: \"auto\" }}>\r\n                                    <ReactLoading type=\"balls\" color=\"red\" />\r\n                                </div>}\r\n\r\n                                {!this.state.listRelatedLoading && <div>\r\n                                    <div style={{ backgroundColor: 'white', textAlign: 'center', marginTop: '10px', padding: '5px' }}><h3>{this.state.selectedOption.label}</h3></div>\r\n                                </div>}\r\n                                <div style={{ backgroundColor: 'white', marginBottom: '5px' }}>\r\n                                        {!this.state.listRelatedLoading && <div style={{ paddingLeft: '50px', marginTop: '5px', background: 'white' }}>\r\n                                            <label style={{ border:[this.state.listRelatedRole==='list'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='list'?'black': 'grey'], borderRadius: \"15px\", padding: \"5px 20px\", marginTop: \"10px\", marginLeft: \"\", marginRight: \"5px\", cursor: \"pointer\",fontSize:12,fontWeight:\"650\" }}\r\n                                                onClick={this.onListClick} >Lists</label>\r\n                                            <label style={{ cursor: \"pointer\", borderRadius: \"15px\", border:[this.state.listRelatedRole==='related'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='related'?'black': 'grey'], padding: \"5px 15px\", marginTop: \"10px\", marginLeft: \"5px\",fontSize:12,fontWeight:\"650\" }}\r\n                                                onClick={this.onRelatedClick}>Related</label>\r\n                                        </div>}\r\n                                        \r\n                                        <div style={{  borderBottom: \"1px solid grey\", display: [this.state.listRelated ? 'block' : 'none'],marginLeft:30,paddingLeft:\"10px\",paddingTop:\"10px\",paddingBottom:\"25px\" }}>\r\n                                            {this.state.listRelatedRole == 'list' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n                                                return <span style={{fontSize:14,fontWeight:\"500\",color:'grey'}}>{data.name}.</span>\r\n                                            })}\r\n                                            {this.state.listRelatedRole == 'related' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyRelationData(this.state.listRelatedData).map(data => {\r\n                                                return <span style={{fontSize:14,fontWeight:\"500\",color:'grey'}}>{data.name}.</span>\r\n                                            })}\r\n                                        </div>\r\n                                        {/* <div onClick={() => this.props.showAllPerspective(true)}  className=\"btn btn-link text-center\">Show All</div> */}\r\n                                    </div>\r\n                                {this.state.sortedKeywords && (this.state.sortedKeywords.length > 0 && <div style={{ width: \"100%\", margin: \"auto\" }} >\r\n                                    <div style={{ backgroundColor: 'white', width: '100%',paddingTop:\"50px\" }}>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-2 col-sm-2 col-md-2\">\r\n                                                <div onClick={() => {\r\n                                                    this.props.showAllPerspective(this.state.selectedOption.id)\r\n                                                }\r\n                                                } className=\"btn btn-link text-center rotate\"  ><b style={{fontSize:16}}>Show All</b></div>\r\n                                            </div>\r\n                                            <div className=\"col-8 col-sm-8 col-md-8\" style={{ backgroundColor: 'white',paddingLeft:\"30px\" }}>\r\n                                                {this.state.sortedKeywords.map(keyword => {\r\n                                                    return <a href=\"#top\" style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                                        this.setState({\r\n                                                            sortBy: \"keyword\",\r\n                                                            sortByKeywordId: keyword.id,\r\n                                                            sortByAuthor: null\r\n                                                        }, () => {\r\n                                                            this.props.getConceptPerspectivesByKeywords(this.state.sortByKeywordId)\r\n\r\n                                                        })\r\n                                                    }}><b style={{ color: 'black', fontWeight: '15px:', fontSize: '14px',lineHeight:2.5 }}>{keyword.name}</b>&nbsp;<span style={{ color: 'gray',fontSize:11 }}>{\" (\" + keyword.count + \")\"}</span></a>\r\n\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n                                    </div>\r\n                                </div>)}\r\n                            </div>\r\n                        </div>\r\n                        <div ref=\"myscroll\" onScroll={this.handleScrollCallback} className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"90vh\", overflow: \"auto\" }}>\r\n                            <div id=\"main-content\" style={{ backgroundColor: \"white\" }}>\r\n                                {/* <div ref=\"img\" id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                <div ref=\"analogy\" style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                </div> */}\r\n                                {this.state.perspectiveLoading &&\r\n                                    <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                    <img src={loading} style={{ height: '20px' }}></img>\r\n                                    </div>\r\n                                    \r\n                                }     \r\n                                {\r\n                                    <div id=\"top\"></div>\r\n                                }\r\n\r\n                                {\r\n                                    this.state.selectedOption && this.state.filteredPerspectives && this.state.filteredPerspectives.length > 0 && this.state.filteredPerspectives.map(data => {\r\n                                        return (\r\n                                            <div>\r\n                                                <Context data={data}\r\n                                                    authors={this.state.authors}\r\n                                                    selectedOption={this.state.selectedOption}\r\n                                                    keywords={this.state.keywords}\r\n                                                    onAuthorClick={this.onAuthorClick}\r\n                                                    onLikeClick={this.onLikeClick}\r\n                                                    isLike={this.state.isLike}\r\n                                                />\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                             {this.state.perspectiveLoading &&\r\n                            <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%',bottom:\"20\"}}>\r\n                            <img src={loading} style={{ height: '20px' }}></img>\r\n                            </div>\r\n                            \r\n                        }  \r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"90vh\", overflow: \"auto\", border: \"1px solid #a5a5a5\", borderLeft: '1px solid black' }}>\r\n                            {this.state.sortedAuthors && this.state.sortedAuthors.length > 0 && this.state.sortedAuthors.map(data => {\r\n                                return (\r\n                                    <div style={{ width: \"150px\", margin: \"auto\" }}><a onClick={() => {\r\n                                        this.setState({\r\n                                            sortByAuthor: data.lastName,\r\n                                            sortBy: \"\",\r\n                                            authorId: data.id,\r\n                                        }\r\n                                            , () => {\r\n                                                this.loadPerspectivesByAuthor();\r\n                                            })\r\n                                    }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\",fontSize:14,lineHeight:2.5 }} href={`#${data.lastName}`}><b>{(data.lastName && data.firstName) ? (data.lastName + \", \" + data.firstName) : (data.lastName ? data.lastName : (data.firstName ? data.firstName : \"\"))}</b></a></div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"90vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                <AdsComponent></AdsComponent>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        //getConceptDetails: bindActionCreators(getConceptDetails, dispatch),\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushConceptState: bindActionCreators(flushConceptState, dispatch),\r\n        getListRelatedByConceptId: bindActionCreators(getListRelatedByConceptId, dispatch),\r\n        getConceptFromApi: bindActionCreators(getConceptFromApi, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        increasePerspectiveLike: bindActionCreators(increasePerspectiveLike, dispatch),\r\n        decreasePerspectiveLike: bindActionCreators(decreasePerspectiveLike, dispatch),\r\n        sortByAuthorLast: bindActionCreators(sortByAuthorLast, dispatch),\r\n        sortByKeyword: bindActionCreators(sortByKeyword, dispatch),\r\n        showAllPerspective: bindActionCreators(showAllPerspective, dispatch),\r\n        getConceptPerspectivesByAuthorLastName: bindActionCreators(getConceptPerspectivesByAuthorLastName, dispatch),\r\n        getConceptPerspectivesByKeywords: bindActionCreators(getConceptPerspectivesByKeywords, dispatch),\r\n        getAllPerspectivesByConcept: bindActionCreators(getAllPerspectivesByConcept, dispatch),\r\n        getPerspectivesByAuthors: bindActionCreators(getPerspectivesByAuthors, dispatch)\r\n\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        concepts: state.concepts,\r\n        pageNumber: state.concepts.page_no,\r\n        uniqueKeywords: getUniqueKeywords(state),\r\n        filteredPerspectives: getFilteredPerspectives(state)\r\n    }\r\n}\r\n// const renderConceptsDetails = (data) => {\r\n//     if (data.length > 0) {\r\n//         data.map(item => {\r\n//             return (<h1>{item.description}</h1>);\r\n//         })\r\n//     }\r\n// }\r\nconst returnOnlyListData = (listRelatedData) => {\r\n    let listData = [];\r\n    listRelatedData.forEach(element => {\r\n        if (element.type == 'list of') {\r\n            listData.push(element);\r\n        }\r\n    })\r\n    return listData;\r\n}\r\nconst returnOnlyRelationData = (listRelatedData) => {\r\n    let listData = [];\r\n    listRelatedData.forEach(element => {\r\n        if (element.type == 'dictionary of') {\r\n            listData.push(element);\r\n        }\r\n    })\r\n    return listData;\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ConceptsPage));","import {schema} from 'normalizr';\r\nconst author=new schema.Entity(\"authors\");\r\nconst keyword=new schema.Entity(\"keywords\");\r\nconst perspective=new schema.Entity(\"perspectives\",{\r\n    Author:author,\r\n    Keywords:[keyword]\r\n});\r\nconst concept=new schema .Entity(\"concepts\",{\r\n    Perspectives:[perspective]\r\n})\r\nexport const conceptClusterSchema=new schema.Entity(\"conceptCluster\",{\r\n    Concepts:[concept]\r\n});","\r\nimport {normalize} from 'normalizr';\r\nimport {conceptClusterSchema} from '../schema/conceptClusterSchema';\r\nconst axios = require('axios');\r\nexport function flushConceptClusterState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_CONCEPT_CLUSTER\",\r\n        })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function setClickedState(obj){\r\n    return dispatch=>{\r\n        dispatch({\r\n            type:'CLICKED_STATE',\r\n            payload:obj\r\n        })\r\n    }\r\n}\r\nexport function getConceptClusterFromApi(id) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptClusters/${id}?relationships=true`).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                const conceptDetailsFromApi = data.data.data;\r\n                const normalizedData=normalize(conceptDetailsFromApi,conceptClusterSchema)\r\n                dispatch({\r\n                    type: \"REQUEST_SUCCESSFUL\",\r\n                    payload: conceptDetailsFromApi,\r\n                })\r\n                dispatch({\r\n                    type:'CONCEPT_CLUSTER_DETAIL',\r\n                    payload:normalizedData.entities\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"NETWORK_ERROR\"\r\n            })\r\n            console.log('Error While fetching concept details from api', error);\r\n        })\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Context.css'\r\nclass Context extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visibility: 'none',\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let {authors,data}=this.props;\r\n        return (\r\n            <div id={data.ConceptId}>\r\n                <div id={authors[data.Author].lastName} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                    <b style={{  cursor: \"pointer\" }}\r\n                        onClick={() => {\r\n                            this.props.flushConceptClusterState();\r\n                            this.props.setSelectedItem({ label: data.ConceptName, value: data.ConceptName, id: data.ConceptId, category: \"Concepts\" })\r\n                        }}>{data.pronoun}{\" \"} {data.ConceptName}</b>{\" is \"}{data.description}\r\n                    <div onClick={() => this.props.onAuthorClick({ auth_id: data.AuthorId, author_first: authors[data.Author].firstName, author_last: authors[data.Author].lastName, born: authors[data.Author].dob, died: authors[data.Author].dod })} style={{ color: \"red\", cursor: \"pointer\" }}>{authors[data.Author].firstName}{\" \"}{authors[data.Author].lastName}</div>\r\n                    <div className=\"text-right\">\r\n                        <i style={{ color: data.isLike?\"red\":\"grey\",fontSize:20}} className=\"fa fa-thumbs-up  \" onClick={()=>{this.props.onLikeClick(data.id)}}></i>&nbsp;[{data.loves?data.loves:0}]&nbsp;&nbsp; <span  id=\"ConceptEllipseCircle\"  className=\"contextbutton  fa fa-ellipsis-h\" onClick={() => {\r\n                            this.setState({\r\n                                visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                            })\r\n                        }} style={{ cursor: \"pointer\" }}></span>\r\n                    </div>\r\n                    <div id={data.id} style={{ marginTop: \"20px\",textAlign:'justify', display: [this.state.visibility] }} >{data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                </div>\r\n            </div>);\r\n    }\r\n}\r\n// Context.PropTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n//     flushConceptClusterState: PropTypes.func.isRequired,\r\n//     setSelectedItem: PropTypes.func.isRequired,\r\n//     onAuthorClick: PropTypes.func.isRequired,\r\n// }\r\nexport default Context;","import React, { Component } from 'react';\r\nimport \"./ConceptClustersPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { flushConceptClusterState,\r\n     getConceptClusterFromApi,\r\n     setClickedState,\r\n     increasePerspectiveLike,\r\n     decreasePerspectiveLike } from \"../../actions/conceptClustersActions\";\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport{\r\n    getUniqueSortedConceptsFromConceptCluster,\r\n    getPerspectivesFromConceptCluster,\r\n    getUniqueAuthorsFromConceptCluster\r\n} from '../../selectors';\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport Context from './Context';\r\nimport ReactLoading from 'react-loading';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withRouter } from 'react-router-dom'\r\nclass ConceptClustersPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            apiLoading: this.props.conceptClusters.apiLoading,\r\n            apiServerError: this.props.conceptClusters.apiServerError,\r\n            apiNetworkError: this.props.conceptClusters.apiNetworkError,\r\n            /**\r\n             * normalized states\r\n             */\r\n            authors:this.props.conceptClusters.authors,\r\n            keywords:this.props.conceptClusters.keywords,\r\n            sortedConcepts:this.props.sortedConcepts,\r\n            sortedPerspectives:this.props.sortedPerspectives,\r\n            uniqueAuthors:this.props.uniqueAuthors,\r\n            perspectives:this.props.conceptClusters.perspective\r\n             /**\r\n             * end of normalized states\r\n             */\r\n        }\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Concept-Clusters\"){\r\n                    this.props.getConceptClusterFromApi(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getConceptCluster(cluster) {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptCluster`, { cluster }).then(data => {\r\n                if(data.data.obj){\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                let author_group = await getAuthorGroups(filters);\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = author_group.map(group => group.id);\r\n                let result = await this.getConceptCluster(cluster);\r\n                if (result) {\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.addTag(author_group);\r\n                    this.props.setSelectedItem(result);\r\n                } else {\r\n                    return <Redirect to='/Message' />\r\n                }\r\n            } else {\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = [];\r\n                let result = await this.getConceptCluster(cluster);\r\n                this.props.setSelectedItem(result);\r\n                this.setState({\r\n                    selectedOption: result\r\n                });\r\n                this.props.getConceptClusterFromApi(this.state.selectedOption.id);\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushConceptClusterState();\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                apiLoading: nextProps.conceptClusters.apiLoading,\r\n                apiServerError: nextProps.conceptClusters.apiServerError,\r\n                apiNetworkError: nextProps.conceptClusters.apiNetworkError,\r\n            /**\r\n             * normalized states\r\n             */\r\n                authors:nextProps.conceptClusters.authors,\r\n                keywords:nextProps.conceptClusters.keywords,\r\n                sortedConcepts:nextProps.sortedConcepts,\r\n                sortedPerspectives:nextProps.sortedPerspectives,\r\n                uniqueAuthors:nextProps.uniqueAuthors,\r\n                perspectives:nextProps.conceptClusters.perspective\r\n             /**\r\n             * end of normalized states\r\n             */\r\n\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Concept-Clusters\") {\r\n                this.props.getConceptClusterFromApi(nextProps.navbar.selectedOption.id);\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                apiLoading: nextProps.conceptClusters.apiLoading,\r\n                apiServerError: nextProps.conceptClusters.apiServerError,\r\n                apiNetworkError: nextProps.conceptClusters.apiNetworkError,\r\n                /**\r\n             * normalized states\r\n             */\r\n                authors:nextProps.conceptClusters.authors,\r\n                keywords:nextProps.conceptClusters.keywords,\r\n                sortedConcepts:nextProps.sortedConcepts,\r\n                sortedPerspectives:nextProps.sortedPerspectives,\r\n                uniqueAuthors:nextProps.uniqueAuthors,\r\n                perspectives:nextProps.conceptClusters.perspective\r\n            /**\r\n             * end of normalized states\r\n             */\r\n            })\r\n        }\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption.category == \"Concept-Clusters\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getConceptCluster(cluster);\r\n                if (result) {\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getConceptClusterFromApi(nextProps.navbar.selectedOption.id);\r\n                } else {\r\n                   \r\n                   this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    onLikeClick(id) {\r\n        if (this.state.perspectives[id].isLike) {\r\n            this.props.decreasePerspectiveLike(id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n        }\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\";\r\n        this.props.flushConceptClusterState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"overflowhidden\" style={{ overflow: \"hidden\" }}>\r\n                {this.state.selectedOption.id && this.state.selectedOption.category == \"Concept-Clusters\" && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\",  overflow: \"auto\", textAlign: \"\" }}>\r\n                            <div class=\"mb-2 bg-white text-center p-2\">\r\n                                <b><h4>{ this.state.selectedOption.label}</h4></b>\r\n                            </div>\r\n                            {this.state.sortedConcepts&&this.state.sortedConcepts.length > 0 && <div className=\"bg-white mt-2\"><div className=\"\" style={{ width: \"150px\", margin: \"auto\" }}>\r\n                                { this.state.sortedConcepts.map(concept => {\r\n                                    if (concept.name != undefined) {\r\n                                        return <a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    conceptClicked: true,\r\n                                                    authorClicked: false,\r\n                                                }\r\n                                            )\r\n                                        }} href={\"#\" + concept.id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }}><b>{concept.name}</b></a>\r\n                                    }\r\n                                })}\r\n                            </div></div>}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\" }}>\r\n                            <div id=\"main-content\" style={{ backgroundColor: \"#F6F0EF\" }}>\r\n                                <div id=\"img\" style={{ width: \"458px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"458px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                </div> */}\r\n                                {\r\n                                    this.state.sortedPerspectives && this.state.sortedPerspectives.length > 0 && this.state.sortedPerspectives.map(data => {\r\n\r\n                                        return (\r\n                                            <Context\r\n                                                data={data}\r\n                                                onAuthorClick={this.onAuthorClick}\r\n                                                flushConceptClusterState={this.props.flushConceptClusterState}\r\n                                                setSelectedItem={this.props.setSelectedItem}\r\n                                                authors={this.state.authors}\r\n                                                onLikeClick={this.onLikeClick}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"2px solid black\", borderRight: \"1px solid black\", textAlign: \"\" }}>\r\n                            {this.state.uniqueAuthors && this.state.uniqueAuthors.length > 0 && this.state.uniqueAuthors.map(data => {\r\n                                return (\r\n                                    <div style={{ padding: \" 0px 10px\", width: \"150px\", margin: \"auto\" }}><a onClick={() => {\r\n                                        this.props.setClickedState(\r\n                                            {\r\n                                                authorClicked: true,\r\n                                                conceptClicked: false,\r\n                                            }\r\n                                        )\r\n                                    }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\" }} href={\"#\" + data.lastName}><b>{(data.lastName && data.firstName) ? (data.lastName + \", \" + data.firstName) : (data.lastName ? data.lastName : (data.firstName ? data.firstName : \"\"))}</b></a></div>\r\n                                );\r\n\r\n                            })}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                This place is for adds\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushConceptClusterState: bindActionCreators(flushConceptClusterState, dispatch),\r\n        getConceptClusterFromApi: bindActionCreators(getConceptClusterFromApi, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        setClickedState:bindActionCreators(setClickedState,dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        conceptClusters: state.conceptClusters,\r\n        sortedConcepts:getUniqueSortedConceptsFromConceptCluster(state),\r\n        sortedPerspectives: getPerspectivesFromConceptCluster(state),\r\n        uniqueAuthors:getUniqueAuthorsFromConceptCluster(state)\r\n\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ConceptClustersPage));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nclass Message extends Component{\r\n    render(){\r\n        return(\r\n            <div style={{margin:\"100px auto\",textAlign:\"center\"}}>\r\n                <h1>\r\n                    Try a search...\r\n                </h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Message;","import {schema} from 'normalizr';\r\nconst authorGroup=new schema.Entity(\"authorGroups\");\r\n//,{idAttribute:'conceptId'}\r\nexport const authorClusterSchema=new schema.Entity(\"authorCluster\",[])","import axios from 'axios';\r\nimport {normalize} from 'normalizr';\r\nimport{authorClusterSchema} from '../schema/authorClusterSchema';\r\nexport function flushAuthorClusterState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_AUTHOR_CLUSTER\",\r\n        })\r\n    }\r\n}\r\n\r\n// export function getAutherClusterDetailsViaSupra(id) {\r\n//     // console.log('get author cluster details via supra ', id);\r\n//     let query = `SELECT * from concept_discrete join __perspectives on\r\n//     concept_discrete.discrete_concept_name_id=__perspectives.concept_id\r\n//     join __author on\r\n//     __author.auth_id=__perspectives.auth_id join\r\n//     author_relationary_author_with_distinct_grouping on\r\n//     author_relationary_author_with_distinct_grouping.auth_id=__author.auth_id\r\n//     join author_relationary_distinct_groupings on\r\n//     author_relationary_distinct_groupings.distinct_grouping_id =author_relationary_author_with_distinct_grouping.distinct_grouping_id\r\n//     join author_relationary_distinct_grouping_with_supra on\r\n//     author_relationary_distinct_grouping_with_supra.distinct_grouping_id=author_relationary_distinct_groupings.distinct_grouping_id\r\n//     join author_relationary_supra on\r\n//     author_relationary_supra.author_supra_id=author_relationary_distinct_grouping_with_supra.supra_id\r\n//     where author_relationary_supra.author_supra_id=${id} order by concept_discrete.discrete_concept_name`\r\n\r\n//     var options = {\r\n//         method: 'POST',\r\n//         url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n//         headers:\r\n//         {\r\n//             'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n//             'cache-control': 'no-cache',\r\n//             'content-type': 'application/x-www-form-urlencoded'\r\n//         },\r\n//         form: { query: query }\r\n//     };\r\n//     return dispatch => {\r\n//         request(options, function (error, response, body) {\r\n//             let data = JSON.parse(body);\r\n//             // console.log(data);\r\n//             dispatch({\r\n//                 type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n//                 payload: data\r\n//             })\r\n\r\n//             if (data.length > 0) {\r\n//                 let uniqueConceptsDiscrete = [];\r\n//                 let uniqueConceptsIds = [];\r\n//                 data.forEach(element => {\r\n//                     if (!(uniqueConceptsIds.includes(element.discrete_concept_name_id))) {\r\n//                         let discrete_concept_name = element.discrete_concept_name;\r\n//                         let discrete_concept_name_id = element.discrete_concept_name_id;\r\n//                         uniqueConceptsIds.push(element.discrete_concept_name_id);\r\n//                         uniqueConceptsDiscrete.push({ discrete_concept_name_id, discrete_concept_name });\r\n//                     }\r\n//                     else {\r\n//                     }\r\n//                 });\r\n//                 // uniqueConceptsDiscrete.sort((a, b) => (a.discrete_concept_name > b.discrete_concept_name) ? 1 : ((b.discrete_concept_name > a.discrete_concept_name) ? -1 : 0))\r\n//                 // console.log(\"Author Cluster before dispatch only concept names\", uniqueConceptsDiscrete.discrete_concept_name)\r\n//                 dispatch({\r\n//                     type: \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\",\r\n//                     payload: uniqueConceptsDiscrete,\r\n//                 })\r\n\r\n//             }\r\n//         });\r\n//     }\r\n// }\r\n// export function getAutherClusterDetails(id) {\r\n//     let query = `SELECT * from concept_discrete join __perspectives on\r\n//     concept_discrete.discrete_concept_name_id=__perspectives.concept_id\r\n//     join __author on\r\n//     __author.auth_id=__perspectives.auth_id join\r\n//     author_relationary_author_with_distinct_grouping on\r\n//     author_relationary_author_with_distinct_grouping.auth_id=__author.auth_id\r\n//     join author_relationary_distinct_groupings on\r\n//     author_relationary_distinct_groupings.distinct_grouping_id =author_relationary_author_with_distinct_grouping.distinct_grouping_id\r\n//     where author_relationary_distinct_groupings.distinct_grouping_id=${id} order by concept_discrete.discrete_concept_name`\r\n\r\n//     var options = {\r\n//         method: 'POST',\r\n//         url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n//         headers:\r\n//         {\r\n//             'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n//             'cache-control': 'no-cache',\r\n//             'content-type': 'application/x-www-form-urlencoded'\r\n//         },\r\n//         form: { query: query }\r\n//     };\r\n//     return dispatch => {\r\n//         request(options, function (error, response, body) {\r\n//             let data = JSON.parse(body);\r\n//             // console.log(data);\r\n//             dispatch({\r\n//                 type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n//                 payload: data\r\n//             })\r\n\r\n//             if (data.length > 0) {\r\n\r\n//                 let uniqueConceptsDiscrete = [];\r\n//                 let uniqueConceptsIds = [];\r\n//                 data.forEach(element => {\r\n//                     if (!(uniqueConceptsIds.includes(element.discrete_concept_name_id))) {\r\n//                         let discrete_concept_name = element.discrete_concept_name;\r\n//                         let discrete_concept_name_id = element.discrete_concept_name_id;\r\n//                         uniqueConceptsIds.push(element.discrete_concept_name_id);\r\n//                         uniqueConceptsDiscrete.push({ discrete_concept_name_id, discrete_concept_name });\r\n//                     }\r\n//                     else {\r\n\r\n//                     }\r\n//                 });\r\n\r\n//                 // uniqueConceptsDiscrete.sort((a, b) => (a.discrete_concept_name > b.discrete_concept_name) ? 1 : ((b.discrete_concept_name > a.discrete_concept_name) ? -1 : 0))\r\n//                 // console.log(\"2Author Cluster before dispatch only concept names\", uniqueConceptsDiscrete)\r\n//                 dispatch({\r\n//                     type: \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\",\r\n//                     payload: uniqueConceptsDiscrete,\r\n//                 })\r\n\r\n//             }\r\n\r\n//         });\r\n//     }\r\n// }\r\n\r\nexport function getAuthorCluster(id, via) {\r\n    // console.log('Get Author Cluster action', id, via);\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        getAuthorClusterHelper(id, via).then(data => {\r\n            let normalizedData=normalize(data,[authorClusterSchema]);\r\n            normalizedData.data=data;\r\n            console.log(normalizedData)\r\n            dispatch({\r\n                type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n                payload: normalizedData,\r\n            })\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"NETWORK_ERROR\"\r\n            })\r\n            console.log('Error while getting detailed author cluster', error);\r\n        })\r\n    }\r\n}\r\nfunction getAuthorClusterHelper(id, via) {\r\n    // alert(via)\r\n    return new Promise(async (res, rej) => {\r\n        let result = [];\r\n        try {\r\n            let result1 = {};\r\n            if (via === 'Author Clusters') {\r\n                //alert(\"getting data cluster\");\r\n                result1 = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorClusters/${id}/perspectives?relationships=true`);\r\n            }\r\n            else if (via === 'Author Groups') {\r\n                result1 = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups/${id}/perspectives?relationships=true`);\r\n            }\r\n            if (result1.data.responseType == 'success') {\r\n                console.log(\"getting data response\");\r\n                result = result1.data.data;\r\n            }\r\n            res(result);\r\n        } catch (e) {\r\n            console.log('getting detailed author cluster error', e);\r\n            rej(result);\r\n        }\r\n    })\r\n}\r\n\r\nexport function setClickedState(obj){\r\n    return dispatch=>{\r\n        dispatch({\r\n            type:'CLICKED_STATE',\r\n            payload:obj\r\n        })\r\n    }\r\n}\r\n\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport conceptsSorter from \"../../utils/conceptsSorterFunction\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactLoading from 'react-loading';\r\nimport Axios from 'axios';\r\nimport queryString from \"query-string\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getAutherClusterDetailsViaSupra,\r\n     getAutherClusterDetails,\r\n      flushAuthorClusterState,\r\n       getAuthorCluster,\r\n       setClickedState,\r\n       increasePerspectiveLike,\r\n       decreasePerspectiveLike\r\n    } from \"../../actions/autherCluster\";\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport {\r\n    getUniqueSortedConceptNameFromAuthorCluster,\r\n    getDynamicSortedAuthorClusterWithDetails,\r\n    getSortedAuthorClusterWithDetailsByAuthorLast\r\n} from '../../selectors';\r\nclass AutherCluster extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            //authorClustersWithDetails: this.props.autherCluster.authorClustersWithDetails,\r\n            // authorClusterConceptsDiscrete: this.props.autherCluster.authorClusterConceptsDiscrete,\r\n            apiLoading: this.props.autherCluster.apiLoading,\r\n            apiServerError: this.props.autherCluster.apiServerError,\r\n            apiNetworkError: this.props.autherCluster.apiNetworkError,\r\n            // authorClicked: false,\r\n            // conceptClicked: true,\r\n            //Normalized states\r\n            sortedConceptsNames: this.props.sortedConceptsNames,\r\n            dynamicSortedAuthorCluster: this.props.dynamicSortedAuthorCluster,\r\n            sortedAuthorClusterDetail: this.props.sortedAuthorClusterDetail,\r\n            perspectives:this.props.autherCluster.authorCluster,\r\n            //End of normalized staes\r\n        }\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        //this.getDynamicSortedAuthorClusterWithDetails = this.getDynamicSortedAuthorClusterWithDetails.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\")\r\n                    // if (this.props.navbar.selectedOption.via) {\r\n                    //     // console.log(\"Helo\");\r\n                    //     this.props.getAutherClusterDetailsViaSupra(this.props.navbar.selectedOption.id);\r\n                    // }\r\n                    // this.props.getAutherClusterDetails(this.props.navbar.selectedOption.id);\r\n                }\r\n                if (this.props.navbar.selectedOption.category == \"Author-Groups\") {\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Groups\")\r\n                    // if (this.props.navbar.selectedOption.via) {\r\n                    //     // console.log(\"Helo\");\r\n                    //     this.props.getAutherClusterDetailsViaSupra(this.props.navbar.selectedOption.id);\r\n                    // }\r\n                    // this.props.getAutherClusterDetails(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getAutherCluster(cluster) {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorClusters`, { cluster }).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n\r\n                resolve(\"\");\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    getAuthorGroups = (filters) => {\r\n        let filterobj = {};\r\n        filterobj.filters = filters;\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups`, filterobj)\r\n                .then(data => {\r\n                    resolve(data.data);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        });\r\n    }\r\n   async getAuthorGroupByName(name){\r\n       let filters=[this.props.match.params.name];\r\n       let authorGroup=await this.getAuthorGroups(filters);\r\n       if(authorGroup[0]){\r\n           authorGroup=authorGroup[0]\r\n           this.props.setSelectedItem({\r\n               label:authorGroup.label,\r\n               value:authorGroup.value,\r\n               id:authorGroup.id,\r\n               category:'Author-Groups'\r\n           });\r\n       }\r\n   }\r\n    async componentWillMount() { \r\n        let url=this.props.location.pathname.split('/')[1];\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                if(url==\"author-groups\"||url==\"Author-Groups\"){\r\n                    this.getAuthorGroupByName();\r\n                  }else{\r\n                    let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                    if (typeof queryFilters === \"string\") {\r\n                        filters.push(queryFilters);\r\n                    } else {\r\n                        filters = queryFilters;\r\n                    }\r\n                    let author_group = await this.getAuthorGroups(filters);\r\n                    let cluster = {};\r\n                    cluster.name = this.props.match.params.name;\r\n                    cluster.groupIds = author_group.map(group => group.id);\r\n                    let result = await this.getAutherCluster(cluster);\r\n                    if (result) {\r\n                        this.props.addTag(author_group);\r\n                        this.props.setSelectedItem(result);\r\n                        this.setState({\r\n                            selectedOption: result\r\n                        });\r\n                    } else {\r\n                        this.props.history.push(\"/Message\");\r\n                    }\r\n                  }\r\n            }\r\n            else {\r\n                if(url==\"author-groups\"||url==\"Author-Groups\"){\r\n                  this.getAuthorGroupByName();\r\n                }\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = [];\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption && nextProps.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption && nextProps.navbar.selectedOption.category == \"Author-Groups\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Groups\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                //authorClustersWithDetails: nextProps.autherCluster.authorClustersWithDetails,\r\n                apiLoading: nextProps.autherCluster.apiLoading,\r\n                apiServerError: nextProps.autherCluster.apiServerError,\r\n                apiNetworkError: nextProps.autherCluster.apiNetworkError,\r\n                // authorClusterConceptsDiscrete: nextProps.autherCluster.authorClusterConceptsDiscrete,\r\n                //Normalized states\r\n                sortedConceptsNames: nextProps.sortedConceptsNames,\r\n                dynamicSortedAuthorCluster: nextProps.dynamicSortedAuthorCluster,\r\n                sortedAuthorClusterDetail: nextProps.sortedAuthorClusterDetail,\r\n                perspectives:nextProps.autherCluster.authorCluster,\r\n                //End of normalized staes\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                this.props.getAuthorCluster(nextProps.navbar.selectedOption.id, \"Author Clusters\")\r\n            }\r\n\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Author-Groups\") {\r\n                this.props.getAuthorCluster(nextProps.navbar.selectedOption.id, \"Author Groups\")\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                //authorClustersWithDetails: nextProps.autherCluster.authorClustersWithDetails,\r\n                apiLoading: nextProps.autherCluster.apiLoading,\r\n                apiServerError: nextProps.autherCluster.apiServerError,\r\n                apiNetworkError: nextProps.autherCluster.apiNetworkError,\r\n                //authorClusterConceptsDiscrete: nextProps.autherCluster.authorClusterConceptsDiscrete,\r\n                //Normalized states\r\n                sortedConceptsNames: nextProps.sortedConceptsNames,\r\n                dynamicSortedAuthorCluster: nextProps.dynamicSortedAuthorCluster,\r\n                sortedAuthorClusterDetail: nextProps.sortedAuthorClusterDetail,\r\n                perspectives:nextProps.autherCluster.authorCluster\r\n                //End of normalized staes\r\n            })\r\n        }\r\n        // console.log(\"author clusters State\", this.state);\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\"\r\n        this.props.flushAuthorClusterState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    onLikeClick(id) {\r\n        if (this.state.perspectives[id].isLike) {\r\n            this.props.decreasePerspectiveLike(id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n        }\r\n    }\r\n    // getSortedAuthorClusterWithDetailsByAuthorLast(AuthorClusterWithDetails) {\r\n    //     let copyAuthorClusterWithDetails = [...AuthorClusterWithDetails];\r\n    //     copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //         var textA = a.authorLastName.toUpperCase();\r\n    //         var textB = b.authorLastName.toUpperCase();\r\n    //         return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //     });\r\n    //     return copyAuthorClusterWithDetails;\r\n    // }\r\n    // getDynamicSortedAuthorClusterWithDetails(AuthorClusterWithDetails) {\r\n    //     let copyAuthorClusterWithDetails = [...AuthorClusterWithDetails];\r\n    //     if (this.state.authorClicked) {\r\n    //         copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //             var textA = a.authorLastName.toUpperCase();\r\n    //             var textB = b.authorLastName.toUpperCase();\r\n    //             return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         });\r\n    //     }\r\n    //     else if (this.state.conceptClicked) {\r\n    //         copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //             var authorA = a.authorLastName.toUpperCase();\r\n    //             var authorB = b.authorLastName.toUpperCase();\r\n    //             var textA = a.conceptName.toUpperCase();\r\n    //             var textB = b.conceptName.toUpperCase();\r\n    //             if (textA === textB) {\r\n    //                 return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n    //             }\r\n    //             else {\r\n    //                 if (textA === \"CULTURE\") {\r\n    //                     console.log(\"not author sorting\");\r\n    //                 }\r\n    //                 return (textA < textB) ? -1 : 1;\r\n    //             }\r\n    //             // return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         });\r\n    //     }\r\n    //     return copyAuthorClusterWithDetails;\r\n    // }\r\n    render() {\r\n        let arr = [];\r\n        return (\r\n            <div className=\"overflowhidden\" style={{ overflow: \"hidden\" }}>\r\n                {this.state.selectedOption.id && (this.state.selectedOption.category == \"Author-Clusters\" || this.state.selectedOption.category == \"Author-Groups\") && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\", textAlign: \"\" }}>\r\n                            <div class=\"mb-2 bg-white text-center p-2\">\r\n                                <b><h4>{ this.state.selectedOption.label}</h4></b>\r\n                            </div>\r\n                            <div class=\"bg-white\">\r\n                            {this.state.sortedConceptsNames && (this.state.sortedConceptsNames.length > 0 && <div style={{ width: \"150px\", margin: \"auto\" }}>\r\n                                {this.state.sortedConceptsNames.map(concept => {\r\n                                    if (concept.name != undefined) {\r\n                                        return <a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    authorClicked: false,\r\n                                                    conceptClicked: true,\r\n                                                }\r\n                                            )\r\n\r\n                                        }} href={\"#\" + concept.id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} ><b>{concept.name}</b></a>\r\n                                    }\r\n                                })}\r\n                            </div>)}</div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\" }}>\r\n                            <div id=\"main-content\" style={{ backgroundColor: \"#F6F0EF\" }}>\r\n                                <div id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                    </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                    </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                    </label>\r\n                                </div> */}\r\n                                {\r\n                                    this.state.dynamicSortedAuthorCluster && this.state.dynamicSortedAuthorCluster.length > 0 && this.state.dynamicSortedAuthorCluster.map(data => {\r\n                                        return (<div id={data.concept_id}><div id={data.authorLastName} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                            <b style={{ color: \"blue\", cursor: \"pointer\" }} onClick={() => {\r\n                                                this.props.flushAuthorClusterState();\r\n                                                this.props.setSelectedItem({ label: data.conceptName, value: data.conceptName, id: data.conceptId, category: \"Concepts\" })\r\n                                            }}>{data.pronoun}{\" \"} {data.conceptName}</b>{\" is \"}{data.description}\r\n                                            <div onClick={() => this.onAuthorClick({ auth_id: data.authorId, author_first: data.authorFirstName, author_last: data.authorLastName, born: \"1885\", died: \"1960\" })} style={{ color: \"red\", cursor: \"pointer\" }}>{data.authorFirstName}{\" \"}{data.authorLastName}</div>\r\n                                            <div className=\"pull-right\">\r\n                                                <i style={{ color:data.isLike?\"red\":\"grey\",fontSize:20}} className=\"fa fa-thumbs-up\" onClick={()=>{this.onLikeClick(data.id)}}></i>&nbsp;[{data.loves ? data.loves : 0}]&nbsp;&nbsp; <span className=\"contextbutton fa fa-ellipsis-h\" id=\"AutherCluster\" onClick={() => {\r\n                                                    this.setState({\r\n                                                        visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                        id: data.id,\r\n                                                    })\r\n                                                }} style={{ cursor: \"pointer\" }}></span>\r\n                                            </div>\r\n                                            <div id={data.id} style={{ marginTop: \"20px\", display: [data.id == this.state.id ? this.state.visibility : \"none\"] }} >{data.long_description}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                                        </div></div>);\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderRight: \"1px solid black\", borderLeft: \"2px solid black\", textAlign: \"\" }}>\r\n                            {this.state.sortedAuthorClusterDetail && this.state.sortedAuthorClusterDetail.length > 0 && this.state.sortedAuthorClusterDetail.map(data => {\r\n                                if (!(arr.includes(data.authorId))) {\r\n                                    arr.push(data.authorId);\r\n                                    return (\r\n                                        <div style={{ padding: \" 0px 10px\", width: \"160px\", margin: \"auto\" }}><a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    authorClicked: true,\r\n                                                    conceptClicked: false\r\n                                                }\r\n                                            )\r\n\r\n                                        }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\" }} href={\"#\" + data.authorLastName}><b>{(data.authorLastName && data.authorFirstName) ? (data.authorLastName + \", \" + data.authorFirstName) : (data.authorLastName ? data.authorFirstName : (data.authorFirstName ? data.authorFirstName : \"\"))}</b></a></div>\r\n                                    );\r\n                                }\r\n                            })}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                This place is for adds\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// const getUniqueSortedConceptNameFromClusterDetails = (clustersWithDetails) => {\r\n//     let uniqueConceptNames = [];\r\n//     let uniqueConcepts = [];\r\n//     clustersWithDetails.map(clusterWithDetails => {\r\n//         if (!uniqueConceptNames.includes(clusterWithDetails.conceptName)) {\r\n//             uniqueConceptNames.push(clusterWithDetails.conceptName);\r\n//             uniqueConcepts.push({ name: clusterWithDetails.conceptName, id: clusterWithDetails.conceptId });\r\n//         }\r\n//     })\r\n//     return uniqueConcepts.sort(conceptsSorter);\r\n// }\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        //getAutherClusterDetails: bindActionCreators(getAutherClusterDetails, dispatch),\r\n        //getAutherClusterDetailsViaSupra: bindActionCreators(getAutherClusterDetailsViaSupra, dispatch),\r\n        flushAuthorClusterState: bindActionCreators(flushAuthorClusterState, dispatch),\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        getAuthorCluster: bindActionCreators(getAuthorCluster, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        setClickedState: bindActionCreators(setClickedState, dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    // console.log(\"state in mapStateToProps\", state);\r\n    return {\r\n        navbar: state.navbar,\r\n        autherCluster: state.autherCluster,\r\n        sortedConceptsNames: getUniqueSortedConceptNameFromAuthorCluster(state),\r\n        dynamicSortedAuthorCluster:getDynamicSortedAuthorClusterWithDetails(state),\r\n        sortedAuthorClusterDetail: getSortedAuthorClusterWithDetailsByAuthorLast(state)\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AutherCluster));","import {schema} from 'normalizr';\r\nconst authorBioHeading=new schema.Entity('AuthorBioHeadings')\r\nconst authorGroup= new schema.Entity('AuthorGroups',{\r\n    AuthorBioHeading:authorBioHeading\r\n});\r\nconst book=new schema.Entity(\"books\")\r\nconst concept=new schema.Entity('concepts');\r\nconst perspective=new schema.Entity('perspectives',{\r\n    Concept:concept\r\n})\r\nexport const authorSchema=new schema.Entity(\"authors\",{\r\n    Perspectives:[perspective],\r\n    AuthorGroups:[authorGroup],\r\n    Books:[book]\r\n});","import { bindActionCreators } from \"redux\";\r\nimport {normalize} from 'normalizr';\r\nimport {authorSchema} from '../schema/authorSchema';\r\nimport axios from 'axios';\r\nlet request = require(\"request\");\r\nexport function flushAuthorState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_AUTHOR\",\r\n        })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'AUTHOR_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'AUTHOR_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function getAuthorInfluencedByAuthors(id) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"GET_AUTHOR_AUTHORS_PENDING\"\r\n        })\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}?relationships=true&withSelfAssociationsOnly=true`).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n               // getPictureLinks(data.data.data);\r\n                const author_authors_details =data.data.data;\r\n                dispatch({\r\n                    type: \"GET_AUTHOR_AUTHORS_SUCCESS\",\r\n                    payload: author_authors_details,\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"GET_AUTHOR_AUTHORS_SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"GET_AUTHOR_AUTHORS_NETWORK_ERROR\"\r\n            })\r\n            console.log('Error While fetching author_author details from api', error);\r\n        })\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction getPictureLinks(data){\r\n    let author_lastName=(((data.lastName).split(\" \")).join(\"+\")).toLowerCase();\r\n    let author_firstName=(((data.firstName).split(\" \")).join(\"+\")).toLowerCase();\r\n    author_firstName=((author_firstName).split(\".\")).join(\"\");\r\n    let author_image=author_lastName.concat(\"+\"+author_firstName+\".jpg\");\r\n    data.pictureLink=`https://conceptionary-images.s3.amazonaws.com/${author_image}`;\r\n    return data;\r\n}\r\n\r\nexport function getAuthorDetails(id) {\r\n    \r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}?relationships=true`).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                const authorDetailsFromApi =getPictureLinks( data.data.data);\r\n                const normalizedData =normalize(authorDetailsFromApi,authorSchema)\r\n                console.log(normalizedData)\r\n                dispatch({\r\n                    type: \"GET_AUTHOR_DETAILS\",\r\n                    payload: authorDetailsFromApi,\r\n                })\r\n                dispatch({\r\n                    type:'AUTHOR_DETAILS',\r\n                    payload:normalizedData.entities\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"NETWORK_ERROR\"\r\n            })\r\n            console.log('Error While fetching author details from api', error);\r\n        })\r\n\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./AuthorPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from \"react-router-dom\";\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport { flushAuthorClusterState } from '../../actions/autherCluster';\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport { getUniqueConcept, getSortedPerspectivesByConceptName, getAuthorBioData, getUniqueAuthorBooks } from '../../selectors';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nimport ReactLoading from \"react-loading\";\r\nimport { getAuthorDetails, getAuthorInfluencedByAuthors,flushAuthorState,increasePerspectiveLike,decreasePerspectiveLike } from \"../../actions/authorActions\";\r\nclass AuthorPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            query: \"\",\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            // apiLoading: this.props.author.apiLoading,\r\n            // apiServerError: this.props.author.apiServerError,\r\n            // apiNetworkError: this.props.author.apiNetworkError,\r\n            //authorsWithDetails: this.props.author.authorsWithDetails,\r\n            // author_authors_apiLoading: this.props.author.author_authors_apiLoading,\r\n            // author_authors_apiServerError: this.props.author.author_authors_apiServerError,\r\n            // author_authors_apiNetworkError: this.props.author.author_authors_apiNetworkError,\r\n            author_authors: this.props.author.author_authors,\r\n            authorInfluencedByAuthors: this.props.author.authorInfluencedByAuthors,\r\n            authorInfluencedOnAuthors: this.props.author.author_authors.AuthorInfluenceAuthors,\r\n            authorConvoWithAuthors: this.props.author.author_authors.AuthorConvoAuthors,\r\n            id: \"\",\r\n            visibility: \"none\",\r\n            showBooks: false,\r\n            sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(this.props.author.authorInfluencedByAuthors),\r\n            sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(this.props.author.author_authors.AuthorInfluenceAuthors),\r\n            sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(this.props.author.author_authors.AuthorConvoAuthors),\r\n            index: 0,\r\n            index1: 0,\r\n            index2: 0,\r\n            loading: this.props.author.loading,\r\n            //normalized states\r\n            //authorBioHeadings: this.props.author.authorBioHeadings,\r\n            //authorGroups: this.props.author.authorGroups,\r\n            authorPerspectives: this.props.author.authorPerspectives,\r\n            author: this.props.author.author,\r\n            concepts: this.props.author.concepts,\r\n            UniqueConcepts: this.props.uniqueconcepts,\r\n            sortedPerspectives: this.props.sortedperpectives,\r\n            authorBio: this.props.authorBio,\r\n            authorBooksById: this.props.authorBooksById,\r\n            authorBooks: this.props.author.authorBooks,\r\n            loadImage:\"none\"\r\n            //authorOnConcepts:this.props.author.concept\r\n            //end normalized states\r\n        }\r\n        this.getSortedAuthorInfluencedByAuthors = this.getSortedAuthorInfluencedByAuthors.bind(this);\r\n        //this.getSortedAuthorInfluencedOnAuthors = this.getSortedAuthorInfluencedOnAuthors.bind(this);\r\n        //this.getSortedAuthorConvoWithAuthors = this.getSortedAuthorConvoWithAuthors.bind(this);\r\n        this.reverse = this.reverse.bind(this);\r\n        this.forward = this.forward.bind(this);\r\n        this.reverse1 = this.reverse1.bind(this);\r\n        this.forward1 = this.forward1.bind(this);\r\n        this.reverse2 = this.reverse2.bind(this);\r\n        this.forward2 = this.forward2.bind(this);\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onConceptClick = this.onConceptClick.bind(this);\r\n        this.onBioClick = this.onBioClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Authors\") {\r\n                    this.props.getAuthorDetails(this.props.navbar.selectedOption.id);\r\n                    this.props.getAuthorInfluencedByAuthors(this.props.navbar.selectedOption.id);\r\n                    //  this.props.getAuthorInfluencedOnAuthors(this.props.navbar.selectedOption.id);\r\n                    //  this.props.getAuthorConvoWithAuthors(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getAuthor = (author) => {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/author`, { author }).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                let author_group = await getAuthorGroups(filters);\r\n                let author = {};\r\n                author.name = this.props.match.params.name;\r\n                author.groupIds = author_group.map(group => group.id);\r\n                let result = await this.getAuthor(author);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.addTag(author_group);\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n            } else {\r\n                let author = {};\r\n                author.name = this.props.match.params.name;\r\n                author.groupIds = [];\r\n                let result = await this.getAuthor(author);\r\n                this.props.setSelectedItem(result);\r\n                this.setState({\r\n                    selectedOption: result\r\n                });\r\n                this.props.getAuthorDetails(this.state.selectedOption.id);\r\n                this.props.getAuthorInfluencedByAuthors(this.state.selectedOption.id);\r\n\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption != undefined) {\r\n                let author = {};\r\n                author.name = nextProps.navbar.selectedOption.value;\r\n                author.groupIds = nextProps.navbar.tags.map(x => x.id);\r\n                let result = await this.getAuthor(author);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorDetails(this.state.selectedOption.id);\r\n                    this.props.getAuthorInfluencedByAuthors(this.state.selectedOption.id);\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushAuthorState();\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Authors\") {\r\n                this.props.getAuthorDetails(nextProps.navbar.selectedOption.id);\r\n                //this.props.getAuthorBio(nextProps.navbar.selectedOption.id);\r\n                //this.props.getAuthorBooks(nextProps.navbar.selectedOption.id);\r\n                this.props.getAuthorInfluencedByAuthors(nextProps.navbar.selectedOption.id);\r\n                //  this.props.getAuthorInfluencedOnAuthors(nextProps.navbar.selectedOption.id);\r\n                //  this.props.getAuthorConvoWithAuthors(nextProps.navbar.selectedOption.id);\r\n            }\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                apiLoading: nextProps.author.apiLoading,\r\n                apiServerError: nextProps.author.apiServerError,\r\n                apiNetworkError: nextProps.author.apiNetworkError,\r\n                //authorsWithDetails: nextProps.author.authorsWithDetails,\r\n                author_authors_apiLoading: nextProps.author.author_authors_apiLoading,\r\n                author_authors_apiServerError: nextProps.author.author_authors_apiServerError,\r\n                author_authors_apiNetworkError: nextProps.author.author_authors_apiNetworkError,\r\n                author_authors: nextProps.author.author_authors,\r\n                authorInfluencedByAuthors: nextProps.author.authorInfluencedByAuthors,\r\n                authorInfluencedOnAuthors: nextProps.author.author_authors.AuthorInfluenceAuthors,\r\n                authorConvoWithAuthors: nextProps.author.author_authors.AuthorConvoAuthors,\r\n                sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(nextProps.author.authorInfluencedByAuthors),\r\n                sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(nextProps.author.author_authors.AuthorInfluenceAuthors),\r\n                sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(nextProps.author.author_authors.AuthorConvoAuthors),\r\n                //normalized states\r\n                //authorBioHeadings: nextProps.author.authorBioHeadings,\r\n                //authorGroups: nextProps.author.authorGroups,\r\n                authorPerspectives: nextProps.author.authorPerspectives,\r\n                author: nextProps.author.author,\r\n                concepts: nextProps.author.concepts,\r\n                //authorOnConcepts:nextProps.author.concept\r\n                UniqueConcepts: nextProps.uniqueconcepts,\r\n                sortedPerspectives: nextProps.sortedperpectives,\r\n                authorBio: nextProps.authorBio,\r\n                authorBooksById: nextProps.authorBooksById,\r\n                authorBooks: nextProps.author.authorBooks\r\n                //end normalized states\r\n\r\n            })\r\n            // console.log(\"Here i m\")\r\n\r\n        }\r\n        else {\r\n            this.setState({\r\n                //authorsWithDetails: nextProps.author.authorsWithDetails,\r\n                apiLoading: nextProps.author.apiLoading,\r\n                apiServerError: nextProps.author.apiServerError,\r\n                apiNetworkError: nextProps.author.apiNetworkError,\r\n                author_authors_apiLoading: nextProps.author.author_authors_apiLoading,\r\n                author_authors_apiServerError: nextProps.author.author_authors_apiServerError,\r\n                author_authors_apiNetworkError: nextProps.author.author_authors_apiNetworkError,\r\n                author_authors: nextProps.author.author_authors,\r\n                authorInfluencedByAuthors: nextProps.author.authorInfluencedByAuthors,\r\n                authorInfluencedOnAuthors: nextProps.author.author_authors.AuthorInfluenceAuthors,\r\n                authorConvoWithAuthors: nextProps.author.author_authors.AuthorConvoAuthors,\r\n                //sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(nextProps.author.authorInfluencedByAuthors),\r\n                sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(nextProps.author.author_authors.AuthorInfluenceAuthors),\r\n                sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(nextProps.author.author_authors.AuthorConvoAuthors),\r\n                //normalized states\r\n                //authorBioHeadings: nextProps.author.authorBioHeadings,\r\n                //authorGroups: nextProps.author.authorGroups,\r\n                authorPerspectives: nextProps.author.authorPerspectives,\r\n                author: nextProps.author.author,\r\n                concepts: nextProps.author.concepts,\r\n                UniqueConcepts: nextProps.uniqueconcepts,\r\n                sortedPerspectives: nextProps.sortedperpectives,\r\n                authorBio: nextProps.authorBio,\r\n                authorBooksById: nextProps.authorBooksById,\r\n                authorBooks: nextProps.author.authorBooks\r\n                //authorOnConcepts:nextProps.author.concept\r\n                //end normalized states\r\n\r\n            })\r\n        }\r\n        // console.log(\"Author State\", this.state);\r\n\r\n    }\r\n    onLikeClick(data) {\r\n        if (this.state.authorPerspectives[data.id].isLike) {\r\n            this.props.decreasePerspectiveLike(data.id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(data.id);\r\n        }\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.firstName + \" \" + author.lastName;\r\n        let value = label;\r\n        let id = author.id;\r\n        let born = author.dob;\r\n        let died = author.dod;\r\n        let category = \"Authors\";\r\n        this.props.flushAuthorState();\r\n        console.log(category);\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n\r\n    }\r\n    onBioClick(bio) {\r\n        let label = bio.distinct_grouping;\r\n        let value = label;\r\n        let id = bio.distinct_grouping_id;\r\n        let category = \"Author-Groups\"\r\n        this.props.flushAuthorState();\r\n        this.props.flushAuthorClusterState();\r\n        this.props.setSelectedItem({ label, value, id, category, via: \"group\" });\r\n    }\r\n    onConceptClick(concept) {\r\n\r\n        let label = this.state.concepts[concept.Concept].name;\r\n        let value = label;\r\n        let id = concept.ConceptId;\r\n        let category = \"Concepts\"\r\n        this.props.flushAuthorState();\r\n        this.props.setSelectedItem({ label, value, id, category });\r\n    }\r\n    // getSortedAuthorConvoWithAuthors(index) {\r\n    //     let rtnArray = [];\r\n    //     rtnArray = this.state.authorConvoWithAuthors.slice(index, index + 3);\r\n    //     // console.log(\"Slice params\", index, index + 3);\r\n    //     // console.log(\"Rtn array i\", rtnArray);\r\n    //     this.setState({\r\n    //         sortedAuthorConvoWithAuthors: rtnArray,\r\n    //     })\r\n    // }\r\n    getSortedAuthorInfluencedByAuthors(index) {\r\n        let rtnArray = [];\r\n        rtnArray = this.state.authorInfluencedByAuthors.slice(index, index + 3);\r\n        // console.log(\"Slice params\", index, index + 3);\r\n        // console.log(\"Rtn array i\", rtnArray);\r\n        this.setState({\r\n            sortedAuthorInfluencedByAuthors: rtnArray,\r\n        })\r\n    }\r\n    // getSortedAuthorInfluencedOnAuthors(index) {\r\n    //     let rtnArray = [];\r\n    //     rtnArray = this.state.authorInfluencedOnAuthors.slice(index, index + 3);\r\n    //     // console.log(\"Slice params\", index, index + 3);\r\n    //     // console.log(\"Rtn array i\", rtnArray);\r\n    //     this.setState({\r\n    //         sortedAuthorInfluencedOnAuthors: rtnArray,\r\n    //     })\r\n    // }\r\n    reverse() {\r\n        let index = this.state.index;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index: (index - 3) })\r\n            this.getSortedAuthorInfluencedByAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    reverse1() {\r\n        let index = this.state.index1;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index1: (index - 3) })\r\n            this.getSortedAuthorInfluencedOnAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    reverse2() {\r\n        let index = this.state.index2;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index2: (index - 3) })\r\n            this.getSortedAuthorConvoWithAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    forward() {\r\n        let totalLength = this.state.authorInfluencedByAuthors.length;\r\n        let index = this.state.index;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index: (index + 3) })\r\n            this.getSortedAuthorInfluencedByAuthors(index + 3);\r\n        }\r\n\r\n    }\r\n    forward1() {\r\n        let totalLength = this.state.authorInfluencedOnAuthors.length;\r\n        let index = this.state.index1;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index1: (index + 3) })\r\n            this.getSortedAuthorInfluencedOnAuthors(index + 3);\r\n        }\r\n\r\n    }\r\n    forward2() {\r\n        let totalLength = this.state.authorConvoWithAuthors.length;\r\n        let index = this.state.index2;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index2: (index + 3) })\r\n            this.getSortedAuthorConvoWithAuthors(index + 3);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"overflowhidden \" style={{ overflow: \"hidden\" }}>\r\n                {this.state.selectedOption.id && this.state.selectedOption.category == \"Authors\" && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && <div>\r\n                        {!this.state.showBooks && <div className=\"row\">\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-3 pt-5\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", border: \"3px  solid white\", textAlign: \"\" }}>\r\n                                {\r\n                                    <div style={{ width: \"150px\", margin: \"auto\" }}>\r\n                                        {this.state.UniqueConcepts && this.state.UniqueConcepts.length > 0 && this.state.UniqueConcepts.map(concept => {\r\n                                            if (concept.discrete_author_name != undefined) {\r\n                                                return <b><a href={\"#\" + concept.discrete_author_name_id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                                }}>{concept.discrete_author_name}</a></b>\r\n                                            }\r\n\r\n                                        })}\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\" }}>\r\n                                <div id=\"main-content\" style={{ backgroundColor: \"white\" }}>\r\n                                   <div id=\"img\" style={{ wheight:\"280px\",display:this.state.loadImage }}>\r\n                                        {/*<h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                        <h5 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\", display: \"inline-block\" }} className=\"float-right\">{(this.state.selectedOption.born && this.state.selectedOption.died) ? this.state.selectedOption.born + \" - \" + this.state.selectedOption.died : \"HUL\"}</h5>\r\n                                        */}\r\n                                        <img src={this.state.author.pictureLink} onError={() => {this.setState({loadImage:\"none\"})}} onLoad={() => {this.setState({loadImage:\"block\"});}} alt={this.state.selectedOption.label} style={{ width: \"100%\",height:\"100%\",display:this.state.loadImage }} />                                    </div>\r\n                                    {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                    </div> */}\r\n                                    {\r\n                                        this.state.sortedPerspectives && this.state.sortedPerspectives.length > 0 && this.state.sortedPerspectives.map(data => {\r\n                                            return (<div id={data.ConceptId}><div className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                                <b style={{ color: \"blue\", cursor: \"pointer\",textTransform:'capitalize' }} onClick={() => this.onConceptClick(data)}>{data.pronoun}{\" \"} {this.state.concepts[data.Concept].name}</b>{\" is \"}{data.description}\r\n                                                {/* <div style={{ color: \"red\" }}>{this.state.author.firstName}{\" \"}{this.state.author.lastName}</div> */}\r\n                                                <div className=\"text-right\">\r\n                                                    <i style={{ color:data.isLike?\"red\":\"grey\",fontSize:'20px' }} className=\"fa fa-thumbs-up \" onClick={() => { this.onLikeClick(data) }}></i>&nbsp;[{data.loves ? data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton fa fa-ellipsis-h\" id=\"AuthorEllipseCircle\" onClick={() => {\r\n                                                        this.setState({\r\n                                                            visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                            id: data.id,\r\n                                                        })\r\n                                                    }} style={{ cursor: \"pointer\" }}></span>\r\n                                                </div>\r\n                                                <div id={data.id} style={{ marginTop: \"20px\", display: [data.id == this.state.id ? this.state.visibility : \"none\"],textAlign:'justify' }} >{data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                                            </div></div>);\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-3 \" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"1px solid black\" , borderRight: \"1px solid black\" }}>\r\n                                <h3><b>{this.state.author.firstName} {this.state.author.lastName}</b></h3>\r\n                                <h6>{this.state.author.dob}-{this.state.author.dod}</h6>\r\n                                <button className=\"btn btn-link\" style={{color:'black'}} onClick={() => {this.setState({showBooks:true})}}><i className=\"fas fa-book-open\"></i> <span><b>({this.state.author.Books && this.state.author.Books.length})</b></span></button>\r\n                                <br /><br />\r\n                                {this.state.authorBio && this.state.authorBio.length > 0 && this.state.authorBio.map(item => {\r\n                                    return (<div className=\"\" style={{ width: \"340px\",}}><b style={{fontSize:15,display:\"block\"}}>{item.heading.charAt(0).toUpperCase() + item.heading.slice(1)}:</b>\r\n                                        {item.values.map(v => {\r\n\r\n                                            return <p6 style={{marginTop:'-10px;'}}><span style={{ display: \"inline-block\",padding:0.1 }}><Link style={{ cursor: \"pointer\",color:'black',fontSize:13 }} to=\"author-clusters\" onClick={() => this.onBioClick({ distinct_grouping: v.name, distinct_grouping_id: v.id })}>{v.name}</Link>&nbsp;&nbsp;</span></p6>\r\n                                        })}\r\n\r\n                                    </div>);\r\n                                })\r\n                                }\r\n                                <div id=\"authorInfluencedByAuthors\" style={{ width: \"340px\", margin: \"auto\" }}>\r\n                                    {/*this.state.sortedAuthorInfluencedByAuthors && this.state.sortedAuthorInfluencedByAuthors.length > 0 && <div>\r\n                                        <h6 style={{ color: \"red\" }}>Influenced By:</h6>\r\n                                        <div className=\"dytb\" >\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorInfluencedByAuthors.map(author => {\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}></div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.author_first + author.author_last}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward()} className=\"fa fa-angle-right dytbc\" ></i>\r\n                                        </div>\r\n                                    </div>*/\r\n                                    }\r\n                                    {this.state.sortedAuthorInfluencedOnAuthors && this.state.sortedAuthorInfluencedOnAuthors.length > 0 && <div>\r\n                                        <h6 style={{ color: \"red\" }}>Influenced On:</h6>\r\n                                        <div className=\"dytb\">\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse1()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorInfluencedOnAuthors.map(author => {\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}>\r\n                                                            <img src={`https://conceptionary-images.s3.amazonaws.com/${author.lastName}+${author.firstName}.jpg`} alt={author.firstName + \" \" + author.lastName}></img>\r\n                                                        </div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.firstName + author.lastName}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward1()} className=\"fa fa-angle-right dytbc\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    }\r\n                                    {this.state.sortedAuthorConvoWithAuthors && this.state.sortedAuthorConvoWithAuthors.length > 0 && <div>\r\n                                        <h6 style={{ color: \"red\" }}>In Conversation with:</h6>\r\n                                        <div className=\"dytb\">\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse2()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorConvoWithAuthors.map(author => {\r\n\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}>\r\n                                                            <img src={`https://conceptionary-images.s3.amazonaws.com/${author.lastName}+${author.firstName}.jpg`} alt={author.firstName + \" \" + author.lastName}></img>\r\n                                                        </div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.firstName + author.lastName}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward2()} className=\"fa fa-angle-right dytbc\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\", cursor: \"pointer\" }}>\r\n                                <div className=\"text-center\">\r\n                                    This place is for adds\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                        {/* new row for books */}\r\n                        {this.state.showBooks && <div className=\"row\">\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", textAlign: \"\" }}>\r\n                                <div style={{ width: \"150px\", margin: \"auto\", marginTop: \"10px\" }}>\r\n                                    <div style={{ cursor: \"pointer\" }} onClick={() => this.setState({ showBooks: false })}><i style={{ width: \"16px\" }} className=\"fa  fa-arrow-left\" />&nbsp;&nbsp;<span style={{ fontSize: \"16px\" }} >Go Back</span></div>\r\n                                    <h3>Books</h3>\r\n                                    {this.state.authorBooksById && this.state.authorBooksById.length > 0 && this.state.authorBooksById.map(book => {\r\n                                        return (\r\n                                            <a href={\"#\" + book.discrete_book_id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                            }}>{book.title}</a>\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\" }}>\r\n                                <div id=\"main-content\" style={{ backgroundColor: \"white\" }}>\r\n                                    <div id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                        <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                        <h5 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\", display: \"inline-block\" }} className=\"float-right\">{(this.state.selectedOption.born && this.state.selectedOption.died) ? this.state.selectedOption.born + \" - \" + this.state.selectedOption.died : \"HUL\"}</h5>\r\n                                    </div>\r\n                                    {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Positive\r\n                                    </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Critical\r\n                                    </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Funny\r\n                                    </label>\r\n                                    </div> */}\r\n                                    {this.state.author && this.state.author.Books && this.state.author.Books.length > 0 && this.state.author.Books.map(book => {\r\n                                        {\r\n                                            return this.state.authorBooks[book].BookDescriptions && this.state.authorBooks[book].BookDescriptions.length > 0 && this.state.authorBooks[book].BookDescriptions.map(bookDescription => {\r\n                                                return (<div id={book} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col col-md-2\">\r\n                                                            <div style={{ width: \"60px\", minHeight: \"80px\", background: \"red\" }}></div>\r\n                                                        </div>\r\n                                                        <div className=\"col col-md-10\">\r\n                                                            <h6>{this.state.authorBooks[book].title}</h6>\r\n                                                            <div style={{ color: \"black\" }}>{bookDescription.description}</div>\r\n                                                            <div className=\"pull-right\">\r\n                                                                <a className=\"contextbutton\" onClick={() => {\r\n                                                                    this.setState({\r\n                                                                        visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                                        id: book.id,\r\n                                                                    })\r\n                                                                }} style={{ cursor: \"pointer\" }}>Context</a>\r\n                                                            </div>\r\n                                                            <div id={book} style={{ marginTop: \"20px\", display: [book == this.state.id ? this.state.visibility : \"none\"] }} >{bookDescription.source}</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>);\r\n                                            })\r\n                                        }\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                    }\r\n                </div>}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst setInitialsortedAuthorInfluencedByAuthors = (data) => {\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\nconst setInitialsortedAuthorInfluencedOnAuthors = (data) => {\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\nconst setInitialsortedAuthorConvoWithAuthors = (data) => {\r\n    // console.log('Here get me ', data);\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\n// const renderAuthorBio = (authorBio) => {\r\n//     let desiredArray = [];\r\n//     let uniqueSupraIds = [];\r\n//     authorBio.forEach(element => {\r\n//         if (!(uniqueSupraIds.includes(element.supra_id))) {\r\n//             uniqueSupraIds.push(element.supra_id);\r\n//             // console.log(\"Here is element--------------------->\", element);\r\n//             desiredArray.push({ supra_id: element.supra_id, heading: element.author_supra, values: [{ distinct_grouping: element.distinct_grouping, distinct_grouping_id: element.distinct_grouping_id }] })\r\n//         }\r\n//         else {\r\n//             // console.log(\"Here in else\")\r\n//             for (let i = 0; i < desiredArray.length; i++) {\r\n//                 if (desiredArray[i].supra_id === element.supra_id) {\r\n//                     desiredArray[i].values.push({ distinct_grouping: element.distinct_grouping, distinct_grouping_id: element.distinct_grouping_id });\r\n//                 }\r\n//             }\r\n//         }\r\n//     })\r\n//     return desiredArray;\r\n// }\r\n// const getUniqueBookNamesWithIds = (authorBooks) => {\r\n//     // console.log(\"Recievce author books\", authorBooks)\r\n//     let uniqueBookNameWithId = [];\r\n//     let uniqueBookIds = [];\r\n//     authorBooks.forEach(e => {\r\n//         if (!(uniqueBookIds.indexOf(e.id) > -1)) {\r\n//             uniqueBookIds.push(e.id);\r\n//             let discrete_book_id = e.id;\r\n//             let title = e.title;\r\n//             uniqueBookNameWithId.push({ discrete_book_id, title });\r\n//         }\r\n//     })\r\n//     return uniqueBookNameWithId;\r\n// }\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        getAuthorDetails: bindActionCreators(getAuthorDetails, dispatch),\r\n        // getAuthorBio: bindActionCreators(getAuthorBio, dispatch),\r\n        //getAuthorBooks: bindActionCreators(getAuthorBooks, dispatch),\r\n        getAuthorInfluencedByAuthors: bindActionCreators(getAuthorInfluencedByAuthors, dispatch),\r\n        // getAuthorInfluencedOnAuthors: bindActionCreators(getAuthorInfluencedOnAuthors, dispatch),\r\n        //getAuthorConvoWithAuthors: bindActionCreators(getAuthorConvoWithAuthors, dispatch),\r\n        flushAuthorState: bindActionCreators(flushAuthorState, dispatch),\r\n        flushAuthorClusterState: bindActionCreators(flushAuthorClusterState, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        author: state.author,\r\n        uniqueconcepts: getUniqueConcept(state),\r\n        sortedperpectives:  getSortedPerspectivesByConceptName(state),\r\n        authorBio: getAuthorBioData(state),\r\n        authorBooksById: getUniqueAuthorBooks(state)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthorPage);","import axios from 'axios';\r\nexport default function setAuthorizationToken(token) {\r\n    if (token) {\r\n        axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`\r\n    }\r\n    else {\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n}","import axios from \"axios\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport setAuthorizationToken from \"../utils/setAuthorizationToken\";\r\nexport function setCurrentUser(user) {\r\n    return {\r\n        type: \"SET_CURRENT_USER\",\r\n        user\r\n    }\r\n}\r\nexport function logOut() {\r\n    return dispatch => {\r\n        localStorage.removeItem('jwtToken');\r\n        setAuthorizationToken(false);\r\n        dispatch({\r\n            type: \"LOG_OUT\",\r\n        })\r\n    }\r\n}\r\n\r\n// new implementation\r\n\r\nexport function userLoginRequest(userData) {\r\n\r\n    return dispatch => {\r\n        return axios.post(\"http://localhost:3002/api/rest/v1/login\", userData, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        })\r\n            .then(res => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('jwtToken', token);\r\n                setAuthorizationToken(token);\r\n                dispatch(setCurrentUser(jwt.decode(token)));\r\n            });\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport validateLogin from \"../../helpers/validateLogin\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport classnames from \"classnames\";\r\nimport { userLoginRequest } from \"../../actions/loginActions\";\r\nimport \"./Login.css\";\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            errors: {},\r\n            isLoading: false,\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n    isValid(data) {\r\n        const { errors, isValid } = validateLogin(data);\r\n        if (!isValid) {\r\n            this.setState({ errors })\r\n        }\r\n        return isValid;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.isValid(this.state)) {\r\n            this.setState({ errors: {}, isLoading: true });\r\n            this.props.userLoginRequest({ username: this.state.username, password: this.state.password, call: \"signin\" }).then(\r\n                (data) => { this.props.history.push(\"/command-center\"); console.log(\"Data after succeful response login\", data) },\r\n                (data) => { this.setState({ errors: data.response.data, isLoading: false }); console.log(\"data after error login\", data); console.log(\"stategkkfhjllllllllll\", this.state); }\r\n            );\r\n        }\r\n    }\r\n    render() {\r\n        const { username, password, isLoading, errors } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"back\">\r\n                    <div className=\"col col-md-4 offset-md-4 div-center\" style={{ marginTop: 70 }}>\r\n                        <div className=\"loginCenter\">\r\n                            <h3>Login</h3>\r\n                            <hr />\r\n                            <form onSubmit={this.onSubmit}>\r\n                                {errors.form && <div className=\"alert alert-danger\">{errors.form}</div>}\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.username })}>\r\n                                    {errors.username && <span className=\"help-block\">{errors.username}</span>}\r\n                                    {!errors.username && <label >Username</label>}\r\n                                    <input type=\"username\" class=\"form-control\" name=\"username\" value={this.state.username} placeholder=\"username\" onChange={this.onChange} />\r\n                                </div>\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.password })}>\r\n                                    {errors.password && <span className=\"help-block\">{errors.password}</span>}\r\n                                    {!errors.password && <label >Password</label>}\r\n                                    <input type=\"password\" class=\"form-control\" name=\"password\" onChange={this.onChange} placeholder=\"Password\" />\r\n                                </div>\r\n                                <button style={{ backgroundColor: '#009dd6' }} type=\"submit\" disabled={this.state.isLoading} class=\"btn \">Login</button>\r\n                                <hr />\r\n                                <a href=\"/signup\" class=\"btn btn-link\">Signup</a>\r\n                                <button disabled={isLoading} type=\"button\" class=\"btn btn-link\">Reset Password</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        userLoginRequest: bindActionCreators(userLoginRequest, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n","import validator from \"validator\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nexport default function (loginData) {\r\n    let errors = {};\r\n    if (validator.isEmpty(loginData.email)) {\r\n        errors.email = \"*Email is required!\";\r\n    }\r\n    if (validator.isEmpty(loginData.password)) {\r\n        errors.password = \"*Password is required!\"\r\n    }\r\n\r\n    return {\r\n        errors,\r\n        isValid: isEmpty(errors),\r\n    }\r\n}","import axios from \"axios\";\r\nexport function userSignupRequest(userData) {\r\n    return dispatch => {\r\n        return axios.post(\"https://8xzajgtd2e.execute-api.us-east-1.amazonaws.com/dev/signup\", userData, {\r\n            headers: {\r\n\r\n            }\r\n        });\r\n    }\r\n}","import validator from \"validator\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nexport default function (signupData) {\r\n    let errors = {};\r\n    if (validator.isEmpty(signupData.firstname)) {\r\n        errors.firstname = \"*First Name is required!\";\r\n    }\r\n    if (validator.isEmpty(signupData.lastname)) {\r\n        errors.lastname = \"*Last Name is required!\";\r\n    }\r\n    if (validator.isEmpty(signupData.email)) {\r\n        errors.email = \"*Email is required!\";\r\n    }\r\n    if (!validator.isEmail(signupData.email)) {\r\n        errors.email = \"*Email is invalid!\"\r\n    }\r\n    return {\r\n        errors,\r\n        isValid: isEmpty(errors),\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./Signup.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { userSignupRequest } from \"../../actions/signupActions\";\r\nimport classnames from \"classnames\";\r\nimport { Redirect } from \"react-router\";\r\nimport validateSignup from \"../../helpers/validateSignup\";\r\nclass Signup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            email: \"\",\r\n            errors: {},\r\n            isLoading: false,\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        // console.log(\"Errors in Signup State\", this.state.errors);\r\n    }\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n    isValid(data) {\r\n        const { errors, isValid } = validateSignup(data);\r\n        if (!isValid) {\r\n            this.setState({ errors })\r\n        }\r\n        return isValid;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.isValid(this.state)) {\r\n            this.setState({ errors: {}, isLoading: true });\r\n            this.props.userSignupRequest({\r\n                fname: this.state.firstname, lname: this.state.lastname, email: this.state\r\n                    .email\r\n                , call: \"signup\"\r\n            }).then(\r\n                ({ data }) => { this.props.history.push(\"/login\"); console.log(\"**********first Function*******:\", data.body); console.log(\"State in good 200 request\", this.state); },\r\n                (data) => {\r\n                    // console.log(\"**********second Function*******:\", data.response.data);\r\n                    this.setState({ errors: data.response.data, isLoading: false })\r\n                    // console.log(\"State in bad request\", this.state);\r\n                }\r\n            );\r\n        }\r\n    }\r\n    render() {\r\n        const { errors } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"back\">\r\n\r\n\r\n                    <div className=\"col col-md-6 offset-md-3 div-center\" style={{ marginTop: '50px' }}>\r\n                        <div className=\"loginCenter\">\r\n                            <h3>Signup</h3>\r\n                            <hr />\r\n                            <form onSubmit={this.onSubmit}>\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.firstname })}>\r\n                                    {errors.firstname && <span className=\"help-block\">{errors.firstname}</span>}\r\n                                    {!errors.firstname && <label >Name</label>}\r\n                                    <input type=\"text\" class=\"form-control\" value={this.state.firstname} onChange={this.onChange} name=\"firstname\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    {errors.lastname && <span className=\"help-block\">{errors.lastname}</span>}\r\n                                    {!errors.lastname && <label >Last Name</label>}\r\n                                    <input type=\"text\" class=\"form-control\" value={this.state.lastname} onChange={this.onChange} name=\"lastname\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    {errors.email && <span className=\"help-block\">{errors.email}</span>}\r\n                                    {!errors.email && <label>Email</label>}\r\n                                    <input type=\"email\" class=\"form-control\" value={this.state.email} onChange={this.onChange} name=\"email\" email=\"email\" />\r\n                                </div>\r\n                                <button className=\"pull-right\" disabled={this.state.isLoading} style={{ backgroundColor: '#009dd6' }} type=\"submit\" class=\"btn\">Get Verified</button>\r\n                                <a href=\"/login\" class=\"btn text-center btn-link\">Already have and account ?</a>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        userSignupRequest: bindActionCreators(userSignupRequest, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Signup);\r\n","import React, { Component } from 'react';\r\nimport \"./TopNavBar.css\";\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { bindActionCreators } from 'redux';\r\nimport \"./ReactSelect.css\";\r\nimport \"react-virtualized/styles.css\";\r\nimport \"react-virtualized-select/styles.css\";\r\nimport chroma from 'chroma-js'\r\nimport AsyncSelect from 'react-select/lib/Async';\r\nimport { setSelectedCategory, setSelectedItem, login, logout, signup, flushState, getAllAsync, setAutherClusterSelectedItems, prefetchConceptsForNavbar, prefetchConceptClustersForNavbar, prefetchAuthorsForNavbar, prefetchAuthorClustersForNavbar, prefetchAuthorGroupsForNavbar, getAuthorGroups, addTag, removeTag } from \"../../actions/navbaractions\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Modal from 'react-responsive-modal';\r\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\r\nimport '../../../node_modules/bootstrap/dist/js/bootstrap';\r\nimport Loader from 'react-loader-spinner'\r\nimport Joi from 'joi-browser/dist/joi-browser'\r\nimport axios from 'axios';\r\nimport {\r\n    Collapse,\r\n    Navbar,\r\n    NavbarToggler,\r\n    NavbarBrand,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n} from 'reactstrap';\r\n\r\nconst server = process.env.REACT_APP_SERVER;\r\nclass TopNavBar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedTag: [],\r\n            searchCategory: this.props.navbar.searchCategory,\r\n            seletedSearch: \"\",\r\n            selectedOption: {},\r\n            authorClusterSelectedOptions: \"\",\r\n            concepts: this.props.navbar.concepts,\r\n            conceptClusters: this.props.navbar.conceptClusters,\r\n            authors: this.props.navbar.authors,\r\n            authorClusters: this.props.navbar.authorClusters,\r\n            authorGroups: this.props.navbar.authorGroups,\r\n            dropdownData: [],\r\n            tags: this.props.navbar.tags,\r\n            labelsArray: [],\r\n            loadOptionsData: [],\r\n            suggestions: [],\r\n            modalOpen: false,\r\n            modalSignupOpen: false,\r\n            account: {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            },\r\n            errors: [],\r\n            loginRequestStatus_admin: true,\r\n            loginStatus_admin: true,\r\n            userAccount: [],\r\n            filter:false\r\n        }\r\n\r\n        // console.log(\"Top Navbar state in Constructor\", this.props)\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.loadOptions = this.loadOptions.bind(this);\r\n        this.renderRedirect = this.renderRedirect.bind(this);\r\n        this.onSelectedCatagoryChange = this.onSelectedCatagoryChange.bind(this);\r\n        //this.renderRedirectCategory = this.renderRedirectCategory.bind(this);\r\n        this.searchAllConceptionary = this.searchAllConceptionary.bind(this);\r\n    }\r\n    schema = {\r\n        Email: Joi.string()\r\n            .required()\r\n            .label(\"Email\"),\r\n        Password: Joi.string()\r\n            .label(\"Password\")\r\n            .required(),\r\n        Username: Joi.string().allow('', null)\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        if (this.props.loginStatus_admin) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n    shuffle(a) {\r\n        // for (let i = a.length - 1; i > 0; i--) {\r\n        //     const j = Math.floor(Math.random() * (i + 1));\r\n        //     [a[i], a[j]] = [a[j], a[i]];\r\n        // }\r\n        return a;\r\n    }\r\n\r\n    toggleModalOpen = () => {\r\n        this.setState(prevState => ({ modalOpen: !(prevState.modalOpen) }));\r\n    }\r\n\r\n    toggleModalSignupOpen = () => {\r\n        this.setState(prevState => ({ modalSignupOpen: !(prevState.modalSignupOpen) }));\r\n    }\r\n\r\n\r\n\r\n\r\n    // Login Actions\r\n\r\n\r\n    validateProperty(input) {\r\n        const obj = { [input.name]: input.value };\r\n        const schema = { [input.name]: this.schema[input.name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        if (!error) return null;\r\n        return error.details[0].message;\r\n    }\r\n\r\n    /* *********************************************** HANDLE INPUT CHANGE EVENT *************************************** */\r\n\r\n    validate = () => {\r\n        const result = Joi.validate(this.state.account, this.schema, {\r\n            abortEarly: false\r\n        });\r\n        if (!result.error) return null;\r\n\r\n        const errors = [];\r\n\r\n        for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n    };\r\n\r\n    handleLoginChange = ({ currentTarget: input }) => {\r\n        const errors = [...this.state.errors];\r\n\r\n        const errorMessage = this.validateProperty(input);\r\n\r\n        if (errorMessage)\r\n            errors[input.name] = errorMessage;\r\n        else\r\n            delete errors[input.name];\r\n\r\n        const account = { ...this.state.account };\r\n\r\n        account[input.name] = input.value;\r\n        this.setState({ account, errors });\r\n\r\n    };\r\n\r\n\r\n    handleSubmit = (e, isSignup) => {\r\n        e.preventDefault();\r\n        // this.setState({loginRequestStatus_admin:false})\r\n        const errors = this.validate();\r\n\r\n        if (!errors) {\r\n            if (isSignup) this.props.signup(this.state.account)\r\n            else this.props.login(this.state.account);\r\n        }\r\n        if (this.props.loginStatus_admin) {\r\n            this.setState({ errors: errors || {} });\r\n        }\r\n    }\r\n\r\n    // end login actions\r\n\r\n\r\n    searchAllConceptionary(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/home/all/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [...this.state.suggestions];\r\n\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthors(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authors/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching authors for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConcepts(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/concepts/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConceptClusters(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/conceptClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                // this.setState({selectedOption});\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n\r\n            console.log('Error while prefetching concept clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthorClusters(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroupsNav(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorGroups/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroups(labels, callback) {\r\n        axios.post(`${server}/api/rest/v1/authors/search`, labels).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    onTagsChanged = (tag) => {\r\n        // this.setState({filter:false})\r\n        this.props.addTag(tag);\r\n        if (this.state.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: 'AuthorGroups'\r\n            });\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        }\r\n        if (this.state.tags.length <= 0) {\r\n            this.setState({\r\n                searchCategory: this.props.navbar.searchCategory\r\n            });\r\n            this.props.setSelectedCategory(\"All\");\r\n        }\r\n        \r\n\r\n        this.setState({ suggestions: [],filter:!this.state.filter })\r\n\r\n    };\r\n\r\n    onInputChanged = (e) => {\r\n        //console.log(`input value is now: ${e.target.value}`);\r\n    }\r\n\r\n    handleDelete = (i) => {\r\n        const tags = this.state.tags.slice(0)\r\n        tags.splice(i, 1)\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        })\r\n        this.setState({ suggestions: [] })\r\n\r\n\r\n    }\r\n\r\n    handleAddition = (tag) => {\r\n        let tags = [...this.state.tags];\r\n        tags.push({\r\n            id: tag.id.toString(),\r\n            label: tag.label,\r\n            type: tag.type\r\n        });\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        });\r\n        this.setState({ suggestions: [] })\r\n\r\n        //console.log(this.state.tags);\r\n    }\r\n    loadTags = (input, cb) => {\r\n        axios.post(`${server}/api/rest/v1/authorGroups/search`, input).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [];\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    obj.value = x.label;\r\n                    obj.type = x.type;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n                cb(null, suggestions);\r\n            }\r\n            else {\r\n                console.log(\"\");\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching suggestions for navbar', error);\r\n        });\r\n    }\r\n    loadSuggestions = (label) => {\r\n        let tagsObject = {};\r\n        if (this.state.tags.length < 1) {\r\n            tagsObject = {};\r\n            tagsObject.type = \"both\";\r\n            tagsObject.labels = label;\r\n        } else {\r\n            tagsObject = {};\r\n            tagsObject.labels = label;\r\n            tagsObject.type = \"group\";\r\n            tagsObject.id = this.state.tags.map(x => x.id);\r\n\r\n        }\r\n        let query = {};\r\n        query.tagsObject = tagsObject;\r\n        return new Promise((resolve, reject) => {\r\n            this.loadTags(query, function (err, suggestions) {\r\n\r\n                resolve(suggestions);\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    handleChange = (selectedOption) => {\r\n        if (selectedOption.label !== undefined) {\r\n            this.props.setSelectedItem(selectedOption);\r\n            this.setState({\r\n                selectedOption\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTagChange = (selectedTag) => {\r\n        if (selectedTag.label !== undefined) {\r\n            this.state.tags.push(selectedTag);\r\n            this.setState({ tags: this.state.tags });\r\n        }\r\n    }\r\n\r\n    onSelectedCatagoryChange(e) {\r\n        if (this.props.navbar.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: \"AuthorGroups\",\r\n                seletedSearch: e\r\n            });\r\n            this.props.flushState();\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        } else {\r\n            this.setState({\r\n                seletedSearch: e\r\n            });\r\n            this.props.flushState();\r\n            this.props.setSelectedCategory(e);\r\n        }\r\n    }\r\n    loadOptions(inputValue) {\r\n        if (this.state.searchCategory === \"Concept\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConcepts(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Concept Clusters\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConceptClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"AuthorGroups\") {\r\n            let obj = {};\r\n            obj.labels = this.state.tags;\r\n            obj.category = this.state.seletedSearch;\r\n            obj.label = inputValue;\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroups(obj, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"Author\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthors(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Clusters\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Groups\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroupsNav(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"All\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAllConceptionary(inputValue, function (err, results) {\r\n\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n    };\r\n    renderRedirect = () => {\r\n        if (this.state.selectedOption) {\r\n            if (this.state.selectedOption.category) {\r\n                switch (this.state.selectedOption.category) {\r\n                    case \"Concepts\":\r\n                        return <Redirect to='/concepts' />\r\n                    case \"Concept-Clusters\":\r\n                        return <Redirect to='/concept-clusters' />\r\n                    case \"Authors\":\r\n                        return <Redirect to='/authors' />\r\n                    case \"Author-Clusters\":\r\n                        return <Redirect to='/author-clusters' />\r\n                    case \"Author-Groups\":\r\n                        return <Redirect to='/author-groups' />\r\n                    default:\r\n                        return null\r\n                }\r\n            }\r\n        }\r\n    }\r\n    removeTag = id => {\r\n        this.props.removeTag(id);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.selectedOption !== nextProps.navbar.selectedOption && nextProps.navbar.selectedOption) {\r\n            this.setState({ selectedOption: nextProps.navbar.selectedOption });\r\n        }\r\n\r\n        // if ( this.props.loginStatus_admin !=nextProps.loginStatus_admin  && nextProps.loginStatus_admin) {\r\n\r\n        // }\r\n        if (nextProps.navbar.SIGNUP_SUCCESS) {\r\n            let account = {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            };\r\n            this.setState({\r\n                account\r\n\r\n            });\r\n        }\r\n        if (this.props.loginStatus_admin != nextProps.loginStatus_admin && !nextProps.invalidLogin && nextProps.loginStatus_admin) {\r\n            this.setState({ modalOpen: false })\r\n        }\r\n\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (nextProps.navbar.tags.length <= 0) {\r\n                this.props.setSelectedCategory(this.state.seletedSearch ? this.state.seletedSearch : 'All');\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            searchCategory: nextProps.navbar.searchCategory,\r\n            concepts: nextProps.navbar.concepts,\r\n            conceptClusters: nextProps.navbar.conceptClusters,\r\n            authors: nextProps.navbar.authors,\r\n            authorClusters: nextProps.navbar.authorClusters,\r\n            authorGroups: nextProps.navbar.authorGroups,\r\n            selectedOption: nextProps.navbar.selectedOption,\r\n            tags: nextProps.navbar.tags\r\n\r\n        });\r\n        if (nextProps.navbar.selectedOption.label !== undefined) {\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                let filters = nextProps.navbar.tags.map(x => x.label);\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}?`;\r\n                for (let i = 0; i < filters.length; i++) {\r\n                    if (i == 0) {\r\n                        url = url.concat(`filters=${filters[i]}`);\r\n                    } else {\r\n                        url = url.concat(`&filters=${filters[i]}`);\r\n                    }\r\n\r\n                }\r\n                window.history.pushState(null, null, url);\r\n            } else {\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}`;\r\n                  window.history.pushState(null, null, url);\r\n                //this.props.history.push(url);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderRedirect()}\r\n                <Navbar style={{ backgroundColor: [getBackgroudColor(this.state.selectedOption.page)],padding:\"0px\",paddingLeft:\"20px\",paddingRight:\"20px\" }} light expand=\"md\">\r\n                    <NavbarBrand href=\"/\">Conceptionary</NavbarBrand>\r\n                    <NavbarToggler onClick={this.toggle} />\r\n                    <Collapse isOpen={this.state.isOpen} navbar>\r\n                        <Nav className=\"navbar\">\r\n                            <form className=\"form-inline\">\r\n                                <span style={{ display: \"inline-block\" }}>\r\n                                    <select style={{marginTop:\"-15px\", height:37,padding: \"5px 2px\", borderRadius: \"5px\", border: \"1px solid white\" }} onChange={(e) => this.onSelectedCatagoryChange(e.target.value)} value={this.state.seletedSearch}>\r\n                                        <option selected={this.state.searchCategory === \"All\"} value=\"All\">All</option>\r\n                                        <option selected={this.state.searchCategory === \"Concept\"} value=\"Concept\">Concepts</option>\r\n                                        <option selected={this.state.searchCategory === \"Author\"} value=\"Author\">Authors</option>\r\n                                        <option selected={this.state.searchCategory === \"Concept Clusters\"} value=\"Concept Clusters\">Concept Clusters</option>\r\n                                        <option selected={this.state.searchCategory === \"Author Groups\"} value=\"Author Groups\">Author Groups</option>\r\n                                    </select>\r\n                                </span>\r\n                                <span style={{ display: \"inline-block\",padding:\"5px 3px\",marginTop:\"-10px\" }}>\r\n                                    <AsyncSelect className=\"ml-2 width-300\"\r\n                                        value={this.state.selectedOption}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onFocus={()=> this.setState({selectedOption:\"\"})}\r\n                                        styles={colourStyles}\r\n                                    />\r\n\r\n                                </span>\r\n                               \r\n                               \r\n                                \r\n                            </form>\r\n                            &nbsp;\r\n                            &nbsp;\r\n                        </Nav>\r\n                        <Nav className=\"ml-auto\" navbar>\r\n                             \r\n                                \r\n                        <span style={{ display: \"inline-block\",paddingTop:\"5px\",paddingRight:'5px' }}>\r\n                                    <ul>\r\n                                        {this.state.tags.map(tag => {\r\n                                            return <li style={{ display: 'inline-block', background: 'purple', color: \"#fff\", borderRadius: '8px', padding: '5px', fontSize: '13px', marginLeft: '2px' }}>{tag.label}\r\n                                                <span style={{ marginLeft: '5px' }} className=\"badge\" id=\"tag\" onClick={() => { this.removeTag(tag.id) }}>X</span>\r\n                                            </li>\r\n                                        })}\r\n                                    </ul>\r\n                                </span>\r\n                             <span className=\"ml-auto\" style={{ display:this.state.filter?\"inline-block\":\"none\" }}>\r\n                                    <AsyncSelect className=\"width-200\"\r\n                                        value={this.state.selectedTag}\r\n                                        loadOptions={this.loadSuggestions}\r\n                                        onChange={this.onTagsChanged}\r\n                                        // styles={colourStyles}\r\n                                        isDisabled={this.state.tags.length >= 2 ? true : false || this.state.searchCategory === \"Author Groups\"}\r\n                                    />\r\n\r\n                                </span>\r\n                        <span style={{ display: \"inline-block\" }}>\r\n                                        <NavItem  className=\"ml-auto\" style={{margin:0,padding:0,cursor:'pointer'}} onClick={() => {this.setState({filter:!this.state.filter})}}><i id=\"filter\" className=\"fa fa-filter filter\"></i></NavItem>\r\n                                </span>\r\n\r\n                            {\r\n                                this.props.loginStatus_admin ?\r\n                                    <React.Fragment>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                {this.props.loggedInUserAccount_admin.username}\r\n\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                <span onClick={() => { this.props.logout() }}>Logout</span>\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n\r\n                                            <button\r\n                                                style={\r\n                                                    {\r\n                                                        border: '1px solid',\r\n                                                        marginRight: '5px',\r\n                                                        borderRadius: '50%',\r\n                                                        color: 'black',\r\n                                                        fontWeight: 'bold',\r\n                                                        background: 'white'\r\n                                                    }\r\n                                                }\r\n                                            >+</button>\r\n                                        </span>\r\n\r\n                                    </React.Fragment>\r\n                                    :\r\n\r\n                                    <span>\r\n                                    <NavItem style={{ cursor: 'pointer' }}>\r\n                                        <NavLink onClick={this.toggleModalOpen} >Log-in</NavLink>\r\n                                    </NavItem>\r\n                                    </span>\r\n                                    \r\n\r\n                            }\r\n                        </Nav>\r\n                    </Collapse>\r\n                </Navbar>\r\n\r\n                <Modal open={this.state.modalOpen} onClose={this.toggleModalOpen} center>\r\n                    <h4 style={{ textAlign: \"center\" }}>Log in to your account</h4>\r\n\r\n                    <div style={{ padding: '50px' }}>\r\n                        <Form style={{ margin: 'auto', width: '300px', padding: '20px 30px', background: '#fff', boxShadow: '0 0 20px #ccc' }}>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Email\">Email</Label> */}\r\n                                <Input type=\"text\" name=\"Email\" id=\"Email\" onChange={(e) => this.handleLoginChange(e)} placeholder=\"username\" />\r\n                                {this.state.errors.Email && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Email}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Password\" name=\"Password\" id=\"Password\" onChange={(e) => this.handleLoginChange(e)} placeholder=\"Password\" />\r\n                                {this.state.errors.Password && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Password}</p>\r\n                                )}\r\n                            </FormGroup>\r\n                            {\r\n                                this.props.invalidLogin ? <p className=\"alert alert-info\">Invalid username/password</p> : null\r\n                            }\r\n\r\n                            <p style={{ color: '#641E89', textDecoration: 'underline', cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    this.toggleModalOpen();\r\n                                    this.toggleModalSignupOpen();\r\n                                }}\r\n                            >Don't have an account? signup</p>\r\n                            <Button onClick={(e) => this.handleSubmit(e)}\r\n                                style={{\r\n                                    width: \"100%\",\r\n                                    height: \"40px\",\r\n                                    backgroundColor: \"#641E89\",\r\n                                    color: \"#fff\",\r\n                                    border: \"1px solid white\"\r\n                                }} className=\"btn form-control\">{this.state.loginRequestStatus_admin ? \"Login\" :\r\n                                    <Loader\r\n                                        type=\"Puff\"\r\n                                        color=\"#FFF\"\r\n                                        height=\"30\"\r\n                                        width=\"30\"\r\n                                    />}\r\n                            </Button>\r\n\r\n                        </Form>\r\n                    </div>\r\n                </Modal>\r\n\r\n                <Modal open={this.state.modalSignupOpen} onClose={this.toggleModalSignupOpen} center>\r\n                    <h4 style={{ textAlign: \"center\" }}>Sign up for a new account</h4>\r\n                    {\r\n                        this.props.navbar.SIGNUP_SUCCESS &&\r\n\r\n                        (\r\n                            <div class=\"alert alert-success alert-dismissible\">\r\n                                <span href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</span>\r\n                                <strong>Success!</strong> user created please login.\r\n                        </div>\r\n                        )\r\n                    }\r\n                    <div style={{ padding: '50px' }}>\r\n                        <Form style={{ margin: 'auto', width: '300px', padding: '20px 30px', background: '#fff', boxShadow: '0 0 20px #ccc' }}>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Email\">Email</Label> */}\r\n                                <Input type=\"text\" name=\"Email\" id=\"Email\" value={this.state.account.Email} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Email\" />\r\n                                {this.state.errors.Email && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Email}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Username\" name=\"Username\" id=\"Username\" value={this.state.account.Username} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Username\" />\r\n                                {this.state.errors.Username && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Username}</p>\r\n                                )}\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Password\" name=\"Password\" id=\"Password\" value={this.state.account.Password} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Password\" />\r\n                                {this.state.errors.Password && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Password}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <p style={{ color: '#641E89', textDecoration: 'underline', cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    this.toggleModalSignupOpen();\r\n                                    this.toggleModalOpen();\r\n                                }}\r\n                            >Already have an account? login</p>\r\n                            {/* <p style={{color:'#641E89',textDecoration:'underline', cursor:'pointer'}}>Forgot Password ?</p> */}\r\n                            <Button onClick={(e) => this.handleSubmit(e, true)}\r\n                                style={{\r\n                                    width: \"100%\",\r\n                                    height: \"40px\",\r\n                                    backgroundColor: \"#641E89\",\r\n                                    color: \"#fff\",\r\n                                    border: \"1px solid white\"\r\n                                }} className=\"btn form-control\">{this.state.loginRequestStatus_admin ? \"Signup\" :\r\n                                    <Loader\r\n                                        type=\"Puff\"\r\n                                        color=\"#FFF\"\r\n                                        height=\"30\"\r\n                                        width=\"30\"\r\n                                    />}\r\n                            </Button>\r\n\r\n                        </Form>\r\n                    </div>\r\n                </Modal>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst dot = (color = '#ccc') => ({\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n\r\n    ':before': {\r\n        backgroundColor: color,\r\n        borderRadius: 10,\r\n        content: '\" \"',\r\n        display: 'block',\r\n        marginRight: 8,\r\n        height: 10,\r\n        width: 10,\r\n    },\r\n});\r\nconst colourStyles = {\r\n    control: styles => ({ ...styles, backgroundColor: 'white' }),\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        const color = chroma(data.color);\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isDisabled\r\n                ? null\r\n                : isSelected ? data.color : isFocused ? color.alpha(0.1).css() : null,\r\n            color: isDisabled\r\n                ? '#ccc'\r\n                : isSelected\r\n                    ? chroma.contrast(color, 'white') > 2 ? 'white' : 'black'\r\n                    : data.color,\r\n            cursor: isDisabled ? 'not-allowed' : 'default',\r\n        };\r\n    },\r\n    input: styles => ({ ...styles, ...dot() }),\r\n    placeholder: styles => ({ ...styles, ...dot() }),\r\n    singleValue: (styles, { data }) => ({ ...styles, ...dot(data.color) }),\r\n};\r\nconst getBackgroudColor = (page) => {\r\n    switch (page) {\r\n        case 'Concepts':\r\n            return \"#696969\";\r\n        case 'Concept Clusters':\r\n            return \"#CD5C5C\";\r\n        case 'Authors':\r\n            return \"#A52A2A\";\r\n        case 'Author Clusters':\r\n            return \"#800080\";\r\n        default:\r\n            return \"#a4b2b7\";\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushState: bindActionCreators(flushState, dispatch),\r\n        setAutherClusterSelectedItems: bindActionCreators(setAutherClusterSelectedItems, dispatch),\r\n        getAuthorGroups: bindActionCreators(getAuthorGroups, dispatch),\r\n        login: bindActionCreators(login, dispatch),\r\n        signup: bindActionCreators(signup, dispatch),\r\n        logout: bindActionCreators(logout, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        removeTag: bindActionCreators(removeTag, dispatch)\r\n\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        userExist_admin: state.navbar.userExist_admin,\r\n        loginRequestStatus_admin: state.navbar.loginRequestStatus_admin,\r\n        loginStatus_admin: state.navbar.loginStatus_admin,\r\n        invalidLogin: state.navbar.invalidLogin,\r\n        loggedInUserAccount_admin: state.navbar.loggedInUserAccount_admin\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TopNavBar));","import React, { Component } from 'react';\r\nimport conceptionary_svg from \"../../images/conceptionary.svg\";\r\nimport \"./HomePage.css\";\r\nimport{getAuthorGroups} from \"../../utilities\";\r\nimport queryString from \"query-string\";\r\nclass HomePage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n    async componentWillMount(){\r\n    //     if (queryString.parse(this.props.location.search).filters) {\r\n    //         let filters = [];\r\n    //         let queryFilters = queryString.parse(this.props.location.search).filters;\r\n    //         if (typeof queryFilters === \"string\") {\r\n    //             filters.push(queryFilters);\r\n    //         } else {\r\n    //             filters = queryFilters;\r\n    //         }\r\n    //         let author_group = await getAuthorGroups(filters);\r\n    //         this.props.addTag(author_group);\r\n    // }\r\n}\r\n    render() {\r\n        return (\r\n            <div style={{ marginTop: \"5%\" }} className=\"text-center\">\r\n                <img src={conceptionary_svg} width=\"80%\" alt=\"\" />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport './style.css';\r\nimport Axios from 'axios';\r\nclass FileUpload extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedFile: null,\r\n            msg: \"\",\r\n            skip: [],\r\n            wait:false\r\n        }\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onClickHandler = this.onClickHandler.bind(this);\r\n    }\r\n\r\n    onChangeHandler(event) {\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n        });\r\n    }\r\n    async onClickHandler() {\r\n        this.setState({\r\n            wait:true\r\n        })\r\n        const data = new FormData();\r\n        data.append('file', this.state.selectedFile);\r\n        let response = await Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/upload`, data);\r\n        if (response.data.msg) {\r\n            this.setState({\r\n                msg: response.data.msg,\r\n                wait:false\r\n            })\r\n        }\r\n        if (response.data.skip.length > 0) {\r\n            this.setState({\r\n                skip: response.data.skip\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"container\" style={{ marginTop: \"5px\" }}>\r\n                <div class=\"row\">\r\n                    <div class=\"offset-md-3 col-md-6\">\r\n                        <div class=\"form-group files\">\r\n                            <label><b>Upload Your File </b></label>\r\n                            <input type=\"file\" name=\"file\" class=\"form-control\" multiple onChange={this.onChangeHandler} /><br></br>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            {/*<ToastContainer />\r\n                <Progress max=\"100\" color=\"success\" value={this.state.loaded} >{Math.round(this.state.loaded,2) }%</Progress>*/}\r\n\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn-success btn-block\" onClick={this.onClickHandler} disabled={(this.state.selectedFile?false:true)||(this.state.wait?true:false)}>Upload</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ display: this.state.msg ? 'block' : 'none' }}>\r\n                    <div class=\"offset-md-3 col-md-6\" style={{ marginTop: '50px' }}>\r\n                        <div class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n                            <strong>{this.state.msg}</strong>\r\n                            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ marginTop: '50px' }}>\r\n                    <div class=\"class=offset-md-3 col-md-6\">\r\n                        {\r\n                            this.state.wait&&(\r\n                                <h2>please wait......</h2>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ marginTop: '50px' }}>\r\n                    <div class=\"class=offset-md-2 col-md-6\">\r\n                        <ul style={{listStyleType:'none'}}>\r\n                           {\r\n                               this.state.skip.length>0&&(\r\n                                   this.state.skip.map(i=>{\r\n                                       return <li>row:{i} not saved from file</li>\r\n                                   })\r\n                               )\r\n                           }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FileUpload\r\n\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { Helmet } from \"react-helmet\";\r\nclass PerspectiveDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Perspective: null,\r\n            Concept: null,\r\n            Author: null,\r\n            imgURL: null,\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        const { id } = this.props.match.params;\r\n        let data = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/detail/${id}`)\r\n        if (data.data.responseType == \"success\") {\r\n            console.log(data);\r\n            this.setState({\r\n                Perspective: data.data.data,\r\n                Concept: data.data.data.Concept,\r\n                Author: data.data.data.Author,\r\n                imgURL: data.data.img\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"text-center\" style={{ marginTop: '50px' }}>\r\n                {this.state.Perspective && this.state.Concept && this.state.Author &&\r\n                    <React.Fragment>\r\n                        <Helmet>\r\n                           \r\n                            <meta property=\"og:url\" content={`http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"og:type\" content=\"website\" />\r\n                            <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                            <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                            <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                            <meta property=\"og:image\" content={this.state.imgURL} />\r\n                        \r\n                           \r\n\r\n                            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                            <meta name=\"Twitter:site\" content=\"Conceptionary\" />\r\n                            <meta name=\"twitter:creator\" content=\"Conceptionary.com\" />\r\n                            <meta name=\"twitter:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                            <meta name=\"twitter:description\" content={this.state.Perspective.description} />\r\n                            <meta name=\"twitter:image\" content={this.state.imgURL} />\r\n                                                    \r\n                        </Helmet>\r\n                        <div>\r\n                            <img src={this.state.imgURL} style={{ width: '200px', height: '200px' }} alt={this.state.Author.lastName}></img>\r\n                            <h3>{this.state.Concept.name}</h3>\r\n                            <hr></hr>\r\n                            <p><b>{this.state.Concept.name}</b> {this.state.Perspective.description}</p>\r\n                            <h5>{this.state.Author.firstName + \" \" + this.state.Author.lastName}</h5>\r\n                        </div>\r\n                    </React.Fragment>\r\n                }\r\n                {/* <Helmet>\r\n                    <meta property=\"og:url\" content={`http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${this.state.Perspective.id}`} />\r\n                    <meta property=\"og:type\" content=\"website\" />\r\n                    <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                    <meta property=\"og:title\" content={this.state.Concept.name} />\r\n                    <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                    <meta property=\"og:image\" content=\"https://www.recordedbooks.com/RBDigital/media/site/new%20stuff/Authors%20600%20X%20600/Authors_Stephen-King_600x600_1.jpg?ext=.jpg\" />\r\n                </Helmet>\r\n                <div>\r\n                    <img alt=\"\" src=\"https://www.recordedbooks.com/RBDigital/media/site/new%20stuff/Authors%20600%20X%20600/Authors_Stephen-King_600x600_1.jpg?ext=.jpg\" style={{ width: '200px', height: '200px' }}></img>\r\n                    <h3>{this.state.Concept.name}</h3>\r\n                    <hr></hr>\r\n                    <p><b>{this.state.Concept.name}</b> {this.state.Perspective.description}</p>\r\n                    <h5>{this.state.Author.firstName + \" \" + this.state.Author.lastName}</h5>\r\n                    <p>conceptionary site</p>\r\n                </div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PerspectiveDetail","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Router, Route, Link, Switch, Redirect } from 'react-router-dom';\r\nimport ConceptsPage from \"./components/ConceptsPage/ConceptsPage\";\r\nimport ConceptClustersPage from \"./components/ConceptClustersPage/ConceptClustersPage\";\r\nimport Message from \"./components/Messages/Message\";\r\nimport AuthorCluster from \"./components/AutherCluster/AutherCluster\";\r\nimport AuthorPage from \"./components/AuthorPage/AutherPage\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Signup from \"./components/Signup/Signup\";\r\nimport TopNavBar from \"./components/TopNavBar/TopNavBar\";\r\nimport HomePage from \"./components/HomePage/HomePage\";\r\nimport FileUpload from './components/FileUpload/FileUpload';\r\nimport PerspectiveDetail from './components/perspectiveDetail/perspective';\r\nimport { connect } from 'react-redux';\r\nimport { createBrowserHistory } from \"history\";\r\nconst history = createBrowserHistory()\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAuthenticated: false,\r\n      user: this.props.auth.user,\r\n    }\r\n  }\r\n  render() {\r\n    const { isAuthenticated } = this.props.auth;\r\n    // const { id, username, email } = this.props.auth.user;\r\n    const PrivateRoute = ({ component: Component, ...rest }) => {\r\n      // console.log(\"...Rest\", rest);\r\n      return <Route {...rest} render={(props) => {\r\n        // console.log(\"Props in Private Route\", props);\r\n        return isAuthenticated === true ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }} />\r\n    };\r\n    return (\r\n       <Router history={history}>\r\n        <div>\r\n          <TopNavBar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={HomePage} />\r\n            <Route path=\"/login\" exact component={Login} />\r\n            <Route path=\"/signup\" exact component={Signup} />\r\n            <Route path=\"/concepts\" exact component={ConceptsPage} />\r\n            <Route path=\"/concepts/:name\" exact component={ConceptsPage} />\r\n            <Route path=\"/concept-clusters\" exact component={ConceptClustersPage} />\r\n            <Route path=\"/concept-clusters/:name\" exact component={ConceptClustersPage} />\r\n            <Route path=\"/authors\" exact component={AuthorPage} />\r\n            <Route path=\"/authors/:name\" exact component={AuthorPage} />\r\n            <Route path=\"/author-clusters\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-groups\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-groups/:name\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-clusters/:name\" exact component={AuthorCluster} />\r\n            <Route path=\"/Message\" exact component={Message} />\r\n            <Route path=\"/Fileupload\" exact component={FileUpload}/>\r\n            <Route path=\"/perspective/:id\" exact component={PerspectiveDetail}/>\r\n          </Switch>\r\n        </div>\r\n        </Router>\r\n    );\r\n  }\r\n}\r\nfunction mapStatToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n  }\r\n}\r\nexport default connect(mapStatToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.1/8 is considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS } from \"constants\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {}\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"SET_CURRENT_USER\":\r\n            return {\r\n                isAuthenticated: !isEmpty(action.user),\r\n                user: action.user,\r\n            }\r\n        case \"LOG_OUT\":\r\n            return {\r\n                isAuthenticated: false,\r\n                user: {}\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","\r\nconst initialState = {\r\n    // searchSuggestions: [],\r\n    tags: [],\r\n    selectedOption: \"\",\r\n    authorClusterSelectedOptions: \"\",\r\n    searchCategory: \"All\",\r\n    concepts: [],\r\n    authors: [],\r\n    conceptClusters: [],\r\n    authorClusters: [],\r\n    authorGroups: [],\r\n    loading: true,\r\n    userExist_admin: false,\r\n    loginStatus_admin: false,\r\n    loggedInUserAccount_admin: {},\r\n    loginRequestStatus_admin: true,\r\n    invalidLogin: false,\r\n    SIGNUP_SUCCESS: false,\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"GET_CONCEPTS_NAMES_NAVBAR\":\r\n            // console.log(\"GET_CONCEPTS_NAMES_NAVBAR\");\r\n            return {\r\n                ...state,\r\n                searchSuggestions: action.payload,\r\n            }\r\n        case \"SET_SEARCH_CATEGORY\":\r\n            // console.log(\"SET_SEARCH_CATEGORY \");\r\n            return {\r\n                ...state,\r\n                searchCategory: action.payload,\r\n            }\r\n        case \"SET_SELECTED_OPTION\":\r\n            // console.log(\"SET_SELECTED_OPTION\");\r\n            return {\r\n                ...state,\r\n                selectedOption: action.payload\r\n            }\r\n        case \"FLUSH_NAV_BAR\":\r\n            return {\r\n                ...state,\r\n                selectedOption: \"\",\r\n            }\r\n        case \"SET_AUTHOR_CLUSTER_SELECTED_OPTIONS\":\r\n            return {\r\n                ...state,\r\n                authorClusterSelectedOptions: action.payload,\r\n            }\r\n        case \"CONCEPTS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(action.payload);\r\n            // console.log(\"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                concepts: action.payload,\r\n            }\r\n        case \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                conceptClusters: action.payload,\r\n            }\r\n        case \"AUTHORS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"AUTHORS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                authors: action.payload,\r\n            }\r\n        case \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                authorClusters: action.payload,\r\n            }\r\n\r\n        case \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\":\r\n            return {\r\n                ...state,\r\n                authorGroups: action.payload,\r\n            }\r\n\r\n        case \"LOGIN_REQUEST\":\r\n            return {\r\n                ...state,\r\n                loginRequestStatus_admin: false,\r\n                invalidLogin: false,\r\n                loginStatus_admin: false\r\n\r\n            }\r\n\r\n        case \"LOGIN_SUCCESS\":\r\n            // return state;\r\n            return {\r\n                ...state,\r\n                userExist_admin: true,\r\n                loggedInUserAccount_admin: action.userInfo,\r\n                loginRequestStatus_admin: true,\r\n                loginStatus_admin: true,\r\n                invalidLogin: false\r\n\r\n            }\r\n\r\n        case \"LOGIN_FAILURE\":\r\n            return {\r\n                ...state,\r\n                loginRequestStatus_admin: true,\r\n                loginStatus_admin: false,\r\n                invalidLogin: true\r\n            }\r\n\r\n        case \"LOGOUT\":\r\n            return {\r\n                ...state,\r\n                loginStatus_admin: false,\r\n                loggedInUserAccount_admin: {},\r\n                loginRequestStatus_admin: false,\r\n                userExist_admin: false,\r\n            }\r\n        case \"SIGNUP_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                SIGNUP_SUCCESS: true\r\n            }\r\n        case \"ADD_TAG\": {\r\n            let tags = [...state.tags]\r\n            if(Array.isArray(action.payload)){\r\n                tags.push(...action.payload)\r\n            }else{\r\n                tags.push(action.payload)\r\n            }\r\n            return {\r\n                ...state,\r\n                tags: tags\r\n            }\r\n        }\r\n        case \"REMOVE_TAG\":\r\n            let tags = [...state.tags];\r\n            for (let i = 0; i < tags.length; i++) {\r\n                if (tags[i].id == action.payload) {\r\n                    tags.splice(i, 1);\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                tags: tags\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { stat } from \"fs\";\r\n\r\nconst initialState = {\r\n    listRelatedData: [],\r\n    loading: true,\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    perspectiveIds: [],\r\n    sortedAuthorIds: [],\r\n    perspectivesRelations: {},\r\n    perspectivesDetail: [],\r\n    perspectivesByAuthor: {},\r\n    sortedAuthors: [],\r\n    authors: {},\r\n    concept: {},\r\n    keywordIds: [],\r\n    keywords: {},\r\n    isLike: false,\r\n    initial:false,\r\n    normalizedPerspectives:{}\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':\r\n           {\r\n            return {\r\n                normalizedPerspectives:{},\r\n                apiLoading: true,\r\n            }}\r\n        case 'REQUEST_SUCCESSFUL':\r\n            return {\r\n                ...state,\r\n                apiLoading: false,\r\n                apiServerError: false,\r\n                apiNetworkError: false,\r\n            }\r\n        case 'SET_CONCEPT_DETAILS': {\r\n            return {\r\n                ...state,\r\n                perspectivesRelations: action.payload.perspectivesRelations,\r\n                authors: action.payload.authors,\r\n                concept: action.payload.concepts,\r\n                keywords: action.payload.keywords,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                sortedAuthorIds: action.payload.sortedAuthorIds,\r\n                sortedAuthors: action.payload.sortedAuthors,\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_SCROLL': {\r\n            console.log(\"At scroll find\",action.payload);\r\n            let perspectivesByAuthor = state.perspectivesByAuthor;\r\n            let norm=action.payload.normalizedPerspectives;\r\n            Object.keys(norm).map(perspective => {\r\n                perspectivesByAuthor[norm[perspective.AuthorId]]=norm[perspective]\r\n            });\r\n            // console.log(\"i am this\",perspectivesByAuthor);\r\n            // console.log(\"000000\",action.payload.normalizedPerspectives)\r\n            console.log(\"merging\",action.payload.normalizedPerspectives);\r\n            console.log(\"and\",state.normalizedPerspectives)\r\n            let normal=Object.assign(action.payload.normalizedPerspectives,state.normalizedPerspectives)\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: perspectivesByAuthor,\r\n                normalizedPerspectives:normal\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_AUTHOR': {\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                initial:true\r\n            }\r\n        }\r\n        case 'SET_NORMALIZED_PERSPECTIVES' : {\r\n            return {\r\n                ...state,\r\n                normalizedPerspectives:action.payload.normalizedPerspectives\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS': {\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                initial:true\r\n            }\r\n        }\r\n        case 'setPerspectiveIds': {\r\n            return {\r\n                ...state,\r\n                perspectiveIds: action.payload\r\n            }\r\n        }\r\n        case 'sortByAuthorLast': {\r\n            return {\r\n                ...state,\r\n                sortBy: action.payload\r\n            }\r\n        }\r\n        case 'sortByKeyword': {\r\n            return {\r\n                ...state,\r\n                sortBy: action.payload.sortBy,\r\n                sortByKeywordId: action.payload.sortByKeywordId,\r\n                all: action.payload.all\r\n\r\n            }\r\n        }\r\n        case 'SHOW_ALL_PERSPECTIVE': {\r\n            return {\r\n                ...state,\r\n                all: action.payload\r\n            }\r\n        }\r\n        case 'SET_PERSPECTIVE_LIKE': {\r\n            let perspectives = state.perspectives;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return {\r\n                ...state,\r\n                perspectives: perspectives\r\n            }\r\n        }\r\n        case 'SET_IS_LIKE': {\r\n            return {\r\n                ...state,\r\n                isLike: action.payload\r\n            }\r\n        }\r\n\r\n        // case \"GET_CONCEPT_DETAILS\":\r\n        //     // console.log(\"Dispatch Called!\");\r\n        //     return {\r\n        //         ...state,\r\n        //         conceptsWithDetails: [...action.payload]\r\n        //     }\r\n        // case \"GET_CONCEPT_KEYWORDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         keywords: [...action.payload],\r\n        //     }\r\n        // case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         perspectiveids: [...action.payload]\r\n        //     }\r\n        // case \"REFRESH_CONCEPT_PAGE\":\r\n        //     return {\r\n        //         ...state,\r\n\r\n        //     }\r\n        // case 'FLUSH_CONCEPT':\r\n        //     return {\r\n        //         loading: true\r\n        //     }\r\n        case 'GET_LIST_RELATED':\r\n            return {\r\n                ...state,\r\n                listRelatedData: action.payload,\r\n            }\r\n        // case 'LOADING_FALSE':\r\n        //     console.log(\"Loading False\")\r\n        //     return {\r\n        //         ...state,\r\n        //         loading: false\r\n        //     }\r\n        // case 'LOADING_TRUE':\r\n        //     console.log(\"Loaing True\")\r\n        //     return {\r\n        //         loading: true,\r\n        //     }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    conceptClustersWithDetails: [],\r\n    conceptClusterConceptsDiscrete: [],\r\n    authors:{},\r\n    concepts:{},\r\n    perspective:{},\r\n    keywords:{},\r\n    conceptCluster:{},\r\n    authorClicked: false,\r\n    conceptClicked: true,\r\n    loading: true,\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    conceptClusterWithDetails: {}\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'CONCEPT_CLUSTER_DETAIL':{\r\n            let conceptCluster=action.payload.conceptCluster[Object.keys(action.payload.conceptCluster)[0]]\r\n            return{\r\n                ...state,\r\n                authors:action.payload.authors,\r\n                concepts:action.payload.concepts,\r\n                perspective:action.payload.perspectives,\r\n                conceptCluster:conceptCluster,\r\n                keywords:action.payload.keywords\r\n            }\r\n        }\r\n        case 'CLICKED_STATE':{\r\n            return{\r\n                ...state,\r\n                authorClicked:action.payload.authorClicked,\r\n                conceptClicked:action.payload.conceptClicked\r\n            }\r\n        }\r\n        case 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE':{\r\n            let perspectives = state.perspective;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return{\r\n                ...state,\r\n                perspective: perspectives\r\n            }\r\n        }\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':\r\n            return {\r\n                apiLoading: true,\r\n            }\r\n        case 'REQUEST_SUCCESSFUL':\r\n            return {\r\n                ...state,\r\n                conceptClusterWithDetails: action.payload,\r\n                apiLoading: false,\r\n                apiServerError: false,\r\n                apiNetworkError: false,\r\n            }\r\n        case \"GET_CONCEPT_CLUSTER_DETAILS\":\r\n            // console.log(\"Dispatch Called!\");\r\n            return {\r\n                ...state,\r\n                conceptClustersWithDetails: [...action.payload]\r\n            }\r\n        case \"GET_CONCEPT_CLUSTER_CONCEPTS_DISCRETE\":\r\n            return {\r\n                ...state,\r\n                conceptClusterConceptsDiscrete: [...action.payload],\r\n            }\r\n        case 'FLUSH_CONCEPT_CLUSTER':\r\n            return {\r\n                loading: true,\r\n            }\r\n        // case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         perspectiveids: [...action.payload]\r\n        //     }\r\n        case \"LOADING_FALSE\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { stat } from \"fs\";\r\n\r\nconst initialState = {\r\n    authorsWithDetails: {},\r\n    authorBioHeadings: {},\r\n    authorBooks: {},\r\n    authorPerspectives:{},\r\n    authorGroups:{},\r\n    concepts:{},\r\n    author:{},\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    author_authors_apiLoading: false,\r\n    author_authors_apiServerError: false,\r\n    author_authors_apiNetworkError: false,\r\n    author_authors: {\r\n    AuthorInfluenceAuthors: [],\r\n    AuthorConvoAuthors: [],\r\n    }\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'AUTHOR_DETAILS':{\r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n            return{\r\n                ...state,\r\n                authorPerspectives:action.payload.perspectives,\r\n                authorBioHeadings:action.payload.AuthorBioHeadings,\r\n                authorGroups:action.payload.AuthorGroups,\r\n                author:author,\r\n                concepts:action.payload.concepts,\r\n                authorBooks:action.payload.books\r\n            }\r\n        }\r\n        case 'AUTHOR_PERSPECTIVE_LIKE':{\r\n            let perspectives = state.authorPerspectives;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            // return{\r\n            //     ...state,\r\n            //     authorPerspectives: perspectives\r\n            // }\r\n        }\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                ...state,\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':\r\n            return {\r\n                ...state,\r\n                apiLoading: true,\r\n            }\r\n        case \"GET_AUTHOR_DETAILS\":\r\n            return {\r\n                ...state,\r\n                authorsWithDetails: action.payload,\r\n                apiLoading: false,\r\n                apiServerError: false,\r\n                apiNetworkError: false,\r\n            }\r\n        case \"GET_AUTHOR_AUTHORS_PENDING\":\r\n            return {\r\n                ...state,\r\n                author_authors_apiLoading: true,\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_SUCCESS':\r\n            // console.log('reducer get author success')\r\n            return {\r\n                ...state,\r\n                author_authors_apiLoading: false,\r\n                author_authors_apiServerError: false,\r\n                author_authors_apiNetworkError: false,\r\n                author_authors: action.payload\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_SERVER_ERROR':\r\n            return {\r\n                ...state,\r\n                author_authors_apiServerError: true,\r\n                author_authors_apiLoading: false,\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                author_authors_apiNetworkrError: true,\r\n                author_authors_apiLoading: false,\r\n            }\r\n        case \"GET_AUTHOR_BIO\":\r\n            // console.log(\"Get AuthorBio dispatch called in reducer catching\");\r\n            return {\r\n                ...state,\r\n                authorBioData: [...action.payload]\r\n            }\r\n        case \"GET_AUTHOR_BOOKS\":\r\n            // console.log(\"Get AuthorBooks dispatch called in reducer catching\");\r\n            return {\r\n                ...state,\r\n                authorBooks: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_INFLUENCED_BY_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorInfluencedByAuthors: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_INFLUENCED_ON_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorInfluencedOnAuthors: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_CONVO_WITH_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorConvoWithAuthors: [...action.payload]\r\n            }\r\n        case 'FLUSH_AUTHOR':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'LOADING_FALSE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    keywordsForPerspectiveId: [],\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"GET_SINGLE_CONCEPT_KEYWORDS\":\r\n            return {\r\n                ...state,\r\n                keywordsForPerspectiveId: [...action.payload]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    authorClustersWithDetails: [],\r\n    authorClusterConceptsDiscrete: [],\r\n    authorCluster: {},\r\n    perspectives: [],\r\n    authorClicked: false,\r\n    conceptClicked: true,\r\n    resort:3\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'CLICKED_STATE': {\r\n            return {\r\n                ...state,\r\n                authorClicked: action.payload.authorClicked,\r\n                conceptClicked: action.payload.conceptClicked\r\n            }\r\n        }\r\n        case 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE': {\r\n            let perspectives = state.authorCluster;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return {\r\n                ...state,\r\n                authorCluster: perspectives\r\n            }\r\n        }\r\n        case \"GET_AUTHOR_CLUSTER_DETAILS\":\r\n            return {\r\n                ...state,\r\n                authorClustersWithDetails: [...action.payload.data],\r\n                authorCluster: action.payload.entities.authorCluster,\r\n                perspectives: [...action.payload.result]\r\n            }\r\n        case \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\":\r\n            return {\r\n                ...state,\r\n                authorClusterConceptsDiscrete: [...action.payload],\r\n            }\r\n\r\n        case 'FLUSH_AUTHOR_CLUSTER':\r\n            return {\r\n\r\n            }\r\n        case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n            return {\r\n                ...state,\r\n                perspectiveids: [...action.payload]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport auth from \"./auth\";\r\nimport navbar from \"./navbar\";\r\nimport concepts from \"./concepts\";\r\nimport conceptClusters from \"./conceptClusters\";\r\nimport author from \"./author\";\r\nimport keyword from './keyword';\r\nimport autherCluster from \"./autherCluster\";\r\nexport default combineReducers({\r\n    auth,\r\n    concepts,\r\n    navbar,\r\n    keyword,\r\n    author,\r\n    conceptClusters,\r\n    autherCluster,\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport setAuthorizationToken from \"./utils/setAuthorizationToken\";\r\nimport combineReducers from \"./reducers\";\r\nimport { setCurrentUser } from './actions/loginActions';\r\nimport jwt from \"jsonwebtoken\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\n//import { PersistGate } from 'redux-persist/integration/react';\r\n//import configureStore from './store/configureStore';\r\n//const {store,persistor}=configureStore();\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(combineReducers, composeEnhancers(applyMiddleware(thunk)));\r\nif (localStorage.jwtToken) {\r\n    setAuthorizationToken(localStorage.jwtToken);\r\n    store.dispatch(setCurrentUser(jwt.decode(localStorage.jwtToken)));\r\n}\r\n\r\n\r\n\r\nReactDOM.render(<Provider store={store}>\r\n    <Router>\r\n    {/*<PersistGate loading={null} persistor={persistor}>*/}\r\n        <App />\r\n   {/* </PersistGate>*/}\r\n    </Router>\r\n</Provider>, document.getElementById('root'));\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}