{"version":3,"sources":["loading.gif","images/insta.png","Spinner.svg","images/conceptionary.svg","components/LoaderComponent/Loader.js","components/AdComponent/AdComponent.js","schema/conceptSchema.js","actions/conceptsActions.js","utils/getSortedAuthor.js","actions/navbaractions.js","utilities/index.js","components/SocialShareButtons/ShareButtons.js","components/SocialShareButtons/TwitterSharedButton.js","components/ConceptsPage/Context/Context.js","utils/keywordsSorterFunction.js","utils/conceptsSorterFunction.js","selectors/index.js","components/ConceptsPage/ConceptsPage.js","schema/conceptClusterSchema.js","actions/conceptClustersActions.js","components/ConceptClustersPage/Context.js","components/ConceptClustersPage/ConceptClustersPage.js","components/Messages/Message.js","schema/authorClusterSchema.js","actions/autherCluster.js","components/AutherCluster/AutherCluster.js","schema/authorSchema.js","actions/authorActions.js","components/AuthorPage/AutherPage.js","utils/setAuthorizationToken.js","actions/loginActions.js","components/Login/Login.js","helpers/validateLogin.js","actions/signupActions.js","helpers/validateSignup.js","components/Signup/Signup.js","components/TopNavBar/TopNavBar.js","components/HomePage/HomePage.js","components/FileUpload/FileUpload.js","components/perspectiveDetail/perspective.js","components/about/about.js","components/contact/contact.js","components/termsofuse/termsofuse.js","App.js","serviceWorker.js","reducers/auth.js","reducers/navbar.js","reducers/concepts.js","reducers/conceptClusters.js","reducers/author.js","reducers/keyword.js","reducers/autherCluster.js","reducers/index.js","index.js"],"names":["module","exports","__webpack_require__","p","Component","AdsComponent","react_default","a","createElement","class","style","display","textAlign","data-ad-format","data-ad-layout","data-ad-client","data-ad-slot","React","author","schema","Entity","keyword","perspective","Author","Keywords","conceptSchema","Perspectives","axios","require","perspectivesByAuthor","sortedAuthors","createPerspectivesByAuthor","perspectives","arguments","length","undefined","authorPerspectives","Object","assign","forEach","id","AuthorId","push","createNormalizePerspectives","data","flushConceptState","dispatch","type","getAllPerspectivesByConcept","conceptId","page_no","conceptPage","post","concat","process","then","responseType","payload","getConceptPerspectivesByKeywords","keywordId","get","getPerspectivesByAuthors","authorIds","merge","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","_x","apply","this","catch","err","console","log","getConceptPerspectivesByLikes","concept","offset","isScroll","isScrollLike","getConceptPerspectivesByAuthorLastName","author_lastName","increasePerspectiveLike","like","res","isLike","decreasePerspectiveLike","LoadByLikes","sortByAuthorLast","sortBy","showAllPerspective","value","sortByKeyword","getConceptFromApi","obj","Conceptobj","conceptDetailsFromApi","perspectivesRelations","sortedAuthorIds","normalizedData","normalize","entities","ids","perspectiveids","concepts","authors","uniqueAuthorWithDetails","uniqueAuthorNames","indexOf","firstName","lastName","sort","b","authorALastName","toUpperCase","authorBLastName","getUniqueSortedAuthors","result","error","getListRelatedByConceptId","listRelatedData","ConceptClusters","flushState","setAutherClusterSelectedItems","selectedItems","setSelectedItem","selectedItem","setSelectedCategory","selectedCategory","addTag","tag","removeTag","getAuthorGroups","name","callback","results","i","label","toLowerCase","startsWith","login","account","username","Email","password","Password","headers","Content-Type","accept","response","JSON","parse","stringify","success","userInfo","user","e","logout","signup","Username","email","temp","filters","filterobj","Promise","resolve","reject","Axios","ShareButtons","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","show","_this2","_this$props","title","link","text","pronoun","charAt","slice","description","react_facebook_lib","appId","href","handleClick","onMouseDown","setState","onClick","backgroundColor","border","FacebookIcon","size","round","dist_default","target","TwitterIcon","Helmet","Context","visibility","keywords","className","marginTop","padding","borderRadius","fontSize","textTransform","selectedOption","onAuthorClick","author_first","author_last","born","dob","died","dod","auth_id","color","cursor","map","k","SocialShareButtons_ShareButtons","aria-hidden","onLikeClick","loves","longDescription","citation","keywordsSorter","conceptsSorter","getUniqueKeywords","perspectiveIds","uniqueKeysWords","uniqueKeywordNamesOnly","count","includes","keywordSorterFunction","getUniqueConcept","allow","keys","uniqueConcecptObjects","helperUniqueIds","element","ConceptId","object","discrete_author_name_id","discrete_author_name","getSortedPerspectivesByConceptName","tempPerspectives","getUniqueAuthorBooks","books","authorBooks","Books","bookids","uniqueBookNameWithId","uniqueBookIds","bookid","discrete_book_id","getAuthorBioData","authorGroups","authorBioHeadings","AuthorGroups","uniqueBioHeadings","AuthorBioHeading","heading","values","getUniqueSortedConceptsFromConceptCluster","conceptCluster","conceptClusters","Concepts","uniqueConceptNames","sortedUniqueConcepts","conceptNameA","conceptNameB","getPerspectivesFromConceptCluster","authorClicked","conceptClicked","toConsumableArray","perspectiveId","ConceptName","textA","textB","authorA","authorB","getUniqueAuthorsFromConceptCluster","conceptids","uniqueAuthors","perspecid","getUniqueSortedConceptNameFromAuthorCluster","autherCluster","authorCluster","uniqueConcepts","conceptid","conceptName","getDynamicSortedAuthorClusterWithDetails","copyAuthorClusterWithDetails","authorLastName","getSortedAuthorClusterWithDetailsByAuthorLast","clustersWithDetails","authorClustersWithDetails","getFilteredPerspectives","normalizedPerspectives","sortByLikes","ConceptsPage","devo","prevFirst","prevSecond","prevThird","countDown","countUp","AutherNotClicked","showAuthors","prevScroll","sortedByKewords","allowDownScrollCallBack","getConcept","concept_name","myRef","createRef","query","apiLoading","apiServerError","apiNetworkError","listRelatedLoading","listRelatedServerError","listRelatedNetworkError","listRelated","listRelatedRole","navbar","sortedKeywords","uniqueKeywords","authorId","all","sortByAuthor","filteredPerspectives","perspectiveLoading","prevOffset","filterConceptDefinations","bind","assertThisInitialized","onListClick","onListRelatedClick","onRelatedClick","toggleListRelated","scrollDownPerspectiveHandler","scrollUpPerspectiveHandler","handleScrollCallback","handleScrollCallbackJQUERY","loadPerspectivesByLikes","loadByAuthor","handleThirdCallBack","handleFirstCallback","handleSecondWheeel","handleFirstWheeel","handleThirdWheeel","category","concept_id","tags","relationary_supra","relationary_thing_supra_id","match","params","queryString","location","search","queryFilters","author_group","history","nextProps","conceptWithDetails","conceptsWithDetails","orignalConceptsWithDetails","loading","initial","document","getElementById","scrollIntoView","behavior","x","ReactDOM","findDOMNode","refs","myscroll","thirdScroll","firstScroll","diff","scrollTop","deltaY","windowHeight","$","window","height","scrollHeight","innerHeight","width","rightBarHeight","outerHeight","css","position","bottom","addClass","left","removeClass","scroll","sc","addEventListener","index","findIndex","oldState","keyword_id","rtn","keywords_id","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","return","beginners","last","calledapi","_React$createElement","overflow","paddingTop","margin","react_loading_default","ref","onWheel","onScroll","paddingBottom","background","marginBottom","paddingLeft","marginLeft","marginRight","fontWeight","borderBottom","returnOnlyListData","returnOnlyRelationData","lineHeight","listStyle","textDecoration","sortByKeywordId","defineProperty","justifyContent","src","ConceptsPage_Context_Context","borderLeft","minHeight","loadPerspectivesByAuthor","AdComponent","listData","withRouter","connect","pageNumber","isScrollByLike","bindActionCreators","conceptClusterSchema","flushConceptClusterState","setClickedState","getConceptClusterFromApi","ConceptClustersPage","sortedConcepts","sortedPerspectives","cluster","groupIds","group","getConceptCluster","Redirect","to","zIndex","components_ConceptClustersPage_Context","borderRight","Message","authorClusterSchema","flushAuthorClusterState","getAuthorCluster","via","rej","result1","sent","t0","_x2","getAuthorClusterHelper","AutherCluster","sortedConceptsNames","dynamicSortedAuthorCluster","sortedAuthorClusterDetail","authorGroup","url","pathname","split","getAuthorGroupByName","getAutherCluster","arr","authorFirstName","long_description","authorBioHeading","book","Concept","authorSchema","flushAuthorState","getAuthorInfluencedByAuthors","author_authors_details","getPictureLinks","join","author_firstName","author_image","pictureLink","getAuthorDetails","likes","authorDetailsFromApi","AuthorPage","getAuthor","author_authors","authorInfluencedByAuthors","authorInfluencedOnAuthors","AuthorInfluenceAuthors","authorConvoWithAuthors","AuthorConvoAuthors","showBooks","sortedAuthorInfluencedByAuthors","setInitialsortedAuthorInfluencedByAuthors","sortedAuthorInfluencedOnAuthors","setInitialsortedAuthorInfluencedOnAuthors","sortedAuthorConvoWithAuthors","setInitialsortedAuthorConvoWithAuthors","index1","index2","UniqueConcepts","uniqueconcepts","sortedperpectives","authorBio","authorBooksById","loadImage","sortByName","end","getSortedAuthorInfluencedByAuthors","reverse","forward","reverse1","forward1","reverse2","forward2","onConceptClick","onBioClick","sortByLike","finish","author_authors_apiLoading","author_authors_apiServerError","author_authors_apiNetworkError","bio","distinct_grouping","distinct_grouping_id","rtnArray","getSortedAuthorInfluencedOnAuthors","getSortedAuthorConvoWithAuthors","totalLength","wheight","onError","onLoad","alt","item","v","Link","maxHeight","textOverflow","whiteSpace","BookDescriptions","bookDescription","source","ends","setAuthorizationToken","token","defaults","common","setCurrentUser","userLoginRequest","userData","Access-Control-Allow-Origin","localStorage","setItem","jwt","decode","Login","errors","isLoading","onChange","onSubmit","_validateLogin","loginData","validator","isEmpty","isValid","validateLogin","preventDefault","_this$state","form","classnames","has-error","placeholder","disabled","userSignupRequest","Signup","firstname","lastname","_validateSignup","signupData","isEmail","validateSignup","fname","lname","body","server","TopNavBar","val","Joi","string","required","toggleModalOpen","prevState","modalOpen","toggleModalSignupOpen","modalSignupOpen","validate","abortEarly","details","path","message","handleLoginChange","input","currentTarget","errorMessage","validateProperty","objectSpread","handleSubmit","isSignup","loginStatus_admin","onTagsChanged","searchCategory","suggestions","filter","onInputChanged","handleDelete","splice","handleAddition","toString","loadTags","cb","loadSuggestions","tagsObject","labels","handleChange","myInput","focus","handleTagChange","selectedTag","renderRedirect","seletedSearch","authorClusterSelectedOptions","authorClusters","dropdownData","labelsArray","loadOptionsData","loginRequestStatus_admin","userAccount","default","modal","term","defination","original","thanksModal","loadOptions","onSelectedCatagoryChange","handleTerm","handleDefination","handleOriginal","handleAuthor","handleCitation","handleSubmitNew","searchAllConceptionary","status","inputValue","_this3","shuffle","alert","_this4","_this5","_this6","_this7","_this8","_this9","_this10","searchConcepts","searchConceptClusters","searchAuthorGroups","searchAuthors","searchAuthorClusters","searchAuthorGroupsNav","SIGNUP_SUCCESS","invalidLogin","pushState","_this11","reactstrap_es","getBackgroudColor","page","paddingRight","light","expand","toggle","isOpen","autoFocus","selected","Async_default","onOpen","onFocus","styles","colourStyles","isDisabled","nav","inNavbar","right","divider","Fragment","loggedInUserAccount_admin","index_es","open","onClose","center","boxShadow","react_loader_spinner_default","for","data-dismiss","aria-label","dot","alignItems",":before","content","control","option","_ref2","isFocused","isSelected","chroma","alpha","contrast","singleValue","_ref3","userExist_admin","HomePage","flexDirection","conceptionary_svg","FileUpload","selectedFile","msg","skip","wait","onChangeHandler","onClickHandler","event","files","FormData","append","multiple","role","listStyleType","PerspectiveDetail","Perspective","imgURL","img","og","meta","property","About","PinterestIcon","Icon","insta","Contact","subject","handleName","handleEmail","handleSubject","handleBody","submitEmail","contact","action","htmlFor","rows","top","TermsOfUse","createBrowserHistory","App","isAuthenticated","auth","Router","components_TopNavBar_TopNavBar","Switch","Route","exact","component","AuthorCluster","Boolean","hostname","initialState","perspectivesDetail","keywordIds","conceptClustersWithDetails","conceptClusterConceptsDiscrete","conceptClusterWithDetails","authorsWithDetails","keywordsForPerspectiveId","authorClusterConceptsDiscrete","resort","combineReducers","oldPerspectives","newPerspectives","oldoffset","searchSuggestions","Array","isArray","AuthorBioHeadings","prevAuthorPerspective","key","prevAuthor","prevConcept","author_authors_apiNetworkrError","authorBioData","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","jwtToken","render","es","BrowserRouter","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a360c89c.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,R0lGODlhEAALAPQAAP///01NVOXl5t7e4PDw8VJSWU1NVG5uc6iorJCQlc/P0WVla4GBhq6usZOTl9LS1GhoblBQV4SEie7u7uTk5ff3+HV1eufn6Pb29szMzr29wNra3PPz9E1NVE1NVE1NVCH5BAkLAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7\"","module.exports = __webpack_public_path__ + \"static/media/insta.f7f18e1e.png\";","module.exports = __webpack_public_path__ + \"static/media/Spinner.de191b2f.svg\";","module.exports = __webpack_public_path__ + \"static/media/conceptionary.4e85499c.svg\";","import React, { Component } from 'react';\r\nimport spiner from '../../../src/Spinner.svg';\r\nclass Loader extends Component{\r\n    render(){\r\n        return(\r\n            <img src={spiner}></img>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport AdSense from 'react-adsense';\r\nclass AdsComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <ins class=\"adsbygoogle\"\r\n            \r\n            style={{display:'block', textAlign:'center'}}\r\n            data-ad-format=\"fluid\"\r\n            data-ad-layout=\"in-article\"\r\n            data-ad-client=\"ca-pub-0123456789101112\"\r\n            data-ad-slot=\"9876543210\"></ins>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdsComponent;","import { schema } from 'normalizr';\r\nconst author = new schema.Entity('authors');\r\nconst keyword = new schema.Entity('keywords');\r\nconst perspective = new schema.Entity('perspectivesRelations', {\r\n    Author: author,\r\n    Keywords: [keyword]\r\n});\r\nexport const conceptSchema = new schema.Entity('concepts', {\r\n    Perspectives: [perspective],\r\n});\r\n","import { normalize } from 'normalizr';\r\nimport { conceptSchema } from '../schema/conceptSchema';\r\nimport getUniqueSortedAuthors from '../utils/getSortedAuthor';\r\nconst axios = require('axios');\r\nvar perspectivesByAuthor = {};\r\nvar sortedAuthors = [];\r\nfunction createPerspectivesByAuthor(perspectives = null) {\r\n    let authorPerspectives = Object.assign({}, perspectivesByAuthor);\r\n    if (perspectives) {\r\n        sortedAuthors.forEach(a => {\r\n            authorPerspectives[a.id] = [];\r\n        })\r\n        perspectives.forEach(p => {\r\n            if (!authorPerspectives[p.AuthorId]) {\r\n                authorPerspectives[p.AuthorId] = [p.id]\r\n            } else {\r\n                authorPerspectives[p.AuthorId].push(p.id)\r\n            }\r\n        })\r\n        return authorPerspectives\r\n    }\r\n}\r\nfunction createNormalizePerspectives(perspectives = null) {\r\n    let data={};\r\n    if (perspectives) {\r\n        perspectives.forEach(p => {\r\n           data[p.id]=p;\r\n        })\r\n        \r\n        return data;\r\n    }\r\n}\r\nexport function flushConceptState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_CONCEPT\",\r\n        })\r\n    }\r\n}\r\nexport function setConceptPageNo(pageNo) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: 'SET_PAGE_NO',\r\n            payload: pageNo\r\n        })\r\n    }\r\n}\r\nexport function getAllPerspectivesByConcept(conceptId, page_no) {\r\n    let conceptPage = {\r\n        conceptId,\r\n        page_no,\r\n    }\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/perspective`, { conceptPage })\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE',\r\n                        payload: data.data.perspectives\r\n                    })\r\n                }\r\n            })\r\n    }\r\n}\r\nexport function getConceptPerspectivesByKeywords(keywordId) {\r\n    return dispatch => {\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/keywords/perspective/${keywordId}`)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n\r\n                    data.data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthor(data.data.data.Perspectives)\r\n                    data.data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.data.Perspectives);\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS',\r\n                        payload: data.data.data\r\n                    })\r\n                }\r\n\r\n            })\r\n    }\r\n}\r\nexport function getPerspectivesByAuthors(authorIds, conceptId, merge = false) {\r\n    let perspective = {};\r\n    perspective[\"authorIds\"] = authorIds;\r\n    perspective[\"conceptId\"] = conceptId;\r\n    return dispatch => {\r\n        \r\n      axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/authors`, { perspective })\r\n            .then(async data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                  \r\n                    if (merge) {\r\n                            data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives);\r\n                          await  dispatch({\r\n                                type: 'SET_DETAILED_PERSPECTIVE_BY_SCROLL',\r\n                                payload: data.data\r\n                            })\r\n                    } else {\r\n                        data.data[\"perspectivesByAuthor\"] = createPerspectivesByAuthor(data.data.perspectives)\r\n                        data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives);\r\n                        dispatch({\r\n                            type: 'SET_DETAILED_PERSPECTIVE_BY_AUTHOR',\r\n                            payload: data.data\r\n                        })\r\n                    }\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n}\r\nexport function getConceptPerspectivesByLikes(concept,offset,merge,isScroll=true)\r\n{   \r\n    if(merge)\r\n    {\r\n        let perspective={};\r\n        perspective['conceptid']=concept.id\r\n        perspective['offset']=offset\r\n        return dispatch => {\r\n            axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/likes`,{perspective}).then(data => {\r\n                data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives)                \r\n               \r\n                dispatch({\r\n                    type:'SET_NORMALIZED_PERSPECTIVES_BY_SCROLL',\r\n                    payload:data.data['perspectives']\r\n                })\r\n            });\r\n        }\r\n    }\r\n    else\r\n    {\r\n        let perspective={};\r\n        perspective['conceptid']=concept.id\r\n        perspective['offset']=offset\r\n        return dispatch => {\r\n            axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/likes`,{perspective}).then(data => {\r\n                data.data[\"normalizedPerspectives\"]=createNormalizePerspectives(data.data.perspectives)\r\n               \r\n                dispatch({\r\n                    type:'SET_NORMALIZED_PERSPECTIVES',\r\n                    payload:{data:data.data['perspectives'],isScrollLike:isScroll}\r\n                })\r\n            });\r\n        }\r\n    } \r\n}\r\nexport function getConceptPerspectivesByAuthorLastName(author_lastName) {\r\n    return dispatch => {\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/perspective/${author_lastName}`)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == \"success\") {\r\n                    dispatch({\r\n                        type: 'SET_DETAILED_PERSPECTIVE',\r\n                        payload: data.data.perspectives\r\n                    })\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                // dispatch({\r\n                //     type: 'SET_PERSPECTIVE_LIKE',\r\n                //     payload: res.data.perspective\r\n                // })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                // dispatch({\r\n                //     type: 'SET_PERSPECTIVE_LIKE',\r\n                //     payload: res.data.perspective\r\n                // })\r\n            })\r\n    }\r\n}\r\nexport function LoadByLikes()\r\n{\r\n    return dispatch => {\r\n        dispatch ({\r\n            type: \"LOAD_BY_LIKES\"\r\n        })\r\n    }\r\n}\r\nexport function sortByAuthorLast(sortBy) {\r\n    return dispatch => {\r\n        dispatch ({\r\n            type: \"sortByAuthorLast\",\r\n            payload: sortBy\r\n        })\r\n    }\r\n}\r\nexport function showAllPerspective(value) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SHOW_ALL_PERSPECTIVE\",\r\n            payload: value\r\n        })\r\n    }\r\n}\r\nexport function sortByKeyword(keyword) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"sortByKeyword\",\r\n            payload: keyword\r\n        })\r\n    }\r\n}\r\nexport function getConceptFromApi(concept) {\r\n   \r\n    let obj = {}\r\n    obj.Conceptobj = concept\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/filter?relationships=true`, obj).then(data => {\r\n            const { responseType } = data.data;\r\n            console.log(data.data);\r\n            if (responseType == 'success') {\r\n               \r\n                const conceptDetailsFromApi = data.data.Perspectives.perspectivesRelations;\r\n                let sortedAuthorIds = [];\r\n                const normalizedData = normalize(conceptDetailsFromApi, conceptSchema);\r\n                \r\n                \r\n                sortedAuthors = getUniqueSortedAuthors(normalizedData.entities, normalizedData.result)\r\n                sortedAuthors.forEach(author => {\r\n                    sortedAuthorIds.push(author.id);\r\n                    perspectivesByAuthor[author.id] = [];\r\n                });\r\n                normalizedData.entities[\"perspectivesByAuthor\"] = perspectivesByAuthor;\r\n                normalizedData.entities.sortedAuthorIds = sortedAuthorIds;\r\n                normalizedData.entities.sortedAuthors = sortedAuthors;\r\n                dispatch({\r\n                    type: \"REQUEST_SUCCESSFUL\",\r\n                    payload: conceptDetailsFromApi\r\n                });\r\n                dispatch({\r\n                    type: 'setPerspectiveIds',\r\n                    payload: normalizedData.entities.concepts[normalizedData.result].Perspectives\r\n                });\r\n                dispatch({\r\n                    type: \"SET_CONCEPT_DETAILS\",\r\n                    payload: normalizedData.entities\r\n                });\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log(\"error is\", error);\r\n            dispatch({\r\n                type: \"NETWORK_ERROR1\"\r\n            })\r\n            console.log('Error While fetching concept details from api', error);\r\n        })\r\n    }\r\n}\r\nexport function getListRelatedByConceptId(concept) {\r\n    let obj = {}\r\n    obj.Conceptobj = concept\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"LIST_RELATED_LOADING\"\r\n        })\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts/filter?relationships=true&withListAndRelatedOnly=true&fbclid=IwAR07GYuFbZ9CIrkYUy-0gMPOQrk-aSlLSKP-w0TP1FV5noOp1T-qLJE5xOk`, obj)\r\n            .then(data => {\r\n                const { responseType } = data.data;\r\n                if (responseType == 'success') {\r\n                    let listRelatedData = data.data.data;\r\n                    listRelatedData = listRelatedData.ConceptClusters;\r\n                    dispatch({\r\n                        type: \"GET_LIST_RELATED\",\r\n                        payload: listRelatedData\r\n                    })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"LIST_RELATED_SERVER_ERROR\"\r\n                    })\r\n                }\r\n            }).catch(error => {\r\n                dispatch({\r\n                    type: 'LIST_RELATED_NETWORK_ERROR'\r\n                })\r\n                console.log('Error While getting list related data', error);\r\n            })\r\n    }\r\n\r\n}\r\n","\r\nexport default function getUniqueSortedAuthors(entities, ids) {\r\n\r\n    let perspectiveids = entities.concepts[ids].Perspectives;\r\n    let perspectivesRelations = entities.perspectivesRelations;\r\n    let authors = entities.authors;\r\n    if (perspectiveids && perspectiveids.length > 0 && authors && perspectivesRelations) {\r\n        let uniqueAuthorWithDetails = [];\r\n        let uniqueAuthorNames = [];\r\n        perspectiveids.forEach(id => {\r\n            if(perspectivesRelations[id].Author)\r\n            {\r\n                if (!(uniqueAuthorNames.indexOf((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName)) > -1)) {\r\n                    uniqueAuthorNames.push((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName));\r\n                    uniqueAuthorWithDetails.push(authors[perspectivesRelations[id].Author]);\r\n                }\r\n            }\r\n        })\r\n        return uniqueAuthorWithDetails.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        });\r\n    }\r\n}","const axios = require('axios');\r\nlet request = require(\"request\");\r\nfunction shuffle(a) {\r\n    for (let i = a.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\nexport function flushState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_NAV_BAR\",\r\n        })\r\n    }\r\n}\r\nexport function setAutherClusterSelectedItems(selectedItems) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_AUTHOR_CLUSTER_SELECTED_OPTIONS\",\r\n            payload: selectedItems,\r\n        })\r\n    }\r\n}\r\nexport function setSelectedItem(selectedItem) {\r\n    // console.log(\"set selected item called---------------->\");\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_SELECTED_OPTION\",\r\n            payload: selectedItem,\r\n        })\r\n    }\r\n}\r\nexport function setSelectedCategory(selectedCategory) {\r\n    // console.log(\"set selected category called\");\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"SET_SEARCH_CATEGORY\",\r\n            payload: selectedCategory,\r\n        })\r\n    }\r\n}\r\nexport function addTag(tag) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"ADD_TAG\",\r\n            payload: tag\r\n        });\r\n    }\r\n}\r\nexport function removeTag(id) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REMOVE_TAG\",\r\n            payload: id\r\n        });\r\n    }\r\n}\r\nexport function getAllAsync(name, data, callback) {\r\n    if (name) {\r\n        if (data.length > 0) {\r\n            let results = [];\r\n            for (let i = 0; i < data.length; i++) {\r\n                if (data[i].label.toLowerCase().startsWith(name.toLowerCase())) {\r\n                    if (results.length < 9) {\r\n                        results.push(data[i]);\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            callback(null, shuffle(results));\r\n        }\r\n        else {\r\n            callback(null, []);\r\n        }\r\n    }\r\n}\r\n\r\nexport function getAllData(inputValue) {\r\n    return \"a\";\r\n}\r\n\r\nexport function prefetchConceptsForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/concepts?fields=id+name', {\r\n            headers: {\r\n                \"X-Requested-With\": \"XMLHttpRequest\"\r\n            }\r\n        }).then(data => {\r\n            const { responseType } = data.data;\r\n            console.log(data)\r\n            if (responseType == 'success') {\r\n                const conceptsForNavBar = data.data.data;\r\n                if (conceptsForNavBar.length > 0) {\r\n                    conceptsForNavBar.map(concept => {\r\n                        return result.push({ label: concept.name, value: concept.name, id: concept.id, category: \"Concept\", color: \"#000000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n        //     request(options, function L(error, response, body) {\r\n        //         // console.log(\"Options\")\r\n        //         let data = JSON.parse(body);\r\n\r\n        //         if (error === null && body.error == undefined) {\r\n        //             if (data.length > 0) {\r\n        //                 let j = 0;\r\n        //                 data.map(part => {\r\n        //                     returndata[j] = { label: part.discrete_concept_name, value: part.discrete_concept_name, id: part.discrete_concept_name_id, image: part.discrete_concept_name_image, category: \"Concept\", color: \"#000000\" };\r\n        //                     j++;\r\n        //                 })\r\n        //                 dispatch({\r\n        //                     type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                     payload: returndata\r\n        //                 })\r\n        //             }\r\n        //             else {\r\n        //                 dispatch({\r\n        //                     type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                     payload: [],\r\n        //                 })\r\n        //             }\r\n        //         }\r\n        //         else {\r\n        //             dispatch({\r\n        //                 type: \"CONCEPTS_TRIMMED_FOR_NAVBAR\",\r\n        //                 payload: [],\r\n        //             })\r\n        //         }\r\n        //     });\r\n        // }\r\n    }\r\n}\r\nexport function prefetchConceptClustersForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/conceptClusters?fields=id+name+pictureLink').then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                const conceptClustersForNavBar = data.data.data;\r\n                if (conceptClustersForNavBar.length > 0) {\r\n                    conceptClustersForNavBar.map(conceptCluster => {\r\n                        result.push({ label: conceptCluster.name, value: conceptCluster.name, id: conceptCluster.id, category: \"Concept Cluster\", color: \"#FF0000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function prefetchAuthorsForNavbar() {\r\n    let returndata = [];\r\n    let query = `SELECT first_name, last_name, id, dob, dod, picture_link FROM author `;\r\n    var options = {\r\n        method: 'GET',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/authors/',\r\n        form: { query: query }\r\n    };\r\n    return dispatch => {\r\n        request(options, function L(error, response, body) {\r\n            // console.log(\"Options\")\r\n            let data = JSON.parse(body);\r\n            if (error === null && body.error == undefined) {\r\n                if (data.data.length > 0) {\r\n                    let j = 0;\r\n                    data.data.map(part => {\r\n                        let label = part.firstName + \" \" + part.lastName;\r\n                        let value = label;\r\n                        let id = part.id;\r\n                        let born = part.dob;\r\n                        let died = part.dod;\r\n                        let img = part.picturelink;\r\n                        returndata[j] = { label, value, id, born, died, img, page: \"Authors\", category: \"Author\", color: \"#A52A2A\" };\r\n                        j++;\r\n                    })\r\n                    dispatch({\r\n                        type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                        payload: returndata\r\n                    })\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                        payload: [],\r\n                    })\r\n                }\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHORS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport function prefetchAuthorClustersForNavbar() {\r\n    let returndata = [];\r\n    let query = `SELECT * FROM Conceptionary.author_relationary_distinct_groupings`;\r\n    var options = {\r\n        method: 'POST',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/authors',\r\n        headers:\r\n        {\r\n            'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n            'cache-control': 'no-cache',\r\n            'content-type': 'application/x-www-form-urlencoded'\r\n        },\r\n        form: { query: query }\r\n    };\r\n    // console.log(\"Hi\")\r\n    return dispatch => {\r\n        request(options, function L(error, response, body) {\r\n            // console.log(\"Options\")\r\n            let data = JSON.parse(body);\r\n\r\n            if (error === null && body.error == undefined) {\r\n                let query1 = `SELECT * FROM Conceptionary.author_relationary_supra where author_relationary_supra.categories is null;`;\r\n                // console.log(\"Query in getAutherClusterAsynch\", query);\r\n                var options1 = {\r\n                    method: 'POST',\r\n                    url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n                    headers:\r\n                    {\r\n                        'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n                        'cache-control': 'no-cache',\r\n                        'content-type': 'application/x-www-form-urlencoded'\r\n                    },\r\n                    form: { query: query1 }\r\n                };\r\n                request(options1, function L(error1, response1, body1) {\r\n                    let data1 = JSON.parse(body1);\r\n                    if (error1 === null && body1.error == undefined) {\r\n                        if (data.length > 0) {\r\n                            // console.log(\"data\", data);\r\n                            let j = 0;\r\n\r\n                            data.map(part => {\r\n                                let label = part.distinct_grouping;\r\n                                let value = label;\r\n                                let id = part.distinct_grouping_id;\r\n                                let search_display = part.search_display;\r\n                                let photograph = part.photograph;\r\n                                returndata[j] = { label, value, id, search_display, photograph, category: \"Author Cluster\", color: \"#800080\" };\r\n                                j++;\r\n                            })\r\n                        }\r\n                        if (data1.length > 0) {\r\n                            // console.log(\"Data1 \", data1)\r\n                            data1.map(part => {\r\n                                // console.log(\"@\");\r\n                                let label = part.author_supra;\r\n                                let value = label;\r\n                                let id = part.author_supra_id;\r\n                                let search_display = part.search_display;\r\n                                let categories = part.categories;\r\n                                let author_relationary_image = part.author_relationary_image;\r\n                                let via = \"supra\"\r\n                                returndata.push({ label, value, id, search_display, categories, author_relationary_image, via, category: \"Author Cluster\", color: \"#800080\" });\r\n                            })\r\n                            // console.log(\"Return data\", returndata)\r\n                            if (returndata.length > 0) {\r\n                                dispatch({\r\n                                    type: \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                                    payload: returndata\r\n                                })\r\n                            }\r\n                            else {\r\n                                dispatch({\r\n                                    type: \"AUTHORS_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                                    payload: [],\r\n                                })\r\n                            }\r\n                        }\r\n                        // console.log(\"return data authorCluster\", returndata);\r\n                    }\r\n                });\r\n\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\nexport function getConcepts() {\r\n    let query = \"Select discrete_concept_name,discrete_concept_name_id from Conceptionary.concept_discrete;\"\r\n\r\n    var options = {\r\n        method: 'POST',\r\n        url: 'http://3.84.7.245:3000/api/rest/v1/concepts',\r\n        headers:\r\n        {\r\n            'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n            'cache-control': 'no-cache',\r\n            'content-type': 'application/x-www-form-urlencoded'\r\n        },\r\n        form: { query: query }\r\n    };\r\n    return dispatch => {\r\n        request(options, function (error, response, body) {\r\n            // console.log(\"Error is :\", error);\r\n            let data = JSON.parse(body);\r\n            // console.log(\"Gulzain Re/sponse\", response);\r\n            // console.log(\"BODY_________\", data);\r\n            let returndata = [];\r\n            if (error === null && body.error == undefined) {\r\n                if (data.length > 0) {\r\n                    let j = 0;\r\n                    data.map(part => {\r\n                        returndata[j] = { label: part.discrete_concept_name, value: part.discrete_concept_name, id: part.discrete_concept_name_id };\r\n                        j++;\r\n                    })\r\n                    dispatch({\r\n                        type: \"GET_CONCEPTS_NAMES_NAVBAR\",\r\n                        payload: returndata,\r\n\r\n                    })\r\n                }\r\n            }\r\n\r\n            // if (returndata.length > 0) {\r\n            //     console.log(\"return Data\", returndata);\r\n            //     dispatch({\r\n            //         type: \"GET_RELATIONARY_SUPRA_ITEMS_NAVBAR\",\r\n            //         payload: returndata,\r\n\r\n            //     })\r\n            // }\r\n\r\n            // for (var i = 0; i < parts.length; i += 1) {\r\n            //     relationArray.push(\"\\\"\" + parts[i].relationary_supra.replaceAll(\"\\'\", \"\\\\\\'\") + \"\\\"\");\r\n            // }\r\n            // var myhtml = fs.readFileSync('splash.html');\r\n            // //console.log(termsArray);\r\n            // res.send(myhtml + \"<script>autocomplete(document.getElementById(\\\"myInput\\\"),[\" + termsArray + \"],[\" + termsArray + \"]);</script>\" + \"<script>autocomplete(document.getElementById(\\\"myAuthorInput\\\"),[\" + authorArray + \"],[\" + authorArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"groupInput\\\"),[\" + groupArray + \"],[\" + valArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"myListInput\\\"),[\" + listArray + \"],[\" + listArray + \"]);</script>\" +\r\n            //     \"<script>autocomplete(document.getElementById(\\\"myRelationInput\\\"),[\" + relationArray + \"],[\" + relationArray + \"]);</script>\");\r\n\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function prefetchAuthorGroupsForNavbar() {\r\n    return dispatch => {\r\n        const result = [];\r\n        axios.get('http://3.84.7.245:3000/api/rest/v1/authorGroups/all').then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const authroGroupsNavbar = data.data.data;\r\n                console.log(data.data.data)\r\n                if (authroGroupsNavbar.length > 0) {\r\n                    authroGroupsNavbar.map(conceptCluster => {\r\n                        result.push({ label: conceptCluster.name, value: conceptCluster.name, id: conceptCluster.id, category: \"Concept Cluster\", color: \"#FF0000\" })\r\n                    })\r\n                }\r\n                dispatch({\r\n                    type: \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: result\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\",\r\n                    payload: [],\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport function getAuthorGroups(name, data, callback) {\r\n\r\n    console.log(data)\r\n\r\n    if (name) {\r\n\r\n        if (data.length > 0) {\r\n            let results = [];\r\n            for (let i = 0; i < data.length; i++) {\r\n                if (data[i].label.toLowerCase().startsWith(name.toLowerCase())) {\r\n                    if (results.length < 9) {\r\n                        results.push(data[i]);\r\n                    }\r\n                    else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            callback(null, results);\r\n        }\r\n        else {\r\n            callback(null, []);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport function login(account) {\r\n    return (dispatch) => {\r\n        let obj = {};\r\n\r\n        obj.username = account.Email;\r\n        obj.password = account.Password\r\n\r\n        dispatch(loginRequest());\r\n\r\n        //let accountJSON = JSON.stringify(obj);\r\n        \r\n        return axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/login`, obj, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'accept': 'application/json'\r\n            }\r\n        }).then((response) => {\r\n            let res = JSON.parse(JSON.stringify(response));\r\n            console.log(res)\r\n            console.log(res.data.success)\r\n            if (res.data.success) {\r\n                dispatch(loginSuccess(res.data.user));\r\n\r\n            } else {\r\n                dispatch(loginFailed());\r\n            }\r\n        }).catch(e => {\r\n            dispatch(loginFailed());\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function loginRequest() {\r\n    return {\r\n        type: 'LOGIN_REQUEST'\r\n    }\r\n}\r\n\r\nexport function loginSuccess(userInfo) {\r\n    return {\r\n        type: \"LOGIN_SUCCESS\",\r\n        userInfo: userInfo\r\n    }\r\n}\r\n\r\nexport function loginFailed() {\r\n    return {\r\n        type: \"LOGIN_FAILURE\"\r\n    }\r\n}\r\n\r\n//Logout \r\n\r\n\r\nexport function logout() {\r\n    return {\r\n        type: \"LOGOUT\"\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function signup(account) {\r\n    return (dispatch) => {\r\n        let obj = {};\r\n\r\n        obj.username = account.Username;\r\n        obj.email = account.Email;\r\n        obj.password = account.Password\r\n\r\n        let temp = {};\r\n        temp[\"User\"] = obj;\r\n\r\n\r\n\r\n        dispatch(signupRequest());\r\n        //console.log(accountJSON);\r\n        //let accountJSON = temp;\r\n\r\n        return axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/users`, temp, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'accept': 'application/json'\r\n            }\r\n        }).then((response) => {\r\n            let res = JSON.parse(JSON.stringify(response));\r\n            console.log(res)\r\n            // console.log(res.data.responseType==='success')\r\n            if (res.data.responseType === 'success') {\r\n                dispatch(signupSuccess(res.data.data));\r\n            } else {\r\n                dispatch(signupFailed());\r\n            }\r\n        }).catch(e => {\r\n            dispatch(signupFailed());\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function signupRequest() {\r\n    return {\r\n        type: 'SIGNUP_REQUEST'\r\n    }\r\n}\r\n\r\n\r\nexport function signupSuccess(userInfo) {\r\n    return {\r\n        type: \"SIGNUP_SUCCESS\",\r\n        userInfo: userInfo\r\n    }\r\n}\r\n\r\nexport function signupFailed() {\r\n    return {\r\n        type: \"SIGNUP_FAILURE\"\r\n    }\r\n}\r\n","import Axios from \"axios\";\r\nexport function getAuthorGroups(filters){\r\n    let filterobj = {};\r\n    filterobj.filters = filters;\r\n    return new Promise((resolve, reject) => {\r\n        Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups`, filterobj)\r\n            .then(data => {\r\n                resolve(data.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    });\r\n}","import React, { Component } from 'react';\r\n//import { ShareButton } from \"react-custom-share\";\r\nimport { FacebookProvider, Share } from 'react-facebook';\r\nimport ShareLink from 'react-twitter-share-link'\r\n\r\nimport {\r\n    FacebookIcon,TwitterIcon\r\n} from 'react-share';\r\nimport { Helmet } from \"react-helmet\";\r\nimport TwitterSharedButton from './TwitterSharedButton';\r\nclass ShareButtons extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n          show:false\r\n        }\r\n    }\r\n    render() {\r\n      \r\n        const { data,title,author } = this.props;\r\n        const link = `http://conceptionary.io/perspective/${data.id}`;\r\n        const tweetLink=\" \";\r\n        let text=\" \";\r\n        if(data.pronoun!==null && data.pronoun!==undefined)\r\n        {\r\n          text=data.pronoun.charAt(0).toUpperCase() + data.pronoun.slice(1)+\" \"+title.charAt(0).toUpperCase() + title.slice(1)+\" is \"+data.description+\"\\n- \"+author+ \"   conceptionary.io\";\r\n        }\r\n        else\r\n        text=title.charAt(0).toUpperCase() + title.slice(1)+\" is \"+data.description+\"\\n- \"+author+ \"   conceptionary.io\";\r\n        return (\r\n          <div >\r\n            <FacebookProvider appId=\"930857800581355\">\r\n              <Share href={link}>\r\n                {({ handleClick}) => (\r\n                \r\n              <button type=\"button\" onMouseDown={()=>{this.setState({show:true})}} onClick={handleClick} style={{backgroundColor: 'transparent',border: 'none'}}> <FacebookIcon size={32} round={true} /></button>\r\n                )}\r\n              </Share>\r\n            </FacebookProvider>\r\n            <ShareLink link={tweetLink} text={text}>\r\n              {link => (\r\n                <a href={link} style={{display:\"inline-block\"}} target='_blank'> <TwitterIcon size={32} round={true} /></a>\r\n              )}\r\n          </ShareLink>\r\n\r\n         {this.state.show && <Helmet>\r\n            {/* <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${data.id}`} />\r\n            <meta property=\"og:type\" content=\"website\" />\r\n            <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n            <meta property=\"og:title\" content={title} />\r\n            <meta property=\"og:description\" content={data.description} />\r\n            <meta property=\"og:image\" content={`http://conceptionary.io/images/${data.id}.png`} />\r\n        \r\n          \r\n\r\n            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n            <meta name=\"Twitter:site\" content=\"Conceptionary\" />\r\n            <meta name=\"twitter:creator\" content=\"Conceptionary.com\" />\r\n            <meta name=\"twitter:title\" content={title} />\r\n            <meta name=\"twitter:description\" content={data.description} />\r\n            <meta name=\"twitter:image\" content={`http://conceptionary.io/images/${data.id}.png`} /> */}\r\n\r\n          {/* <meta name=\"description\" content={data.description}/>\r\n          <meta property=\"og:site_name\" content=\"Conceptionary\" />\r\n          <meta property=\"og:title\" content={title} />\r\n          <meta property=\"og:type\" content=\"article\" />\r\n          <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${data.id}`} />\r\n          <meta property=\"og:description\" content={data.description} />\r\n          <meta property=\"twitter:card\" content=\"summary\" />\r\n          <meta property=\"twitter:title\" content={data.title} />\r\n          <meta property=\"twitter:description\" content={data.description} />\r\n          <meta property=\"twitter:domain\" content=\"http://conceptionary.io\" />\r\n          <meta property=\"og:image\" content={`http://conceptionary.io/images/${data.id}.png`} />\r\n          <meta property=\"og:image:type\" content=\"image/jpeg\" />\r\n          <meta property=\"og:image:width\" content=\"200\" />\r\n          <meta property=\"og:image:height\" content=\"200\" />\r\n          <meta property=\"twitter:image:src\" content={`http://conceptionary.io/images/${data.id}.png`} /> */}\r\n\r\n\r\n        </Helmet>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n          </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default ShareButtons;\r\n","import React, { Component } from 'react';\r\n//import { ShareButton } from \"react-custom-share\";\r\nimport ShareLink from 'react-twitter-share-link'\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nimport './TwitterShareButton.css'\r\nimport {\r\n    TwitterShareButton,TwitterIcon\r\n} from 'react-share';\r\nclass TwitterSharedButton extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n   \r\n    render() {\r\n        const { id } = this.props;\r\n        const links = `http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${id}`\r\n        return (\r\n        //     <ShareLink link={links}>\r\n        //         {link => (\r\n        //         <a href={link} target='_blank'>Share this on Twitter</a>\r\n        //         )}\r\n        //  </ShareLink>\r\n            <div>\r\n            <Helmet>\r\n                <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                <meta name=\"twitter:site\" content=\"@nytimes\" />\r\n                <meta name=\"twitter:creator\" content=\"@SarahMaslinNir\" />\r\n                <meta name=\"twitter:title\" content=\"Parade of Fans for Houston’s Funeral\" />\r\n                <meta name=\"twitter:description\" content=\"NEWARK - The guest list and parade of limousines with celebrities emerging from them seemed more suited to a red carpet event in Hollywood or New York than than a gritty stretch of Sussex Avenue near the former site of the James M. Baxter Terrace public housing project here.\" />\r\n                <meta name=\"twitter:image\" content=\"http://graphics8.nytimes.com/images/2012/02/19/us/19whitney-span/19whitney-span-articleLarge.jpg\" />\r\n            </Helmet>\r\n        <TwitterShareButton\r\n            url={links}\r\n            title=\"Hello World. \\n My name is Jennifer. \\n What is your name?\"\r\n            className=\"Demo__some-network__share-button\">\r\n            <TwitterIcon\r\n            size={32}\r\n            round />\r\n      </TwitterShareButton>\r\n      </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default TwitterSharedButton;\r\n","import React, { Component } from 'react';\r\nimport ShareButtons from '../../SocialShareButtons/ShareButtons';\r\nimport './Context.css'\r\nclass Context extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visibility: 'none',\r\n        }\r\n    }\r\n    render() {\r\n        const { data, authors, keywords } = this.props;\r\n        return (\r\n            <div id={authors[data.Author].lastName} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\", textAlign: 'justify' }} >\r\n                <b style={{ fontSize: '18px', textTransform: 'capitalize' }}>{data.pronoun}{\" \"} {this.props.selectedOption.label}</b>{\" is \"}{data.description}\r\n                <div onClick={() => this.props.onAuthorClick({ author_first: authors[data.Author].firstName, author_last: authors[data.Author].lastName, born: authors[data.Author].dob, died: authors[data.Author].dod, auth_id: data.Author })} style={{ color: \"red\", cursor: \"pointer\" }}><b>{authors[data.Author].firstName}{\" \"}{authors[data.Author].lastName}</b></div>\r\n                <div>\r\n                   {\r\n                        data.Keywords && data.Keywords.length > 0 && data.Keywords.map(k => {\r\n                            return <span style={{ color: \"grey\",fontSize:13 }}>{data.Keywords.length > 1 && (keywords[k].name + \" | \")}{data.Keywords.length < 2 && (keywords[k].name + \" \")}</span>\r\n                        })\r\n                    }\r\n                </div>\r\n                <div className=\"row\" >\r\n                    <div className=\"col-md-5 col-sm-5 col-xs-5 pt-3\">\r\n                        <ShareButtons data={data} title={this.props.selectedOption.label} author={authors[data.Author].firstName+\" \"+authors[data.Author].lastName}></ShareButtons>\r\n                    </div>\r\n                    <div className=\"col-md-7 col-sm-7 col-xs-7 text-right  \">\r\n                        {/* <div className=\"text-right\" > */}\r\n                        <i style={{ color: data.isLike ? \"red\" : \"grey\", fontSize: '20px' }} className=\"fa fa-thumbs-o-up \" aria-hidden=\"true\" onClick={() => this.props.onLikeClick(data.id)}></i>&nbsp;[{data.loves ? this.props.data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton\" onClick={() => {\r\n                            this.setState({\r\n                                visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                // id: data.id,\r\n                            })\r\n                        }} style={{ cursor: \"pointer\" }}><span className=\"fa fa-ellipsis-h\" id='ellipseCircle' style={{ fontSize: '10px', color: 'black' }}></span></span>\r\n\r\n                        {/* </div> */}\r\n                    </div>\r\n                    <div class=\"col-md-12 col-sm-12 col-xs-7\">\r\n                        <div id={data.id} style={{ marginTop: \"20px\", display: [this.state.visibility], backgroundColor: 'center' }} >{this.props.data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{this.props.data.citation}</div></div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                {/* <div className=\"text-right\" >\r\n                    <i style={{ color: data.isLike ? \"red\" : \"grey\",fontSize:'20px' }} className=\"fa fa-thumbs-o-up \" aria-hidden=\"true\" onClick={() => this.props.onLikeClick(data.id)}></i>&nbsp;[{data.loves ? this.props.data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton\" onClick={() => {\r\n                        this.setState({\r\n                            visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                            // id: data.id,\r\n                        })\r\n                    }} style={{ cursor: \"pointer\" }}><i className=\"fa fa-ellipsis-h\" style={{fontSize:'20px'}}></i></span>\r\n                <div id={data.id} style={{ marginTop: \"20px\", display: [this.state.visibility] }} >{this.props.data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{this.props.data.citation}</div></div>\r\n                \r\n                </div>\r\n                \r\n                <div>\r\n                    <ShareButtons id={data.id}></ShareButtons>\r\n                </div> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// Context.PropTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n//     selectedOption: PropTypes.object.isRequired,\r\n//     onAuthorClick: PropTypes.func.isRequired,\r\n// }\r\nexport default Context;","const keywordsSorter = (a, b) => {\r\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n        return -1;\r\n    }\r\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nexport default keywordsSorter;","const conceptsSorter = (a, b) => {\r\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n        return -1;\r\n    }\r\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nexport default conceptsSorter;","import keywordSorterFunction from '../utils/keywordsSorterFunction';\r\nimport conceptsSorter from '../utils/conceptsSorterFunction';\r\nexport function getUniqueKeywords(state) {\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;\r\n    let perspectiveIds = state.concepts.perspectiveIds;\r\n    let keywords = state.concepts.keywords;\r\n    if (perspectivesRelations && perspectiveIds && perspectiveIds.length > 0 && keywords) {\r\n        const uniqueKeysWords = [];\r\n        const uniqueKeywordNamesOnly = [];\r\n        perspectiveIds.forEach(id => {\r\n            perspectivesRelations[id].Keywords.forEach(keyword => {\r\n                keywords[keyword].count = 1;\r\n                if (!uniqueKeywordNamesOnly.includes(keywords[keyword].name)) {\r\n                    uniqueKeywordNamesOnly.push(keywords[keyword].name)\r\n                    uniqueKeysWords.push(keywords[keyword])\r\n                }\r\n                else {\r\n                    for (let i = 1; i < uniqueKeysWords.length; i++) {\r\n                        if (uniqueKeysWords[i].id === keywords[keyword].id) {\r\n                            console.log(\"\")\r\n                            uniqueKeysWords[i].count = uniqueKeysWords[i].count + 1;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        console.log(\"Return Keywords\",uniqueKeysWords.sort(keywordSorterFunction));\r\n        return uniqueKeysWords.sort(keywordSorterFunction);\r\n    } else {\r\n        return []\r\n    }\r\n}\r\n\r\nexport function getUniqueSortedAuthors(state) {\r\n    let perspectiveids = state.concepts.perspectiveIds;\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;;\r\n    let authors = state.concepts.authors;\r\n    if (perspectiveids && perspectiveids.length > 0 && authors && perspectivesRelations) {\r\n        let uniqueAuthorWithDetails = [];\r\n        let uniqueAuthorNames = [];\r\n        perspectiveids.forEach(id => {\r\n            if (!(uniqueAuthorNames.indexOf((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName)) > -1)) {\r\n                uniqueAuthorNames.push((authors[perspectivesRelations[id].Author].firstName + authors[perspectivesRelations[id].Author].lastName));\r\n                uniqueAuthorWithDetails.push(authors[perspectivesRelations[id].Author]);\r\n            }\r\n        })\r\n        return uniqueAuthorWithDetails.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        });\r\n    }\r\n}\r\n\r\nexport function getUniqueConcept(state) {\r\n    let author = state.author.author;\r\n    let perspectives = state.author.authorPerspectives;\r\n    let concepts = state.author.concepts;\r\n    let allow=false;\r\n    if(author.Perspectives){\r\n        let temp=[];\r\n        if(author.Perspectives.length==Object.keys(perspectives).length)\r\n        {\r\n            allow=true\r\n        }\r\n    }\r\n    if(allow)\r\n    {\r\n        if (author.Perspectives && author.Perspectives.length > 0 && perspectives) {\r\n            let uniqueConcecptObjects = [];\r\n            let helperUniqueIds = [];\r\n            author.Perspectives.forEach(element => {\r\n                let count = 0;\r\n                if (!(helperUniqueIds.includes(perspectives[element].ConceptId))) {\r\n                    count += 1;\r\n                    let discrete_author_name_id = perspectives[element].ConceptId;\r\n                    let discrete_author_name = concepts[perspectives[element].ConceptId].name;\r\n                    helperUniqueIds.push(perspectives[element].ConceptId)\r\n                    uniqueConcecptObjects.push({ discrete_author_name_id, discrete_author_name, count })\r\n                }\r\n                else {\r\n                    uniqueConcecptObjects.forEach(object => {\r\n                        if (object.discrete_author_name_id == perspectives[element].ConceptId) {\r\n                            object.count += 1;\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n            // uniqueConcecptObjects.sort(function (a, b) {\r\n            //     var textA = a.discrete_author_name.toUpperCase();\r\n            //     var textB = b.discrete_author_name.toUpperCase();\r\n            //     return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n            // });\r\n            return uniqueConcecptObjects;\r\n        }\r\n    }\r\n    // let temp=[{count:1,discrete_author_name: \"abreaction\",discrete_author_name_id: 57}]\r\n    //         return temp;\r\n}\r\n\r\nexport function getSortedPerspectivesByConceptName(state) {\r\n    let author = state.author.author;\r\n    let perspectives = state.author.authorPerspectives;\r\n    let concepts = state.author.concepts;\r\n\r\n    if (author.Perspectives   && perspectives) {\r\n        let tempPerspectives = [];\r\n        author.Perspectives.forEach(id => {\r\n            tempPerspectives.push(perspectives[id]);\r\n        })\r\n        \r\n        // console.log(\"Checking state\",tempPerspectives);\r\n        console.log(\"sending back\",tempPerspectives.length)\r\n        return tempPerspectives;\r\n    }\r\n}\r\nexport function getSortedPerspectivesByLikes(perspectives) {\r\n    if (!perspectives)\r\n        perspectives = [];\r\n    return perspectives.sort((a, b) => {\r\n        if (!a.loves)\r\n            a.loves = 0;\r\n        if (!b.loves)\r\n            b.loves = 0;\r\n        return a.loves > b.loves ? -1 : 0;\r\n\r\n    })\r\n}\r\nexport function getUniqueAuthorBooks(state) {\r\n    let author = state.author.author;\r\n    let books = state.author.authorBooks;\r\n    if (author && author.Books && author.Books.length > 0 && books) {\r\n        let bookids = author.Books;\r\n        let uniqueBookNameWithId = [];\r\n        let uniqueBookIds = [];\r\n        bookids.forEach(bookid => {\r\n            if (!(uniqueBookIds.indexOf(books[bookid].id) > -1)) {\r\n                uniqueBookIds.push(books[bookid].id);\r\n                let discrete_book_id = books[bookid].id;\r\n                let title = books[bookid].title;\r\n                uniqueBookNameWithId.push({ discrete_book_id, title });\r\n            }\r\n        })\r\n        return uniqueBookNameWithId;\r\n    }\r\n}\r\nexport function getAuthorBioData(state) {\r\n    let authorGroups = state.author.authorGroups;\r\n    let authorBioHeadings = state.author.authorBioHeadings;\r\n    let author = state.author.author;\r\n    if (author && author.AuthorGroups && author.AuthorGroups.length > 0) {\r\n        let data = [];\r\n        let uniqueBioHeadings = [];\r\n        author.AuthorGroups.map(id => {\r\n            if (authorGroups[id].AuthorBioHeading) {\r\n                if (!uniqueBioHeadings.includes(authorBioHeadings[authorGroups[id].AuthorBioHeading].name)) {\r\n                    uniqueBioHeadings.push(authorBioHeadings[authorGroups[id].AuthorBioHeading].name);\r\n                    data.push({ heading: authorBioHeadings[authorGroups[id].AuthorBioHeading].name, values: [{ name: authorGroups[id].name, id: authorGroups[id].id }] });\r\n                }\r\n                else {\r\n                    data.forEach(element => {\r\n                        if (element.heading === authorBioHeadings[authorGroups[id].AuthorBioHeading].name) {\r\n                            element.values.push({ name: authorGroups[id].name, id: authorGroups[id].id });\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        })\r\n        return data;\r\n    }\r\n    return;\r\n}\r\n\r\nexport function getUniqueSortedConceptsFromConceptCluster(state) {\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    let concepts = state.conceptClusters.concepts;\r\n    if (conceptCluster && conceptCluster.Concepts && conceptCluster.Concepts.length > 0 && concepts) {\r\n        let uniqueConceptNames = [];\r\n        let sortedUniqueConcepts = [];\r\n        conceptCluster.Concepts.map(id => {\r\n            if (!uniqueConceptNames.includes(concepts[id].name)) {\r\n                uniqueConceptNames.push(concepts[id].name);\r\n                sortedUniqueConcepts.push(concepts[id]);\r\n            }\r\n        })\r\n        return sortedUniqueConcepts.sort((a, b) => {\r\n            let conceptNameA = a.name.toLowerCase();\r\n            let conceptNameB = b.name.toLowerCase();\r\n            return conceptNameA < conceptNameB ? -1 : (conceptNameA > conceptNameB) ? 1 : 0;\r\n        })\r\n    }\r\n}\r\n\r\nexport function getPerspectivesFromConceptCluster(state) {\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    let concepts = state.conceptClusters.concepts;\r\n    let perspective = state.conceptClusters.perspective;\r\n    let authorClicked = state.conceptClusters.authorClicked;\r\n    let conceptClicked = state.conceptClusters.conceptClicked;\r\n    let authors = state.conceptClusters.authors;\r\n    if (conceptCluster && conceptCluster.Concepts && conceptCluster.Concepts.length > 0 && concepts && perspective) {\r\n        const perspectives = [];\r\n        let conceptids = conceptCluster.Concepts;\r\n        conceptids.forEach(id => {\r\n            perspectives.push(...concepts[id].Perspectives.map(perspectiveId => {\r\n                perspective[perspectiveId].ConceptName = concepts[id].name;\r\n                return perspective[perspectiveId];\r\n            }));\r\n        })\r\n        if (authorClicked) {\r\n            perspectives.sort(function (a, b) {\r\n                var textA = authors[a.Author].lastName.toUpperCase();\r\n                var textB = authors[b.Author].lastName.toUpperCase();\r\n                return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n            });\r\n        }\r\n        else if (conceptClicked) {\r\n            perspectives.sort(function (a, b) {\r\n                var authorA = authors[a.Author].lastName.toUpperCase();\r\n                var authorB = authors[b.Author].lastName.toUpperCase();\r\n                var textA = a.ConceptName.toUpperCase();\r\n                var textB = b.ConceptName.toUpperCase();\r\n                if (textA === textB) {\r\n                    return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n                }\r\n                else {\r\n                    return (textA < textB) ? -1 : 1;\r\n                }\r\n            });\r\n\r\n        }\r\n        return perspectives;\r\n    }\r\n}\r\n\r\nexport function getUniqueAuthorsFromConceptCluster(state) {\r\n    let concepts = state.conceptClusters.concepts;\r\n    let authors = state.conceptClusters.authors;\r\n    let perspective = state.conceptClusters.perspective;\r\n    let conceptCluster = state.conceptClusters.conceptCluster;\r\n    if (conceptCluster && conceptCluster.Concepts && concepts && perspective && authors) {\r\n        const conceptids = conceptCluster.Concepts;\r\n        const uniqueAuthors = [];\r\n        const uniqueAuthorNames = [];\r\n        conceptids.forEach(id => {\r\n            concepts[id].Perspectives.forEach(perspecid => {\r\n                if (!uniqueAuthorNames.includes(perspective[perspecid].AuthorId)) {\r\n                    uniqueAuthorNames.push(perspective[perspecid].AuthorId)\r\n                    uniqueAuthors.push({\r\n                        id: perspective[perspecid].AuthorId,\r\n                        firstName: authors[perspective[perspecid].Author].firstName,\r\n                        lastName: authors[perspective[perspecid].Author].lastName\r\n                    })\r\n                }\r\n            })\r\n        })\r\n        uniqueAuthors.sort(function (a, b) {\r\n            let authorALastName = a.lastName.toUpperCase();\r\n            let authorBLastName = b.lastName.toUpperCase();\r\n            return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        })\r\n        return uniqueAuthors;\r\n    }\r\n}\r\n\r\nexport function getUniqueSortedConceptNameFromAuthorCluster(state) {\r\n    let perspectives = state.autherCluster.perspectives;\r\n    let authorCluster = state.autherCluster.authorCluster;\r\n    if (perspectives && perspectives.length > 0 && authorCluster) {\r\n        let uniqueConceptNames = [];\r\n        let uniqueConcepts = [];\r\n        perspectives.map(conceptid => {\r\n            if (!uniqueConceptNames.includes(authorCluster[conceptid].conceptName)) {\r\n                uniqueConceptNames.push(authorCluster[conceptid].conceptName);\r\n                uniqueConcepts.push({ name: authorCluster[conceptid].conceptName, id: authorCluster[conceptid].conceptId });\r\n            }\r\n        })\r\n        return uniqueConcepts.sort(conceptsSorter);\r\n    }\r\n}\r\n\r\nexport function getDynamicSortedAuthorClusterWithDetails(state) {\r\n    let perspectives = state.autherCluster.perspectives;\r\n    let authorCluster = state.autherCluster.authorCluster;\r\n    let authorClicked = authorCluster.authorClicked;\r\n    let conceptClicked = authorCluster.conceptClicked;\r\n    if (perspectives && perspectives.length > 0 && authorCluster) {\r\n        let copyAuthorClusterWithDetails = [];\r\n        perspectives.forEach(id => {\r\n            copyAuthorClusterWithDetails.push(authorCluster[id]);\r\n        })\r\n        if (authorClicked) {\r\n            copyAuthorClusterWithDetails.sort(function (a, b) {\r\n                var textA = a.authorLastName.toUpperCase();\r\n                var textB = b.authorLastName.toUpperCase();\r\n                return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n            });\r\n        }\r\n        else if (conceptClicked) {\r\n            copyAuthorClusterWithDetails.sort(function (a, b) {\r\n                var authorA = a.authorLastName.toUpperCase();\r\n                var authorB = b.authorLastName.toUpperCase();\r\n                var textA = a.conceptName.toUpperCase();\r\n                var textB = b.conceptName.toUpperCase();\r\n                if (textA === textB) {\r\n                    return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n                }\r\n                else {\r\n                    if (textA === \"CULTURE\") {\r\n                        console.log(\"not author sorting\");\r\n                    }\r\n                    else {\r\n                        if (textA === \"CULTURE\") {\r\n                            console.log(\"not author sorting\");\r\n                        }\r\n                        return (textA < textB) ? -1 : 1;\r\n                    }\r\n                    // return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n                }\r\n            });\r\n        }\r\n        return copyAuthorClusterWithDetails;\r\n    }\r\n}\r\n\r\nexport function getSortedAuthorClusterWithDetailsByAuthorLast(state) {\r\n    let clustersWithDetails = state.autherCluster.authorClustersWithDetails;\r\n    if (clustersWithDetails && clustersWithDetails.length > 0) {\r\n        let copyAuthorClusterWithDetails = [...clustersWithDetails];\r\n        copyAuthorClusterWithDetails.sort(function (a, b) {\r\n            var textA = a.authorLastName.toUpperCase();\r\n            var textB = b.authorLastName.toUpperCase();\r\n            return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n        });\r\n        return copyAuthorClusterWithDetails;\r\n    }\r\n}\r\n\r\nexport function getFilteredPerspectives(state) {\r\n    let perspectivesRelations = state.concepts.perspectivesRelations;\r\n    let authors = state.concepts.authors;\r\n    let perspectivesByAuthor = state.concepts.perspectivesByAuthor;\r\n    let sortedAuthorIds = state.concepts.sortedAuthorIds\r\n    \r\n    let normalizedPerspectives=state.concepts.normalizedPerspectives;\r\n    if (perspectivesRelations && authors && sortedAuthorIds && sortedAuthorIds.length > 0) {\r\n        let result = [];\r\n        // console.log(state)\r\n        // if (this.state.sortBy == 'keyword') {\r\n        //     let filteredPerspectives = [];\r\n        //     let nonFilteredPerspectives = [];\r\n        //     perspectivesDetail.forEach(perspective => {\r\n        //         let includes = false;\r\n        //         if (perspectivesRelations[perspective.id]) {\r\n        //             perspectivesRelations[perspective.id].Keywords.forEach(k => {\r\n        //                 if (k == this.state.sortByKeywordId) {\r\n        //                     perspective.Author = perspectivesRelations[perspective.id].Author;\r\n        //                     perspective.Keywords = perspectivesRelations[perspective.id].Keywords;\r\n        //                     includes = true;\r\n        //                 }\r\n        //             });\r\n        //             includes === true ? filteredPerspectives.push(perspective) : nonFilteredPerspectives.push(perspective);\r\n        //         }\r\n        //     });\r\n        //     result = filteredPerspectives.sort(function (a, b) {\r\n        //         let authorALastName = authors[a.Author].lastName.toUpperCase();\r\n        //         let authorBLastName = authors[b.Author].lastName.toUpperCase();\r\n        //         return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        //     });\r\n        //     return result;\r\n        // }\r\n        // else {\r\n        //     if (this.state.sortByAuthor) {\r\n        //         let includes = false;\r\n        //         for (let perspective of perspectivesDetail) {\r\n        //             if (perspectivesRelations[perspective.id]) {\r\n        //                 if (authors[perspectivesRelations[perspective.id].Author].lastName === this.state.sortByAuthor) {\r\n        //                     includes = true;\r\n        //                     break;\r\n        //                 }\r\n        //             }\r\n        //         }\r\n        //         if (includes) {\r\n        //             perspectivesDetail.forEach(perspective => {\r\n        //                 if (perspectivesRelations[perspective.id]) {\r\n        //                     perspective.Author = perspectivesRelations[perspective.id].Author;\r\n        //                     perspective.Keywords = perspectivesRelations[perspective.id].Keywords;\r\n        //                     result.push(perspective)\r\n        //                 }\r\n        //             })\r\n        //             result = result.sort(function (a, b) {\r\n        //                 let authorALastName = authors[a.Author].lastName.toUpperCase();\r\n        //                 let authorBLastName = authors[b.Author].lastName.toUpperCase();\r\n        //                 return (authorALastName < authorBLastName) ? -1 : (authorALastName > authorBLastName) ? 1 : 0;\r\n        //             })\r\n        //             return result;\r\n        //         } else {\r\n        //             let index = sortedAuthorIds.indexOf(this.state.authorId);\r\n        //             let authors = [];\r\n        //             // let beginners = sortedAuthorIds.slice(index - 5, index);\r\n        //             // let last = sortedAuthorIds.slice(index + 1, index + 5)\r\n        //             // authors.push(...beginners, sortedAuthorIds[index], ...last);\r\n        //             authors.push(sortedAuthorIds[index - 1], sortedAuthorIds[index], sortedAuthorIds[index + 1]);\r\n        //             this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true)\r\n        //         }\r\n        //     } else {\r\n        // if (perspectivesByAuthor[sortedAuthorIds[0]].length==0) {\r\n        //     let authors = sortedAuthorIds.slice(0, 5);\r\n        //     this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n        // }\r\n        if(state.concepts.sortByLikes)\r\n        {\r\n            let temp={};\r\n            console.log(\"checking\",normalizedPerspectives);\r\n            console.log(\"For\",perspectivesRelations)\r\n            normalizedPerspectives.map(temp => {\r\n                console.log(\"maoppp;aldjf\");\r\n                if(perspectivesRelations[temp.id])\r\n                {\r\n                    temp.Author=perspectivesRelations[temp.id].Author;\r\n                    temp.Keywords = perspectivesRelations[temp.id].Keywords;\r\n                    result.push(temp);\r\n                }\r\n            })\r\n        }\r\n        else\r\n        {\r\n            // console.log(\"Sorted Author Ids are\",sortedAuthorIds)\r\n            sortedAuthorIds.forEach(id => {\r\n                // console.log(\"id is \",id)\r\n                if (perspectivesByAuthor[id]) {\r\n                    \r\n                    // console.log(\"checking\",normalizedPerspectives);\r\n                    // console.log(\"For\",perspectivesRelations)\r\n                    // console.log(\"perspectives by authors\",perspectivesByAuthor)\r\n                    perspectivesByAuthor[id].forEach(p => {\r\n                        // console.log(\"checking\",p);\r\n                        let temp={};\r\n                        if (perspectivesRelations[p]) {\r\n                            temp=normalizedPerspectives[p]\r\n                            temp.Author = perspectivesRelations[p].Author;\r\n                            temp.Keywords = perspectivesRelations[p].Keywords;\r\n                            result.push(temp);\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        return result;\r\n    }\r\n    //}\r\n    // }\r\n\r\n}","import React, { Component } from 'react';\r\nimport Loader from '../LoaderComponent/Loader';\r\nimport ReactDOM from 'react-dom';\r\nimport AdSense from 'react-adsense';\r\nimport \"./ConceptsPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ReactLoading from 'react-loading';\r\nimport AdsComponent from '../AdComponent/AdComponent';\r\nimport loading from '../../../src/loading.gif';\r\nimport $ from \"jquery\";\r\nimport {\r\n    flushConceptState, getListRelatedByConceptId,\r\n    getConceptFromApi,\r\n    increasePerspectiveLike,\r\n    decreasePerspectiveLike,\r\n    sortByKeyword,\r\n    showAllPerspective,\r\n    sortByAuthorLast,\r\n    getConceptPerspectivesByAuthorLastName,\r\n    getConceptPerspectivesByLikes,\r\n    getConceptPerspectivesByKeywords,\r\n    getAllPerspectivesByConcept,\r\n    getPerspectivesByAuthors,\r\n    LoadByLikes\r\n} from \"../../actions/conceptsActions\";\r\nimport { setSelectedCategory, setSelectedItem, addTag } from \"../../actions/navbaractions\";\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport Context from \"./Context/Context\";\r\nimport { getFilteredPerspectives, getUniqueKeywords, getSortedPerspectivesByLikes } from '../../selectors';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nclass ConceptsPage extends Component {\r\n    a=1;\r\n    devo=false;\r\n    prevFirst=0;\r\n    prevSecond=0;\r\n    prevThird=0;\r\n    countDown=0;\r\n    countUp=0;\r\n    AutherNotClicked=true;\r\n    showAuthors=false\r\n\r\n    prevScroll=0;\r\n    \r\n    sortedByKewords=false\r\n    allowDownScrollCallBack=false;\r\n    \r\n\r\n    constructor(props) {\r\n    \r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            query: \"\",\r\n            filters: false,\r\n            apiLoading: this.props.concepts.apiLoading,\r\n            apiServerError: this.props.concepts.apiServerError,\r\n            apiNetworkError: this.props.concepts.apiNetworkError,\r\n            listRelatedData: this.props.concepts.listRelatedData,\r\n            listRelatedLoading: this.props.concepts.listRelatedLoading,\r\n            listRelatedServerError: this.props.concepts.listRelatedServerError,\r\n            listRelatedNetworkError: this.props.concepts.listRelatedNetworkError,\r\n            listRelated:true,\r\n            listRelatedRole: 'list',\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            perspectives: this.props.concepts.perspectives,\r\n            keywords: this.props.concepts.keywords,\r\n            concept: this.props.concepts.concept,\r\n            authors: this.props.concepts.authors,\r\n            sortedAuthors: this.props.concepts.sortedAuthors,\r\n            sortedKeywords: this.props.uniqueKeywords,\r\n            visibility: \"hidden\",\r\n            keywordId: null,\r\n            authorId: null,\r\n            id: \"\",\r\n            all: false,\r\n            sortByAuthor: null,\r\n            isLike: this.props.concepts.isLike,\r\n            filteredPerspectives: this.props.filteredPerspectives,\r\n            perspectiveLoading: false,\r\n            offset:0,\r\n            sortByLikes:false,\r\n            prevOffset:1000,\r\n            isScroll:true,\r\n        };\r\n        this.filterConceptDefinations = this.filterConceptDefinations.bind(this);\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onListClick = this.onListClick.bind(this);\r\n        this.onListRelatedClick = this.onListRelatedClick.bind(this);\r\n        this.onRelatedClick = this.onRelatedClick.bind(this);\r\n        this.toggleListRelated = this.toggleListRelated.bind(this);\r\n        this.scrollDownPerspectiveHandler = this.scrollDownPerspectiveHandler.bind(this);\r\n        this.scrollUpPerspectiveHandler = this.scrollUpPerspectiveHandler.bind(this);\r\n        this.onLikeClick = this.onLikeClick.bind(this);\r\n        this.handleScrollCallback = this.handleScrollCallback.bind(this);\r\n        this.handleScrollCallbackJQUERY = this.handleScrollCallbackJQUERY.bind(this);\r\n        this.loadPerspectivesByLikes=this.loadPerspectivesByLikes.bind(this)\r\n        this.loadByAuthor=this.loadByAuthor.bind(this)\r\n        this.handleThirdCallBack=this.handleThirdCallBack.bind(this);\r\n        this.handleFirstCallback=this.handleFirstCallback.bind(this);\r\n        this.handleSecondWheeel=this.handleSecondWheeel.bind(this);\r\n        this.handleFirstWheeel=this.handleFirstWheeel.bind(this);\r\n        this.handleThirdWheeel=this.handleThirdWheeel.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Concepts\") {\r\n                    let concept = {\r\n                        \"concept_id\": this.props.navbar.selectedOption.id,\r\n                        \"filters\": this.props.navbar.tags.map(tag => tag.id),\r\n                    };\r\n                    this.props.getConceptFromApi(concept);\r\n                    this.props.getListRelatedByConceptId(concept)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    handleScrollCallbackJQUERY()\r\n    {\r\n        // console.log(window.scrollTop);\r\n    }\r\n    onListRelatedClick(listRelated) {\r\n        let label = listRelated.relationary_supra;\r\n        let value = label;\r\n        let id = listRelated.relationary_thing_supra_id;\r\n        let category = \"Concept-Clusters\";\r\n        this.props.flushConceptState()\r\n        this.props.setSelectedItem({ label, value, id, category });\r\n    }\r\n    getConcept = (concept_name) => {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/concepts?name=${concept_name}`).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                let concept_name = this.props.match.params.name;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                this.setState({\r\n                    query: concept_name,\r\n                    filters: true\r\n                })\r\n                let result = await this.getConcept(concept_name);\r\n                let author_group = await getAuthorGroups(filters);\r\n                if (result) {\r\n                    this.props.addTag(author_group);\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                    });\r\n                } else {\r\n                    this.props.history.push('/Message');\r\n                }\r\n\r\n            } else {\r\n                let concept_name = this.props.match.params.name;\r\n                this.setState({\r\n                    query: concept_name\r\n                });\r\n                let result = await this.getConcept(concept_name);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                    })\r\n                } else {\r\n                    this.props.history.push('/Message');\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        console.log(\"Recieving new Props\");\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushConceptState();\r\n            this.setState({\r\n                apiLoading: nextProps.concepts.apiLoading,\r\n                apiServerError: nextProps.concepts.apiServerError,\r\n                apiNetworkError: nextProps.concepts.apiNetworkError,\r\n                conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n                conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                sortedAuthors: nextProps.concepts.sortedAuthors,\r\n                sortedKeywords: nextProps.uniqueKeywords,\r\n                concept: nextProps.concepts.concept,\r\n                authors: nextProps.concepts.authors,\r\n                keywords: nextProps.concepts.keywords,\r\n                listRelatedData: nextProps.concepts.listRelatedData,\r\n                listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n                listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n                listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n                loading: nextProps.concepts.loading,\r\n                filteredPerspectives: nextProps.filteredPerspectives\r\n                //page_no: nextProps.concepts.page_no\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n                this.setState({\r\n                    selectedOption: nextProps.navbar.selectedOption,\r\n                });\r\n\r\n                let concept = {\r\n                    \"concept_id\": nextProps.navbar.selectedOption.id,\r\n                    \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n                };\r\n                this.props.getConceptFromApi(concept)\r\n                this.props.getListRelatedByConceptId(concept);\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                apiLoading: nextProps.concepts.apiLoading,\r\n                apiServerError: nextProps.concepts.apiServerError,\r\n                apiNetworkError: nextProps.concepts.apiNetworkError,\r\n                conceptWithDetails: nextProps.concepts.conceptWithDetails,\r\n                conceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                orignalConceptsWithDetails: nextProps.concepts.conceptsWithDetails,\r\n                perspectiveids: nextProps.concepts.perspectiveids,\r\n                keywords: nextProps.concepts.keywords,\r\n                listRelatedData: nextProps.concepts.listRelatedData,\r\n                listRelatedLoading: nextProps.concepts.listRelatedLoading,\r\n                listRelatedNetworkError: nextProps.concepts.listRelatedNetworkError,\r\n                listRelatedServerError: nextProps.concepts.listRelatedServerError,\r\n                loading: nextProps.concepts.loading,\r\n                sortedAuthors: nextProps.concepts.sortedAuthors,\r\n                sortedKeywords: nextProps.uniqueKeywords,\r\n                concept: nextProps.concepts.concept,\r\n                authors: nextProps.concepts.authors,\r\n                isLike: nextProps.concepts.isLike,\r\n                filteredPerspectives: nextProps.filteredPerspectives\r\n                // page_no: nextProps.concepts.page_no\r\n            })\r\n        }\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption.category == \"Concepts\") {\r\n                let concept = {\r\n                    \"concept_id\": this.state.selectedOption.id,\r\n                    \"filters\": nextProps.navbar.tags.map(tag => tag.id)\r\n                };\r\n                this.props.getConceptFromApi(concept)\r\n                this.props.getListRelatedByConceptId(concept);\r\n            }\r\n\r\n        }\r\n        if (nextProps.concepts.sortedAuthorIds && nextProps.concepts.sortedAuthorIds.length > 0 && nextProps.concepts.perspectivesByAuthor) {\r\n            let sortedAuthorIds = nextProps.concepts.sortedAuthorIds;\r\n            if (!nextProps.concepts.initial) {\r\n                let authors = sortedAuthorIds.slice(0, 10);\r\n                // if(nextProps.isScrollLike)\r\n                // {\r\n            \r\n                //         this.a--;\r\n                //         this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false,false);\r\n                        \r\n                //         this.setState({sortByLikes:false})\r\n                        \r\n                    \r\n                // }\r\n                // else\r\n                // {\r\n                //     if(this.a==1)\r\n                //     {     \r\n                if(nextProps.isScrollLike)\r\n                {\r\n                    this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n                    this.showAuthors=false\r\n                    // this.setState({isScrollByLike})\r\n                }\r\n                else\r\n                {\r\n                    this.showAuthors=true\r\n                    this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n                }\r\n\r\n                \r\n                //     }\r\n                //     else\r\n                //     this.a++;\r\n                // }\r\n            }\r\n        }\r\n        if (nextProps.concepts.perspectivesByAuthor !== this.props.filteredPerspectives) {\r\n            this.setState({\r\n                perspectiveLoading: false\r\n            })\r\n        }\r\n        if (nextProps.sortByLikes !== this.props.sortByLikes){\r\n            this.setState({\r\n                sortByLikes: nextProps.sortByLikes\r\n            })\r\n        }\r\n    }\r\n    componentDidUpdate() {\r\n        // $('#favouriteSecond').css({position:'',bottom:0});\r\n        // $('#thirdScr').add('offs',)\r\n        console.log(\"updated\");\r\n        if (this.state.sortByAuthor) {\r\n            const element = document.getElementById(this.state.sortByAuthor);\r\n            if (element) {\r\n                element.scrollIntoView({ behavior: 'auto' });\r\n            }\r\n        }\r\n        //getSortedPerspectivesByLikes(this.state.filteredPerspectives);\r\n        // this.allowDownScrollCallBack=true;\r\n    }\r\n    handleFirstWheeel(x)\r\n    {\r\n\r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        if(this.prevFirst>firstScroll.scrollTop)\r\n        {\r\n            diff=this.prevFirst-firstScroll.scrollTop;\r\n            thirdScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        else if(this.prevFirst==firstScroll.scrollTop)\r\n        {\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                thirdScroll.scrollTop+=100\r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                thirdScroll.scrollTop-=100\r\n            }\r\n        }\r\n        else\r\n        {\r\n            diff=firstScroll.scrollTop-this.prevFirst;\r\n            element.scrollTop+=diff;\r\n            thirdScroll.scrollTop+=diff\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop;  \r\n\r\n    }\r\n    handleFirstCallback()\r\n    {\r\n       \r\n    }\r\n    handleThirdWheeel(x)\r\n    {\r\n\r\n    \r\n            const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        if(this.prevThird>thirdScroll.scrollTop)\r\n        {\r\n            diff=this.prevThird-thirdScroll.scrollTop;\r\n            firstScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        \r\n        else if(this.prevThird==thirdScroll.scrollTop)\r\n        {\r\n\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                if(!this.state.perspectiveLoading)\r\n                {\r\n                    firstScroll.scrollTop+=100\r\n                }\r\n                \r\n                \r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                firstScroll.scrollTop-=100\r\n            }\r\n        \r\n        }\r\n        \r\n        else\r\n        {\r\n            diff=thirdScroll.scrollTop-this.prevThird;\r\n            element.scrollTop+=diff;   \r\n            if(!this.state.perspectiveLoading)\r\n            {\r\n                firstScroll.scrollTop+=diff;\r\n            }\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop; \r\n        \r\n\r\n        \r\n    }\r\n    handleThirdCallBack()\r\n    {\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n      \r\n    }\r\n    handleSecondWheeel(x)\r\n    {\r\n        if(!this.state.perspectiveLoading)\r\n        {\r\n            \r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n          \r\n        // thirdScroll.scrollTop=element.scrollTop;\r\n        // firstScroll.scrollTop=element.scrollTop;\r\n        \r\n        \r\n            \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n            // let diff=0;\r\n            //     if(this.prevSecond>element.scrollTop)\r\n            //     {\r\n               \r\n            //         diff=this.prevSecond-element.scrollTop;\r\n                  \r\n               \r\n            //         thirdScroll.scrollTop-=diff;\r\n            //         firstScroll.scrollTop-=diff; \r\n                \r\n            //     }\r\n            //  else  if(this.prevSecond==element.scrollTop)\r\n            //     {\r\n                    \r\n                    \r\n            //         if(x.deltaY>0)\r\n            //         {\r\n            //             thirdScroll.scrollTop+=100;\r\n            //            firstScroll.scrollTop+=100; \r\n                \r\n            //         }\r\n            //         else\r\n            //         {\r\n            //             thirdScroll.scrollTop-=100;\r\n            //            firstScroll.scrollTop-=100; \r\n                \r\n            //         } \r\n                \r\n            //     }\r\n            //     else\r\n            //     {\r\n            //         diff=element.scrollTop-this.prevSecond;\r\n            //         thirdScroll.scrollTop+=diff  \r\n            //         firstScroll.scrollTop+=diff\r\n                    \r\n                    \r\n            //     }\r\n            // this.prevSecond=element.scrollTop;\r\n            // this.prevFirst=firstScroll.scrollTop;\r\n            // this.prevThird=thirdScroll.scrollTop;  \r\n        }\r\n    }\r\n    handleScrollCallback() {\r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        \r\n\r\n\r\n        if($(window).scrollTop()>this.prevScroll)\r\n        {\r\n            //Down Scrolling\r\n\r\n            console.log(\"Scroll top is \",this.state.sortedByKewords)\r\n            console.log(\"percenteage is\",$('#favouriteSecond').innerHeight()/100*50)\r\n            if((windowHeight + scrollHeight) >= $('#favouriteSecond').innerHeight()/100*50)\r\n            {\r\n                if(this.allowDownScrollCallBack)\r\n                {\r\n                    console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ $('#favouriteSecond').innerHeight()/100*70);\r\n                    this.allowDownScrollCallBack=false;\r\n                  if(!this.sortedByKewords)\r\n                  {\r\n                    this.scrollDownPerspectiveHandler();\r\n                  }\r\n                }\r\n\r\n\r\n    \r\n            }\r\n            else\r\n            {\r\n                this.allowDownScrollCallBack=true;\r\n            }\r\n        }\r\n        else\r\n        {\r\n\r\n        }\r\n        this.prevScroll=$(window).scrollTop()\r\n\r\n\r\n\r\n\r\n        //For First Column\r\n        var rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n        var rightBarHeight = $('#firstInnerScr').outerHeight();\r\n        // var rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n        var rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        \r\n        \r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#firstScr').css({\r\n                position:'fixed'\r\n            })\r\n            if($(window).height()<$('#firstInnerScr').innerHeight())\r\n            {\r\n                \r\n                $('#firstScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n             $('.right').css({\r\n                position: 'static',\r\n                left: '',\r\n                bottom: ''\r\n            })\r\n            $('.left').removeClass(\"offset-md-3\")\r\n            \r\n        }\r\n        // For Third Column\r\n        windowHeight = $(window).height();\r\n         scrollHeight = $(window).scrollTop();\r\n         rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n         rightBarHeight = $('#thirdInnerScr').outerHeight();\r\n        //  rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n         rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight - 30 < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        // console.log(\"First Value is \",$(window).height());\r\n        // console.log(\"Value is \",$('#thirdInnerScr').innerHeight());\r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#thirdInnerScr').css({\r\n                position:'fixed'\r\n            })\r\n            if($(window).height()<$('#thirdInnerScr').innerHeight())\r\n            {\r\n                \r\n                $('#thirdInnerScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            // $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n            // console.log(\"About to remove\")\r\n             $('#thirdInnerScr').css({\r\n                position: 'static',\r\n                left: '',\r\n                bottom: ''\r\n            })\r\n            // $('.left').removeClass(\"offset-md-3\")\r\n            \r\n        }\r\n    \r\n    \r\n        // var scrollHeight = $(\"#thirdScr\").height();\r\n    \t// var scrollPosition = $(window).height() + $(window).scrollTop();\r\n        // console.log(\"scrolling\",$('#firstScr').innerHeight());\r\n        \r\n        // console.log(\"height is \",$(window).innerHeight());\r\n        // console.log(\"third src \",$(\"#thirdScr\").innerHeight())\r\n        // $('#firstScr').css('background-color','red');\r\n        \r\n        \r\n        // console.log(\"Window Scroll Top\",$(window).scrollTop())\r\n        // console.log(\"Window inner height is \",$('#favouriteSecond').innerHeight()-500);\r\n        // if($(window).scrollTop()==$('#favouriteSecond').innerHeight()-5000)\r\n        // {\r\n        //     this.scrollDownPerspectiveHandler();\r\n\r\n        // }\r\n        // if($(window).scrollTop()==0)\r\n        // {\r\n        //     if(!this.sortedByKewords)\r\n        //     {\r\n        //         this.scrollUpPerspectiveHandler();\r\n        //     }   \r\n        // }\r\n        // if(this.AutherNotClicked)\r\n        // {\r\n        //     if($(window).scrollTop()+$(window).height()>=$('#thirdScr').innerHeight())\r\n        // {\r\n        //     $('#thirdScr').css('position','fixed');\r\n        //     if($('#thirdScr').innerHeight()>$(window).innerHeight())\r\n        //     {\r\n        //         $('#thirdScr').css('bottom','0');\r\n\r\n        //     }\r\n        //     // $('#thirdScr').css('paddingLeft','40px');\r\n            \r\n\r\n\r\n        //     $(\"#thirdScr\").css('paddingBottom','50px')\r\n        //     // console.log(\"End reached\");\r\n        // }\r\n        // else\r\n        // {\r\n        //     $('#thirdScr').css('paddingLeft','');\r\n        //     $('#thirdScr').css('position','');\r\n        //     $('#thirdScr').css('bottom','');\r\n \r\n        //     // console.log(\"attock\");\r\n        // }\r\n        \r\n    //     if($(window).scrollTop()+352>=$('#thirdScr').innerHeight())\r\n    // {\r\n    //     $('#thirdScr').css('position','fixed');\r\n    //     if($('#thirdScr').innerHeight()>$(window).innerHeight())\r\n    //     {\r\n    //         $('#thirdScr').css('bottom','0');\r\n\r\n    //     }\r\n    //     // $('#thirdScr').css('paddingLeft','40px');\r\n        \r\n\r\n\r\n    //     $(\"#thirdScr\").css('paddingBottom','50px')\r\n    //     console.log(\"End reached\");\r\n    // }\r\n    // else\r\n    // {\r\n    //     $('#thirdScr').css('paddingLeft','');\r\n    //     $('#thirdScr').css('position','');\r\n\r\n    //     console.log(\"attock\");\r\n    // }\r\n        //    console.log(\"Issues\",$(window).scrollTop()+$(window).height());\r\n        //    console.log(\"Fro \",$('#favourite').innerHeight()) \r\n        // if($(window).scrollTop()+$(window).height()>=$('#firstInnerScr').innerHeight())\r\n        // {\r\n            \r\n        //     $('#firstScr').css('position','fixed');\r\n        //     if($(window).innerHeight()<=$('#firstInnerScr').innerHeight())\r\n        //     {\r\n        //          $('#firstScr').css('bottom','0');\r\n           \r\n        //     }\r\n        //     $(\"#firstScr\").css('paddingBottom','50px')\r\n        //     $('#secondScr').addClass('offset-md-3')\r\n        //     this.scrollDownPerspectiveHandler();\r\n        //     // console.log(\"DownSide Up\")\r\n\r\n        // }\r\n        // else\r\n        // {\r\n        //     $('#firstScr').css('bottom','');\r\n        //     $('#firstScr').css('position','');\r\n        //     $('#secondScr').removeClass('offset-md-3')\r\n        //     // console.log(\"Up side Down\");\r\n        // }\r\n        // }\r\n        // else\r\n        // {\r\n        //     let diff=this.prevSecond-$(window).scrollTop();\r\n            \r\n        //     this.prevFirst+=diff;\r\n        //     this.prevThird+=diff;\r\n        //     $('#firstScr').scrollTop(500);\r\n        //     $('#thirdScr').scrollTop(500)\r\n        //     this.prevFirst=$(window).scrollTop();\r\n        //     this.prevThird=$(window).scrollTop();\r\n        //     this.prevSecond=$(window).scrollTop();\r\n        \r\n\r\n        // }\r\n        \r\n        \r\n\r\n\r\n\r\n        \r\n        // const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        // const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        // const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        // console.log(element.scrollTop);\r\n        // this.prevFirst=firstScroll.scrollTop;\r\n        // this.prevSecond=element.scrollTop;\r\n        // this.prevThird=thirdScroll.scroll;\r\n\r\n        // console.log(\"Positions are\",this.prevFirst);\r\n        // console.log(\"previous seconds\",this.prevSecond);\r\n        // console.log(\"This\",this.prevThird);\r\n\r\n\r\n\r\n\r\n\r\n        // if (!this.state.sortByKeywordId) {\r\n        //     if (\r\n        //         element.scrollTop + element.clientHeight >=\r\n        //         element.scrollHeight-1\r\n        //     ) {\r\n        //         this.scrollDownPerspectiveHandler();\r\n        //     }\r\n        //     if (element.scrollTop <= 0) {\r\n        //         if (this.state.sortByAuthor) {\r\n        //             this.scrollUpPerspectiveHandler();\r\n        //         }\r\n        //     }\r\n        // }\r\n        \r\n    }\r\n    componentDidMount() {\r\n\r\n       \r\n\r\n\r\n        $(window).scroll(this.handleScrollCallback());\r\n        var sc=ReactDOM.findDOMNode(this.refs.myscroll);\r\n        if(sc)\r\n        {\r\n                sc.addEventListener('scroll', this.handleScrollCallback);\r\n         }\r\n         this.setState({\r\n             isScroll:true\r\n         })\r\n         window.addEventListener('scroll', this.handleScrollCallback, true);\r\n    }\r\n    toggleListRelated() {\r\n        this.setState({\r\n            listRelated: !this.state.listRelated,\r\n        })\r\n    }\r\n    onListClick() {\r\n        this.setState({\r\n            listRelatedRole: 'list'\r\n        })\r\n        // this.toggleListRelated();\r\n    }\r\n    onRelatedClick() {\r\n        this.setState({\r\n            listRelatedRole: 'related',\r\n        })\r\n        // this.toggleListRelated();\r\n    }\r\n    onLikeClick(id) {\r\n    let index=this.state.filteredPerspectives.findIndex(x => x.id==id)\r\n    let oldState=this.state.filteredPerspectives;\r\n    \r\n    if (this.state.filteredPerspectives[index].isLike) {\r\n\r\n            this.props.decreasePerspectiveLike(id);\r\n            oldState[index].loves=--oldState[index].loves;\r\n        \r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n            oldState[index].loves=++oldState[index].loves;\r\n            \r\n        \r\n        }\r\n        \r\n        oldState[index].isLike=!oldState[index].isLike;\r\n        \r\n        this.setState({filteredPerspectives:oldState})\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\"\r\n        this.props.flushConceptState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    filterConceptDefinations(keyword_id) {\r\n        let rtn = [];\r\n        this.state.orignalConceptsWithDetails.forEach(element => {\r\n            if (element.keywords_id == keyword_id) {\r\n                rtn.push(element);\r\n            }\r\n        });\r\n        this.setState({\r\n            conceptsWithDetails: rtn,\r\n        })\r\n    }\r\n    loadPerspectivesByLikes()\r\n    {\r\n        $(window).scrollTop(0);\r\n        this.props.getConceptPerspectivesByLikes(this.state.selectedOption,0,false);\r\n                   \r\n        // if(!this.state.sortByLikes)\r\n        // {\r\n        //     this.props.getConceptPerspectivesByLikes(this.state.selectedOption,this.props.offset,false);\r\n        // }\r\n        // const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        // element.scrollTop=0;\r\n    }\r\n    loadPerspectivesByAuthor() {\r\n        \r\n        // console.log(\"Variables are\",$(window).scrollTop());\r\n        this.prevFirst=$(window).scrollTop();\r\n        this.prevThird=$(window).scrollTop();\r\n        this.prevSecond=$(window).scrollTop();\r\n        this.AutherNotClicked=false;\r\n\r\n        \r\n        // $('#thirdScr').css('position','fixed');\r\n        // if($('#thirdScr').innerHeight()>$(window).innerHeight())\r\n        // {\r\n        //     $('#thirdScr').css('overflow','scroll');\r\n\r\n        // }\r\n        // $('#thirdScr').css('paddingLeft','40px');\r\n        \r\n\r\n\r\n        // $(\"#thirdScr\").css('paddingBottom','50px')\r\n        \r\n        // $('#firstScr').css('position','fixed');\r\n        // // $('#firstScr').css('bottom','0');\r\n        // $(\"#firstScr\").css('paddingBottom','50px')\r\n        // $('#secondScr').addClass('offset-md-3')\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n        let perspectives = this.state.filteredPerspectives;\r\n        let includes = false;\r\n        for (let p of perspectives) {\r\n            if (p.Author == this.state.authorId) {\r\n                includes = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!includes) {\r\n            let index = sortedAuthorIds.indexOf(this.state.authorId);\r\n            let authors = [];\r\n            let beginners = sortedAuthorIds.slice(index - 5, index);\r\n            let last = sortedAuthorIds.slice(index + 1, index + 5)\r\n            authors.push(...beginners, sortedAuthorIds[index], ...last);\r\n            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id)\r\n        } else {\r\n            this.setState({\r\n                sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].lastName]\r\n            })\r\n        }\r\n    }\r\n    scrollDownPerspectiveHandler() {\r\n            console.log(\"down called\");\r\n            if(this.state.sortByLikes)\r\n            {\r\n                // console.log(\"mergingd\",this.state.prevOffset);\r\n                // console.log(\"other\",this.props.offset)\r\n                if(this.state.prevOffset!==this.props.offset)\r\n                {\r\n                    this.setState({\r\n                        perspectiveLoading:true,\r\n                    })\r\n                    this.props.getConceptPerspectivesByLikes(this.state.selectedOption,this.props.offset,true);\r\n                    this.setState({calledapi:false})\r\n                    this.state.prevOffset=this.props.offset\r\n                }\r\n            }\r\n            else\r\n            {\r\n                \r\n                let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n                let perspectives = this.state.filteredPerspectives;\r\n                let index = sortedAuthorIds.indexOf(perspectives[perspectives.length - 1].Author)\r\n                let authors = sortedAuthorIds.slice(index + 1, index + 50);\r\n                console.log(authors);\r\n                if(authors.length>0)\r\n                {\r\n                    this.setState({\r\n                        perspectiveLoading: true,\r\n                        // sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].Author].lastName,\r\n                        sortByAuthor:null\r\n                    })\r\n                    this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n            \r\n                }\r\n                else\r\n                {\r\n                    this.setState({\r\n                        perspectiveLoading: false,\r\n                        // sortByAuthor: this.state.authors[perspectives[perspectives.length - 1].Author].lastName,\r\n                        sortByAuthor:null\r\n                    })\r\n                }\r\n            }\r\n         \r\n    }\r\n    scrollUpPerspectiveHandler() {\r\n\r\n            if(!this.state.sortByLikes)\r\n            {\r\n                let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n                let perspectives = this.state.filteredPerspectives;\r\n                let index = sortedAuthorIds.indexOf(perspectives[0].Author)\r\n                if (index !== 0) {\r\n                    let authors = [];\r\n                    for (var i = 1; i < 5; i++) {\r\n                        let value = sortedAuthorIds[index - i];\r\n                        if (value !== undefined) {\r\n                            authors.push(value)\r\n                        }\r\n                    }\r\n                    if(authors.length>0)\r\n                    {\r\n                        \r\n                        this.setState({\r\n                            sortByAuthor: this.state.authors[perspectives[0].Author].lastName,\r\n                            perspectiveLoading: true,\r\n    \r\n                        })\r\n                        this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id, true);\r\n                \r\n                    }\r\n                    else\r\n                    {\r\n                        this.setState({\r\n                            sortByAuthor: this.state.authors[perspectives[0].Author].lastName,\r\n                            perspectiveLoading: false,\r\n    \r\n                        })\r\n                    }\r\n                }\r\n            \r\n            }\r\n\r\n\r\n    }\r\n    loadByAuthor()\r\n    {\r\n\r\n        if(this.state.sortByLikes)\r\n        {\r\n            let sortedAuthorIds = this.props.concepts.sortedAuthorIds;\r\n            let authors = sortedAuthorIds.slice(0, 30);\r\n            this.props.getPerspectivesByAuthors(authors, this.state.selectedOption.id);\r\n            this.showAuthors=true;\r\n        }\r\n        $(window).scrollTop(0);\r\n    }\r\n    render() {\r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll);  \r\n        \r\n        if(element && firstScroll && thirdScroll)\r\n        {\r\n            this.prevSecond=element.scrollTop;\r\n            this.prevFirst=firstScroll.scrollTop;\r\n            this.prevThird=thirdScroll.scrollTop;\r\n        }\r\n        return (\r\n            <div className=\"overflowhidden\" style={{ overflow: \"hidden\",paddingTop:50 }}>\r\n                {(this.state.selectedOption.id && this.state.selectedOption.category == \"Concepts\" || this.state.query) && < div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div ref=\"firstScroll\" id=\"firstScr\" onWheel={this.handleFirstWheeel} onScroll={this.handleFirstCallback} className=\"col-6 col-sm-6 col-md-3 right  \" style={{paddingBottom:50, borderRadius: \"3px\", backgroundColor: \"white\", textTransform: 'capitalize', overflow: [this.state.perspectiveLoading?'hidden':\"auto\"], textAlign: \"\" }}>\r\n                            <div className='' id='firstInnerScr' style={{ width: \"100%\", margin: \"auto\", background: \"white\", textAlign: '', borderRadius: '20px' }}>\r\n                                {this.state.listRelatedLoading && <div style={{ width: \"100px\", margin: \"auto\" }}>\r\n                                    <ReactLoading type=\"balls\" color=\"red\" />\r\n                                </div>}\r\n\r\n                                {!this.state.listRelatedLoading && <div>\r\n                                    <div style={{ backgroundColor: 'white', textAlign: 'center', marginTop: '10px', padding: '5px' }}><h3>{this.state.selectedOption.label}</h3></div>\r\n                                </div>}\r\n                                <div style={{ backgroundColor: 'white', marginBottom: '5px' }}>\r\n                                        {!this.state.listRelatedLoading && <div style={{ paddingLeft: '50px', marginTop: '5px', background: 'white' }}>\r\n                                            <label style={{ border:[this.state.listRelatedRole==='list'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='list'?'black': 'grey'], borderRadius: \"15px\", padding: \"5px 20px\", marginTop: \"10px\", marginLeft: \"\", marginRight: \"5px\", cursor: \"pointer\",fontSize:12,fontWeight:\"650\" }}\r\n                                                onClick={this.onListClick} >Lists</label>\r\n                                            <label style={{ cursor: \"pointer\", borderRadius: \"15px\", border:[this.state.listRelatedRole==='related'?'2px solid black': '2px solid grey'],color:[this.state.listRelatedRole==='related'?'black': 'grey'], padding: \"5px 15px\", marginTop: \"10px\", marginLeft: \"5px\",fontSize:12,fontWeight:\"650\" }}\r\n                                                onClick={this.onRelatedClick}>Related</label>\r\n                                        </div>}\r\n                                        <div style={{  borderBottom: \"1px solid grey\", display: [this.state.listRelated ? 'block' : 'none'],marginLeft:30,paddingLeft:\"10px\",paddingTop:\"10px\",paddingBottom:\"25px\" }}>\r\n                                            {this.state.listRelatedRole == 'list' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyListData(this.state.listRelatedData).map(data => {\r\n                                                return <span style={{fontSize:14,fontWeight:\"500\",color:'grey',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</span>\r\n                                            })}\r\n                                            {this.state.listRelatedRole == 'related' && this.state.listRelatedData && this.state.listRelatedData.length > 0 && returnOnlyRelationData(this.state.listRelatedData).map(data => {\r\n                                                return <span style={{fontSize:14,fontWeight:\"500\",color:'grey',cursor:'pointer'}}  onClick={() => this.onListRelatedClick({ relationary_supra: data.name, relationary_thing_supra_id: data.id })}>{data.name}.</span>\r\n                                            })}\r\n                                        </div>\r\n                                        {/* <div onClick={() => this.props.showAllPerspective(true)}  className=\"btn btn-link text-center\">Show All</div> */}\r\n                                    </div>\r\n                                {this.state.sortedKeywords && (this.state.sortedKeywords.length > 0 && <div style={{ width: \"100%\", margin: \"auto\" }} >\r\n                                    <div style={{ backgroundColor: 'white', width: '100%',paddingTop:\"50px\" }}>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-xs-2 col-sm-2 col-md-2\" style={{backgroundColor:\"white\"}}>\r\n                                                <div onClick={() => {\r\n                                                    this.props.showAllPerspective(this.state.selectedOption.id)\r\n                                                }\r\n                                                } className=\"btn btn-link text-center rotate\"  ><b style={{fontSize:16}}>Show All</b></div>\r\n                                            </div>\r\n                                            <div id='favourite' className=\"col-8 col-sm-8 col-md-8\" style={{ backgroundColor: 'white',paddingLeft:\"30px\" }}>\r\n                                                <ul  style={{\"lineHeight\": \"0.9em\",height: \"auto\",listStyle:\"none\",padding:0}}>\r\n                                                {this.state.sortedKeywords.map(keyword => {\r\n                                                    console.log(\"kkwkkdkajsfdklasjdfkasjf \",keyword);\r\n                                                    return <li style={{ padding:\"8px\"}}><a href=\"#top\" style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                                        this.sortedByKewords=true\r\n                                                        this.setState({\r\n                                                            sortBy: \"keyword\",\r\n                                                            sortByKeywordId: keyword.id,\r\n                                                            sortByAuthor: null\r\n                                                        }, () => {\r\n                                                            $(window).scrollTop(0);\r\n                                                            console.log(\"scroll\")\r\n                                                            console.log(\"scroll\")\r\n                                                            console.log(\"scroll\")\r\n                                                            console.log(\"scroll\")\r\n                                                            console.log(\"scroll\")\r\n                                                            console.log(\"scroll\")\r\n                                                            console.log(\"scroll\")\r\n                                                            console.log(\"scroll\")\r\n                                                            this.props.getConceptPerspectivesByKeywords(this.state.sortByKeywordId)\r\n\r\n                                                        })\r\n                                                    }}><b style={{ color: 'black', fontWeight: '15px:', fontSize: '14px'}}>{keyword.name}</b>&nbsp;<span style={{ color: 'gray',fontSize:11 }}>{\" (\" + keyword.count + \")\"}</span></a></li>\r\n\r\n                                                })}\r\n                                                </ul>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n                                    </div>\r\n                                </div>)}\r\n                            </div>\r\n                        </div>\r\n                        <div ref=\"myscroll\" id=\"secondScr\" onWheel={this.handleSecondWheeel} onScroll={this.handleScrollCallback} className=\"col-6 col-sm-6 col-md-4 left \" style={{ borderRadius: \"3px\", backgroundColor: \"white\" }}>\r\n                            <div id=\"main-content\" ref=\"myscrollInner\"  id=\"favouriteSecond\" style={{ backgroundColor: \"white\" }}>\r\n                                {/* <div ref=\"img\" id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                <div ref=\"analogy\" style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                    <label className=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                </div> */}\r\n                                {this.state.perspectiveLoading &&\r\n                                    <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                    <img src={loading} style={{ height: '20px' }}></img>\r\n                                    </div>\r\n                                    \r\n                                }     \r\n                                {\r\n                                    <div id=\"top\"></div>\r\n                                }\r\n\r\n                                {\r\n                                    this.state.selectedOption && this.state.filteredPerspectives && this.state.filteredPerspectives.length > 0 && this.state.filteredPerspectives.map(data => {\r\n                                        return (\r\n                                            <div>\r\n                                                <Context data={data}\r\n                                                    authors={this.state.authors}\r\n                                                    selectedOption={this.state.selectedOption}\r\n                                                    keywords={this.state.keywords}\r\n                                                    onAuthorClick={this.onAuthorClick}\r\n                                                    onLikeClick={this.onLikeClick}\r\n                                                    isLike={this.state.isLike}\r\n                                                />\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                             {this.state.perspectiveLoading &&\r\n                            <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%',bottom:\"20\"}}>\r\n                            <img src={loading} style={{ height: '20px' }}></img>\r\n                            </div>\r\n                            \r\n                        }  \r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2\" id=\"thirdScr\" style={{ border: \"1px solid #a5a5a5\", borderLeft: '1px solid black',background:'white',minHeight:'90vh'}}>\r\n                        \r\n                        <div  ref=\"thirdScroll\" id=\"thirdInnerScr\" onWheel={this.handleThirdWheeel}  onScroll={this.handleThirdCallBack}  style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow:[this.state.perspectiveLoading?'hidden':'auto'] }}>\r\n                            <div style={{ backgroundColor: 'blue' }}>\r\n                                <div style={{ paddingLeft: '30px', marginTop: '5px', background: 'white' }}>\r\n                                    <b style={{fontSize:20}}>Arranged by</b>\r\n                                    <p style={{fontSize:14,paddingLeft:12}}><label onClick={this.loadByAuthor} style={{paddingLeft:'0px',cursor:'pointer',fontWeight:700,color:this.state.sortByLikes?'grey':'black'}}>Author</label> <label style={{paddingLeft:'8px',cursor:'pointer',fontWeight:700,color:this.state.sortByLikes?'black':'gray'}} onClick={this.loadPerspectivesByLikes}>Likes</label></p>\r\n                                </div>\r\n                            </div>\r\n                            <ul style={{\"lineHeight\": \"0.9em\",height: \"auto\",listStyle:\"none\"}}>\r\n                                {this.showAuthors && !this.state.sortByLikes && this.state.sortedAuthors && this.state.sortedAuthors.length > 0 && this.state.sortedAuthors.map(data => {\r\n                                        {/* console.log(\"hello\"); */}\r\n                                        return (\r\n                                            <li style={{ width: \"150px\", margin: \"auto\",backgroundColor:\"\", padding:\"8px\" }}><a onClick={() => {\r\n                            \r\n                                                this.setState({\r\n                                                    sortByAuthor: data.lastName,\r\n                                                    sortBy: \"\",\r\n                                                    authorId: data.id,\r\n                                                    isScroll:false\r\n                                                }\r\n                                                    , () => {\r\n                                                        this.loadPerspectivesByAuthor();\r\n                                                    })\r\n                                            }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\",fontSize:14,height:\"auto\" }} href={`#${data.lastName}`}><b>{ (data.lastName && data.firstName) ? (data.lastName + \", \" + data.firstName) : (data.lastName ? data.lastName : (data.firstName ? data.firstName : \"\"))}</b></a></li>\r\n                                        );\r\n                                    })}\r\n                                    </ul>\r\n                        </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                {/* <h>This Place is for Adds</h> */}\r\n                                <AdsComponent></AdsComponent>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n        \r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        //getConceptDetails: bindActionCreators(getConceptDetails, dispatch),\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushConceptState: bindActionCreators(flushConceptState, dispatch),\r\n        getListRelatedByConceptId: bindActionCreators(getListRelatedByConceptId, dispatch),\r\n        getConceptFromApi: bindActionCreators(getConceptFromApi, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        increasePerspectiveLike: bindActionCreators(increasePerspectiveLike, dispatch),\r\n        decreasePerspectiveLike: bindActionCreators(decreasePerspectiveLike, dispatch),\r\n        sortByAuthorLast: bindActionCreators(sortByAuthorLast, dispatch),\r\n        sortByKeyword: bindActionCreators(sortByKeyword, dispatch),\r\n        showAllPerspective: bindActionCreators(showAllPerspective, dispatch),\r\n        getConceptPerspectivesByAuthorLastName: bindActionCreators(getConceptPerspectivesByAuthorLastName, dispatch),\r\n        getConceptPerspectivesByKeywords: bindActionCreators(getConceptPerspectivesByKeywords, dispatch),\r\n        getAllPerspectivesByConcept: bindActionCreators(getAllPerspectivesByConcept, dispatch),\r\n        getPerspectivesByAuthors: bindActionCreators(getPerspectivesByAuthors, dispatch),\r\n        getConceptPerspectivesByLikes:bindActionCreators(getConceptPerspectivesByLikes,dispatch),\r\n        LoadByLikes:bindActionCreators(LoadByLikes,dispatch),\r\n        \r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        concepts: state.concepts,\r\n        pageNumber: state.concepts.page_no,\r\n        uniqueKeywords: getUniqueKeywords(state),\r\n        filteredPerspectives: getFilteredPerspectives(state),\r\n        sortByLikes:state.concepts.sortByLikes,\r\n        offset:state.concepts.offset,\r\n        isScrollLike:state.concepts.isScrollByLike\r\n    }\r\n}\r\n// const renderConceptsDetails = (data) => {\r\n//     if (data.length > 0) {\r\n//         data.map(item => {\r\n//             return (<h1>{item.description}</h1>);\r\n//         })\r\n//     }\r\n// }\r\nconst returnOnlyListData = (listRelatedData) => {\r\n    let listData = [];\r\n    listRelatedData.forEach(element => {\r\n        if (element.type == 'list of') {\r\n            listData.push(element);\r\n        }\r\n    })\r\n    return listData;\r\n}\r\nconst returnOnlyRelationData = (listRelatedData) => {\r\n    let listData = [];\r\n    listRelatedData.forEach(element => {\r\n        if (element.type == 'dictionary of') {\r\n            listData.push(element);\r\n        }\r\n    })\r\n    return listData;\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ConceptsPage));","import {schema} from 'normalizr';\r\nconst author=new schema.Entity(\"authors\");\r\nconst keyword=new schema.Entity(\"keywords\");\r\nconst perspective=new schema.Entity(\"perspectives\",{\r\n    Author:author,\r\n    Keywords:[keyword]\r\n});\r\nconst concept=new schema .Entity(\"concepts\",{\r\n    Perspectives:[perspective]\r\n})\r\nexport const conceptClusterSchema=new schema.Entity(\"conceptCluster\",{\r\n    Concepts:[concept]\r\n});","\r\nimport {normalize} from 'normalizr';\r\nimport {conceptClusterSchema} from '../schema/conceptClusterSchema';\r\nconst axios = require('axios');\r\nexport function flushConceptClusterState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_CONCEPT_CLUSTER\",\r\n        })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function setClickedState(obj){\r\n    return dispatch=>{\r\n        dispatch({\r\n            type:'CLICKED_STATE',\r\n            payload:obj\r\n        })\r\n    }\r\n}\r\nexport function getConceptClusterFromApi(id) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptClusters/${id}?relationships=true`).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n                const conceptDetailsFromApi = data.data.data;\r\n                const normalizedData=normalize(conceptDetailsFromApi,conceptClusterSchema)\r\n                dispatch({\r\n                    type: \"REQUEST_SUCCESSFUL\",\r\n                    payload: conceptDetailsFromApi,\r\n                })\r\n                dispatch({\r\n                    type:'CONCEPT_CLUSTER_DETAIL',\r\n                    payload:normalizedData.entities\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"NETWORK_ERROR\"\r\n            })\r\n            console.log('Error While fetching concept details from api', error);\r\n        })\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Context.css'\r\nclass Context extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            visibility: 'none',\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let {authors,data}=this.props;\r\n        return (\r\n            <div id={data.ConceptId}>\r\n                <div id={authors[data.Author].lastName} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                    <b style={{  cursor: \"pointer\" }}\r\n                        onClick={() => {\r\n                            this.props.flushConceptClusterState();\r\n                            this.props.setSelectedItem({ label: data.ConceptName, value: data.ConceptName, id: data.ConceptId, category: \"Concepts\" })\r\n                        }}>{data.pronoun}{\" \"} {data.ConceptName}</b>{\" is \"}{data.description}\r\n                    <div onClick={() => this.props.onAuthorClick({ auth_id: data.AuthorId, author_first: authors[data.Author].firstName, author_last: authors[data.Author].lastName, born: authors[data.Author].dob, died: authors[data.Author].dod })} style={{ color: \"red\", cursor: \"pointer\" }}>{authors[data.Author].firstName}{\" \"}{authors[data.Author].lastName}</div>\r\n                    <div className=\"text-right\">\r\n                        <i style={{ color: data.isLike?\"red\":\"grey\",fontSize:20}} className=\"fa fa-thumbs-up  \" onClick={()=>{this.props.onLikeClick(data.id)}}></i>&nbsp;[{data.loves?data.loves:0}]&nbsp;&nbsp; <span  id=\"ConceptEllipseCircle\"  className=\"contextbutton  fa fa-ellipsis-h\" onClick={() => {\r\n                            this.setState({\r\n                                visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                            })\r\n                        }} style={{ cursor: \"pointer\" }}></span>\r\n                    </div>\r\n                    <div id={data.id} style={{ marginTop: \"20px\",textAlign:'justify', display: [this.state.visibility] }} >{data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                </div>\r\n            </div>);\r\n    }\r\n}\r\n// Context.PropTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n//     flushConceptClusterState: PropTypes.func.isRequired,\r\n//     setSelectedItem: PropTypes.func.isRequired,\r\n//     onAuthorClick: PropTypes.func.isRequired,\r\n// }\r\nexport default Context;","import React, { Component } from 'react';\r\nimport \"./ConceptClustersPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { flushConceptClusterState,\r\n     getConceptClusterFromApi,\r\n     setClickedState,\r\n     increasePerspectiveLike,\r\n     decreasePerspectiveLike } from \"../../actions/conceptClustersActions\";\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport{\r\n    getUniqueSortedConceptsFromConceptCluster,\r\n    getPerspectivesFromConceptCluster,\r\n    getUniqueAuthorsFromConceptCluster\r\n} from '../../selectors';\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport Context from './Context';\r\nimport ReactLoading from 'react-loading';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withRouter } from 'react-router-dom'\r\nclass ConceptClustersPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            apiLoading: this.props.conceptClusters.apiLoading,\r\n            apiServerError: this.props.conceptClusters.apiServerError,\r\n            apiNetworkError: this.props.conceptClusters.apiNetworkError,\r\n            /**\r\n             * normalized states\r\n             */\r\n            authors:this.props.conceptClusters.authors,\r\n            keywords:this.props.conceptClusters.keywords,\r\n            sortedConcepts:this.props.sortedConcepts,\r\n            sortedPerspectives:this.props.sortedPerspectives,\r\n            uniqueAuthors:this.props.uniqueAuthors,\r\n            perspectives:this.props.conceptClusters.perspective\r\n             /**\r\n             * end of normalized states\r\n             */\r\n        }\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Concept-Clusters\"){\r\n                    this.props.getConceptClusterFromApi(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getConceptCluster(cluster) {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/conceptCluster`, { cluster }).then(data => {\r\n                if(data.data.obj){\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                let author_group = await getAuthorGroups(filters);\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = author_group.map(group => group.id);\r\n                let result = await this.getConceptCluster(cluster);\r\n                if (result) {\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.addTag(author_group);\r\n                    this.props.setSelectedItem(result);\r\n                } else {\r\n                    return <Redirect to='/Message' />\r\n                }\r\n            } else {\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = [];\r\n                let result = await this.getConceptCluster(cluster);\r\n                this.props.setSelectedItem(result);\r\n                this.setState({\r\n                    selectedOption: result\r\n                });\r\n                this.props.getConceptClusterFromApi(this.state.selectedOption.id);\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushConceptClusterState();\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                apiLoading: nextProps.conceptClusters.apiLoading,\r\n                apiServerError: nextProps.conceptClusters.apiServerError,\r\n                apiNetworkError: nextProps.conceptClusters.apiNetworkError,\r\n            /**\r\n             * normalized states\r\n             */\r\n                authors:nextProps.conceptClusters.authors,\r\n                keywords:nextProps.conceptClusters.keywords,\r\n                sortedConcepts:nextProps.sortedConcepts,\r\n                sortedPerspectives:nextProps.sortedPerspectives,\r\n                uniqueAuthors:nextProps.uniqueAuthors,\r\n                perspectives:nextProps.conceptClusters.perspective\r\n             /**\r\n             * end of normalized states\r\n             */\r\n\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Concept-Clusters\") {\r\n                this.props.getConceptClusterFromApi(nextProps.navbar.selectedOption.id);\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                apiLoading: nextProps.conceptClusters.apiLoading,\r\n                apiServerError: nextProps.conceptClusters.apiServerError,\r\n                apiNetworkError: nextProps.conceptClusters.apiNetworkError,\r\n                /**\r\n             * normalized states\r\n             */\r\n                authors:nextProps.conceptClusters.authors,\r\n                keywords:nextProps.conceptClusters.keywords,\r\n                sortedConcepts:nextProps.sortedConcepts,\r\n                sortedPerspectives:nextProps.sortedPerspectives,\r\n                uniqueAuthors:nextProps.uniqueAuthors,\r\n                perspectives:nextProps.conceptClusters.perspective\r\n            /**\r\n             * end of normalized states\r\n             */\r\n            })\r\n        }\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption.category == \"Concept-Clusters\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getConceptCluster(cluster);\r\n                if (result) {\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getConceptClusterFromApi(nextProps.navbar.selectedOption.id);\r\n                } else {\r\n                   \r\n                   this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    onLikeClick(id) {\r\n        if (this.state.perspectives[id].isLike) {\r\n            this.props.decreasePerspectiveLike(id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n        }\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\";\r\n        this.props.flushConceptClusterState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"overflowhidden\" style={{ overflow: \"hidden\" }}>\r\n                {this.state.selectedOption.id && this.state.selectedOption.category == \"Concept-Clusters\" && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\",  overflow: \"auto\", textAlign: \"\" }}>\r\n                            <div class=\"mb-2 bg-white text-center p-2\">\r\n                                <b><h4>{ this.state.selectedOption.label}</h4></b>\r\n                            </div>\r\n                            {this.state.sortedConcepts&&this.state.sortedConcepts.length > 0 && <div className=\"bg-white mt-2\"><div className=\"\" style={{ width: \"150px\", margin: \"auto\" }}>\r\n                                { this.state.sortedConcepts.map(concept => {\r\n                                    if (concept.name != undefined) {\r\n                                        return <a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    conceptClicked: true,\r\n                                                    authorClicked: false,\r\n                                                }\r\n                                            )\r\n                                        }} href={\"#\" + concept.id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }}><b>{concept.name}</b></a>\r\n                                    }\r\n                                })}\r\n                            </div></div>}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\" }}>\r\n                            <div id=\"main-content\" style={{ backgroundColor: \"#F6F0EF\" }}>\r\n                                <div id=\"img\" style={{ width: \"458px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"458px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                </div> */}\r\n                                {\r\n                                    this.state.sortedPerspectives && this.state.sortedPerspectives.length > 0 && this.state.sortedPerspectives.map(data => {\r\n\r\n                                        return (\r\n                                            <Context\r\n                                                data={data}\r\n                                                onAuthorClick={this.onAuthorClick}\r\n                                                flushConceptClusterState={this.props.flushConceptClusterState}\r\n                                                setSelectedItem={this.props.setSelectedItem}\r\n                                                authors={this.state.authors}\r\n                                                onLikeClick={this.onLikeClick}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"2px solid black\", borderRight: \"1px solid black\", textAlign: \"\" }}>\r\n                            {this.state.uniqueAuthors && this.state.uniqueAuthors.length > 0 && this.state.uniqueAuthors.map(data => {\r\n                                return (\r\n                                    <div style={{ padding: \" 0px 10px\", width: \"150px\", margin: \"auto\" }}><a onClick={() => {\r\n                                        this.props.setClickedState(\r\n                                            {\r\n                                                authorClicked: true,\r\n                                                conceptClicked: false,\r\n                                            }\r\n                                        )\r\n                                    }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\" }} href={\"#\" + data.lastName}><b>{(data.lastName && data.firstName) ? (data.lastName + \", \" + data.firstName) : (data.lastName ? data.lastName : (data.firstName ? data.firstName : \"\"))}</b></a></div>\r\n                                );\r\n\r\n                            })}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                This place is for adds\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushConceptClusterState: bindActionCreators(flushConceptClusterState, dispatch),\r\n        getConceptClusterFromApi: bindActionCreators(getConceptClusterFromApi, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        setClickedState:bindActionCreators(setClickedState,dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        conceptClusters: state.conceptClusters,\r\n        sortedConcepts:getUniqueSortedConceptsFromConceptCluster(state),\r\n        sortedPerspectives: getPerspectivesFromConceptCluster(state),\r\n        uniqueAuthors:getUniqueAuthorsFromConceptCluster(state)\r\n\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ConceptClustersPage));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\nclass Message extends Component{\r\n    render(){\r\n        return(\r\n            <div style={{margin:\"100px auto\",textAlign:\"center\"}}>\r\n                <h1>\r\n                    Try a search...\r\n                </h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Message;","import {schema} from 'normalizr';\r\nconst authorGroup=new schema.Entity(\"authorGroups\");\r\n//,{idAttribute:'conceptId'}\r\nexport const authorClusterSchema=new schema.Entity(\"authorCluster\",[])","import axios from 'axios';\r\nimport {normalize} from 'normalizr';\r\nimport{authorClusterSchema} from '../schema/authorClusterSchema';\r\nexport function flushAuthorClusterState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_AUTHOR_CLUSTER\",\r\n        })\r\n    }\r\n}\r\n\r\n// export function getAutherClusterDetailsViaSupra(id) {\r\n//     // console.log('get author cluster details via supra ', id);\r\n//     let query = `SELECT * from concept_discrete join __perspectives on\r\n//     concept_discrete.discrete_concept_name_id=__perspectives.concept_id\r\n//     join __author on\r\n//     __author.auth_id=__perspectives.auth_id join\r\n//     author_relationary_author_with_distinct_grouping on\r\n//     author_relationary_author_with_distinct_grouping.auth_id=__author.auth_id\r\n//     join author_relationary_distinct_groupings on\r\n//     author_relationary_distinct_groupings.distinct_grouping_id =author_relationary_author_with_distinct_grouping.distinct_grouping_id\r\n//     join author_relationary_distinct_grouping_with_supra on\r\n//     author_relationary_distinct_grouping_with_supra.distinct_grouping_id=author_relationary_distinct_groupings.distinct_grouping_id\r\n//     join author_relationary_supra on\r\n//     author_relationary_supra.author_supra_id=author_relationary_distinct_grouping_with_supra.supra_id\r\n//     where author_relationary_supra.author_supra_id=${id} order by concept_discrete.discrete_concept_name`\r\n\r\n//     var options = {\r\n//         method: 'POST',\r\n//         url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n//         headers:\r\n//         {\r\n//             'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n//             'cache-control': 'no-cache',\r\n//             'content-type': 'application/x-www-form-urlencoded'\r\n//         },\r\n//         form: { query: query }\r\n//     };\r\n//     return dispatch => {\r\n//         request(options, function (error, response, body) {\r\n//             let data = JSON.parse(body);\r\n//             // console.log(data);\r\n//             dispatch({\r\n//                 type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n//                 payload: data\r\n//             })\r\n\r\n//             if (data.length > 0) {\r\n//                 let uniqueConceptsDiscrete = [];\r\n//                 let uniqueConceptsIds = [];\r\n//                 data.forEach(element => {\r\n//                     if (!(uniqueConceptsIds.includes(element.discrete_concept_name_id))) {\r\n//                         let discrete_concept_name = element.discrete_concept_name;\r\n//                         let discrete_concept_name_id = element.discrete_concept_name_id;\r\n//                         uniqueConceptsIds.push(element.discrete_concept_name_id);\r\n//                         uniqueConceptsDiscrete.push({ discrete_concept_name_id, discrete_concept_name });\r\n//                     }\r\n//                     else {\r\n//                     }\r\n//                 });\r\n//                 // uniqueConceptsDiscrete.sort((a, b) => (a.discrete_concept_name > b.discrete_concept_name) ? 1 : ((b.discrete_concept_name > a.discrete_concept_name) ? -1 : 0))\r\n//                 // console.log(\"Author Cluster before dispatch only concept names\", uniqueConceptsDiscrete.discrete_concept_name)\r\n//                 dispatch({\r\n//                     type: \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\",\r\n//                     payload: uniqueConceptsDiscrete,\r\n//                 })\r\n\r\n//             }\r\n//         });\r\n//     }\r\n// }\r\n// export function getAutherClusterDetails(id) {\r\n//     let query = `SELECT * from concept_discrete join __perspectives on\r\n//     concept_discrete.discrete_concept_name_id=__perspectives.concept_id\r\n//     join __author on\r\n//     __author.auth_id=__perspectives.auth_id join\r\n//     author_relationary_author_with_distinct_grouping on\r\n//     author_relationary_author_with_distinct_grouping.auth_id=__author.auth_id\r\n//     join author_relationary_distinct_groupings on\r\n//     author_relationary_distinct_groupings.distinct_grouping_id =author_relationary_author_with_distinct_grouping.distinct_grouping_id\r\n//     where author_relationary_distinct_groupings.distinct_grouping_id=${id} order by concept_discrete.discrete_concept_name`\r\n\r\n//     var options = {\r\n//         method: 'POST',\r\n//         url: 'https://cors-anywhere.herokuapp.com/' + 'http://ec2-18-220-90-81.us-east-2.compute.amazonaws.com:8126/',\r\n//         headers:\r\n//         {\r\n//             'postman-token': '8353454e-497c-0ace-22b4-e962adde3d97',\r\n//             'cache-control': 'no-cache',\r\n//             'content-type': 'application/x-www-form-urlencoded'\r\n//         },\r\n//         form: { query: query }\r\n//     };\r\n//     return dispatch => {\r\n//         request(options, function (error, response, body) {\r\n//             let data = JSON.parse(body);\r\n//             // console.log(data);\r\n//             dispatch({\r\n//                 type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n//                 payload: data\r\n//             })\r\n\r\n//             if (data.length > 0) {\r\n\r\n//                 let uniqueConceptsDiscrete = [];\r\n//                 let uniqueConceptsIds = [];\r\n//                 data.forEach(element => {\r\n//                     if (!(uniqueConceptsIds.includes(element.discrete_concept_name_id))) {\r\n//                         let discrete_concept_name = element.discrete_concept_name;\r\n//                         let discrete_concept_name_id = element.discrete_concept_name_id;\r\n//                         uniqueConceptsIds.push(element.discrete_concept_name_id);\r\n//                         uniqueConceptsDiscrete.push({ discrete_concept_name_id, discrete_concept_name });\r\n//                     }\r\n//                     else {\r\n\r\n//                     }\r\n//                 });\r\n\r\n//                 // uniqueConceptsDiscrete.sort((a, b) => (a.discrete_concept_name > b.discrete_concept_name) ? 1 : ((b.discrete_concept_name > a.discrete_concept_name) ? -1 : 0))\r\n//                 // console.log(\"2Author Cluster before dispatch only concept names\", uniqueConceptsDiscrete)\r\n//                 dispatch({\r\n//                     type: \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\",\r\n//                     payload: uniqueConceptsDiscrete,\r\n//                 })\r\n\r\n//             }\r\n\r\n//         });\r\n//     }\r\n// }\r\n\r\nexport function getAuthorCluster(id, via) {\r\n    // console.log('Get Author Cluster action', id, via);\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"REQUEST_STARTED\"\r\n        })\r\n        getAuthorClusterHelper(id, via).then(data => {\r\n            let normalizedData=normalize(data,[authorClusterSchema]);\r\n            normalizedData.data=data;\r\n            console.log(normalizedData)\r\n            dispatch({\r\n                type: \"GET_AUTHOR_CLUSTER_DETAILS\",\r\n                payload: normalizedData,\r\n            })\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"NETWORK_ERROR\"\r\n            })\r\n            console.log('Error while getting detailed author cluster', error);\r\n        })\r\n    }\r\n}\r\nfunction getAuthorClusterHelper(id, via) {\r\n    // alert(via)\r\n    return new Promise(async (res, rej) => {\r\n        let result = [];\r\n        try {\r\n            let result1 = {};\r\n            if (via === 'Author Clusters') {\r\n                //alert(\"getting data cluster\");\r\n                result1 = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorClusters/${id}/perspectives?relationships=true`);\r\n            }\r\n            else if (via === 'Author Groups') {\r\n                result1 = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups/${id}/perspectives?relationships=true`);\r\n            }\r\n            if (result1.data.responseType == 'success') {\r\n                console.log(\"getting data response\");\r\n                result = result1.data.data;\r\n            }\r\n            res(result);\r\n        } catch (e) {\r\n            console.log('getting detailed author cluster error', e);\r\n            rej(result);\r\n        }\r\n    })\r\n}\r\n\r\nexport function setClickedState(obj){\r\n    return dispatch=>{\r\n        dispatch({\r\n            type:'CLICKED_STATE',\r\n            payload:obj\r\n        })\r\n    }\r\n}\r\n\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport conceptsSorter from \"../../utils/conceptsSorterFunction\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactLoading from 'react-loading';\r\nimport Axios from 'axios';\r\nimport queryString from \"query-string\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { getAutherClusterDetailsViaSupra,\r\n     getAutherClusterDetails,\r\n      flushAuthorClusterState,\r\n       getAuthorCluster,\r\n       setClickedState,\r\n       increasePerspectiveLike,\r\n       decreasePerspectiveLike\r\n    } from \"../../actions/autherCluster\";\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport {\r\n    getUniqueSortedConceptNameFromAuthorCluster,\r\n    getDynamicSortedAuthorClusterWithDetails,\r\n    getSortedAuthorClusterWithDetailsByAuthorLast\r\n} from '../../selectors';\r\nclass AutherCluster extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            //authorClustersWithDetails: this.props.autherCluster.authorClustersWithDetails,\r\n            // authorClusterConceptsDiscrete: this.props.autherCluster.authorClusterConceptsDiscrete,\r\n            apiLoading: this.props.autherCluster.apiLoading,\r\n            apiServerError: this.props.autherCluster.apiServerError,\r\n            apiNetworkError: this.props.autherCluster.apiNetworkError,\r\n            // authorClicked: false,\r\n            // conceptClicked: true,\r\n            //Normalized states\r\n            sortedConceptsNames: this.props.sortedConceptsNames,\r\n            dynamicSortedAuthorCluster: this.props.dynamicSortedAuthorCluster,\r\n            sortedAuthorClusterDetail: this.props.sortedAuthorClusterDetail,\r\n            perspectives:this.props.autherCluster.authorCluster,\r\n            //End of normalized staes\r\n        }\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        //this.getDynamicSortedAuthorClusterWithDetails = this.getDynamicSortedAuthorClusterWithDetails.bind(this);\r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\")\r\n                    // if (this.props.navbar.selectedOption.via) {\r\n                    //     // console.log(\"Helo\");\r\n                    //     this.props.getAutherClusterDetailsViaSupra(this.props.navbar.selectedOption.id);\r\n                    // }\r\n                    // this.props.getAutherClusterDetails(this.props.navbar.selectedOption.id);\r\n                }\r\n                if (this.props.navbar.selectedOption.category == \"Author-Groups\") {\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Groups\")\r\n                    // if (this.props.navbar.selectedOption.via) {\r\n                    //     // console.log(\"Helo\");\r\n                    //     this.props.getAutherClusterDetailsViaSupra(this.props.navbar.selectedOption.id);\r\n                    // }\r\n                    // this.props.getAutherClusterDetails(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getAutherCluster(cluster) {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorClusters`, { cluster }).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n\r\n                resolve(\"\");\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    getAuthorGroups = (filters) => {\r\n        let filterobj = {};\r\n        filterobj.filters = filters;\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/authorGroups`, filterobj)\r\n                .then(data => {\r\n                    resolve(data.data);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        });\r\n    }\r\n   async getAuthorGroupByName(name){\r\n       let filters=[this.props.match.params.name];\r\n       let authorGroup=await this.getAuthorGroups(filters);\r\n       if(authorGroup[0]){\r\n           authorGroup=authorGroup[0]\r\n           this.props.setSelectedItem({\r\n               label:authorGroup.label,\r\n               value:authorGroup.value,\r\n               id:authorGroup.id,\r\n               category:'Author-Groups'\r\n           });\r\n       }\r\n   }\r\n    async componentWillMount() { \r\n        let url=this.props.location.pathname.split('/')[1];\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                if(url==\"author-groups\"||url==\"Author-Groups\"){\r\n                    this.getAuthorGroupByName();\r\n                  }else{\r\n                    let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                    if (typeof queryFilters === \"string\") {\r\n                        filters.push(queryFilters);\r\n                    } else {\r\n                        filters = queryFilters;\r\n                    }\r\n                    let author_group = await this.getAuthorGroups(filters);\r\n                    let cluster = {};\r\n                    cluster.name = this.props.match.params.name;\r\n                    cluster.groupIds = author_group.map(group => group.id);\r\n                    let result = await this.getAutherCluster(cluster);\r\n                    if (result) {\r\n                        this.props.addTag(author_group);\r\n                        this.props.setSelectedItem(result);\r\n                        this.setState({\r\n                            selectedOption: result\r\n                        });\r\n                    } else {\r\n                        this.props.history.push(\"/Message\");\r\n                    }\r\n                  }\r\n            }\r\n            else {\r\n                if(url==\"author-groups\"||url==\"Author-Groups\"){\r\n                  this.getAuthorGroupByName();\r\n                }\r\n                let cluster = {};\r\n                cluster.name = this.props.match.params.name;\r\n                cluster.groupIds = [];\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption && nextProps.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Clusters\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption && nextProps.navbar.selectedOption.category == \"Author-Groups\") {\r\n                let cluster = {};\r\n                cluster.name = nextProps.navbar.selectedOption.value;\r\n                cluster.groupIds = nextProps.navbar.tags.map(group => group.id);\r\n                let result = await this.getAutherCluster(cluster);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.getAuthorCluster(this.props.navbar.selectedOption.id, \"Author Groups\");\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                //authorClustersWithDetails: nextProps.autherCluster.authorClustersWithDetails,\r\n                apiLoading: nextProps.autherCluster.apiLoading,\r\n                apiServerError: nextProps.autherCluster.apiServerError,\r\n                apiNetworkError: nextProps.autherCluster.apiNetworkError,\r\n                // authorClusterConceptsDiscrete: nextProps.autherCluster.authorClusterConceptsDiscrete,\r\n                //Normalized states\r\n                sortedConceptsNames: nextProps.sortedConceptsNames,\r\n                dynamicSortedAuthorCluster: nextProps.dynamicSortedAuthorCluster,\r\n                sortedAuthorClusterDetail: nextProps.sortedAuthorClusterDetail,\r\n                perspectives:nextProps.autherCluster.authorCluster,\r\n                //End of normalized staes\r\n            })\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Author-Clusters\") {\r\n                this.props.getAuthorCluster(nextProps.navbar.selectedOption.id, \"Author Clusters\")\r\n            }\r\n\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Author-Groups\") {\r\n                this.props.getAuthorCluster(nextProps.navbar.selectedOption.id, \"Author Groups\")\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                //authorClustersWithDetails: nextProps.autherCluster.authorClustersWithDetails,\r\n                apiLoading: nextProps.autherCluster.apiLoading,\r\n                apiServerError: nextProps.autherCluster.apiServerError,\r\n                apiNetworkError: nextProps.autherCluster.apiNetworkError,\r\n                //authorClusterConceptsDiscrete: nextProps.autherCluster.authorClusterConceptsDiscrete,\r\n                //Normalized states\r\n                sortedConceptsNames: nextProps.sortedConceptsNames,\r\n                dynamicSortedAuthorCluster: nextProps.dynamicSortedAuthorCluster,\r\n                sortedAuthorClusterDetail: nextProps.sortedAuthorClusterDetail,\r\n                perspectives:nextProps.autherCluster.authorCluster\r\n                //End of normalized staes\r\n            })\r\n        }\r\n        // console.log(\"author clusters State\", this.state);\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.author_first + \" \" + author.author_last;\r\n        let value = label;\r\n        let id = author.auth_id;\r\n        let born = author.born;\r\n        let died = author.died;\r\n        let category = \"Authors\"\r\n        this.props.flushAuthorClusterState()\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n    }\r\n    onLikeClick(id) {\r\n        if (this.state.perspectives[id].isLike) {\r\n            this.props.decreasePerspectiveLike(id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(id);\r\n        }\r\n    }\r\n    // getSortedAuthorClusterWithDetailsByAuthorLast(AuthorClusterWithDetails) {\r\n    //     let copyAuthorClusterWithDetails = [...AuthorClusterWithDetails];\r\n    //     copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //         var textA = a.authorLastName.toUpperCase();\r\n    //         var textB = b.authorLastName.toUpperCase();\r\n    //         return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //     });\r\n    //     return copyAuthorClusterWithDetails;\r\n    // }\r\n    // getDynamicSortedAuthorClusterWithDetails(AuthorClusterWithDetails) {\r\n    //     let copyAuthorClusterWithDetails = [...AuthorClusterWithDetails];\r\n    //     if (this.state.authorClicked) {\r\n    //         copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //             var textA = a.authorLastName.toUpperCase();\r\n    //             var textB = b.authorLastName.toUpperCase();\r\n    //             return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         });\r\n    //     }\r\n    //     else if (this.state.conceptClicked) {\r\n    //         copyAuthorClusterWithDetails.sort(function (a, b) {\r\n    //             var authorA = a.authorLastName.toUpperCase();\r\n    //             var authorB = b.authorLastName.toUpperCase();\r\n    //             var textA = a.conceptName.toUpperCase();\r\n    //             var textB = b.conceptName.toUpperCase();\r\n    //             if (textA === textB) {\r\n    //                 return (authorA < authorB) ? -1 : (authorA > authorB) ? 1 : 0;\r\n    //             }\r\n    //             else {\r\n    //                 if (textA === \"CULTURE\") {\r\n    //                     console.log(\"not author sorting\");\r\n    //                 }\r\n    //                 return (textA < textB) ? -1 : 1;\r\n    //             }\r\n    //             // return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\r\n    //         });\r\n    //     }\r\n    //     return copyAuthorClusterWithDetails;\r\n    // }\r\n    render() {\r\n        let arr = [];\r\n        return (\r\n            <div className=\"overflowhidden\" style={{ overflow: \"hidden\" }}>\r\n                {this.state.selectedOption.id && (this.state.selectedOption.category == \"Author-Clusters\" || this.state.selectedOption.category == \"Author-Groups\") && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && !this.state.apiNetworkError && !this.state.apiServerError && <div className=\"row\">\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\", textAlign: \"\" }}>\r\n                            <div class=\"mb-2 bg-white text-center p-2\">\r\n                                <b><h4>{ this.state.selectedOption.label}</h4></b>\r\n                            </div>\r\n                            <div class=\"bg-white\">\r\n                            {this.state.sortedConceptsNames && (this.state.sortedConceptsNames.length > 0 && <div style={{ width: \"150px\", margin: \"auto\" }}>\r\n                                {this.state.sortedConceptsNames.map(concept => {\r\n                                    if (concept.name != undefined) {\r\n                                        return <a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    authorClicked: false,\r\n                                                    conceptClicked: true,\r\n                                                }\r\n                                            )\r\n\r\n                                        }} href={\"#\" + concept.id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} ><b>{concept.name}</b></a>\r\n                                    }\r\n                                })}\r\n                            </div>)}</div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"#F6F0EF\", height: \"89vh\", overflow: \"auto\" }}>\r\n                            <div id=\"main-content\" style={{ backgroundColor: \"#F6F0EF\" }}>\r\n                                <div id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                    <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                </div>\r\n                                {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Positive\r\n                                    </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Critical\r\n                                    </label>\r\n                                    <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                        <input type=\"checkbox\" value=\"\" />Funny\r\n                                    </label>\r\n                                </div> */}\r\n                                {\r\n                                    this.state.dynamicSortedAuthorCluster && this.state.dynamicSortedAuthorCluster.length > 0 && this.state.dynamicSortedAuthorCluster.map(data => {\r\n                                        return (<div id={data.concept_id}><div id={data.authorLastName} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                            <b style={{ color: \"blue\", cursor: \"pointer\" }} onClick={() => {\r\n                                                this.props.flushAuthorClusterState();\r\n                                                this.props.setSelectedItem({ label: data.conceptName, value: data.conceptName, id: data.conceptId, category: \"Concepts\" })\r\n                                            }}>{data.pronoun}{\" \"} {data.conceptName}</b>{\" is \"}{data.description}\r\n                                            <div onClick={() => this.onAuthorClick({ auth_id: data.authorId, author_first: data.authorFirstName, author_last: data.authorLastName, born: \"1885\", died: \"1960\" })} style={{ color: \"red\", cursor: \"pointer\" }}>{data.authorFirstName}{\" \"}{data.authorLastName}</div>\r\n                                            <div className=\"pull-right\">\r\n                                                <i style={{ color:data.isLike?\"red\":\"grey\",fontSize:20}} className=\"fa fa-thumbs-up\" onClick={()=>{this.onLikeClick(data.id)}}></i>&nbsp;[{data.loves ? data.loves : 0}]&nbsp;&nbsp; <span className=\"contextbutton fa fa-ellipsis-h\" id=\"AutherCluster\" onClick={() => {\r\n                                                    this.setState({\r\n                                                        visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                        id: data.id,\r\n                                                    })\r\n                                                }} style={{ cursor: \"pointer\" }}></span>\r\n                                            </div>\r\n                                            <div id={data.id} style={{ marginTop: \"20px\", display: [data.id == this.state.id ? this.state.visibility : \"none\"] }} >{data.long_description}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                                        </div></div>);\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderRight: \"1px solid black\", borderLeft: \"2px solid black\", textAlign: \"\" }}>\r\n                            {this.state.sortedAuthorClusterDetail && this.state.sortedAuthorClusterDetail.length > 0 && this.state.sortedAuthorClusterDetail.map(data => {\r\n                                if (!(arr.includes(data.authorId))) {\r\n                                    arr.push(data.authorId);\r\n                                    return (\r\n                                        <div style={{ padding: \" 0px 10px\", width: \"160px\", margin: \"auto\" }}><a onClick={() => {\r\n                                            this.props.setClickedState(\r\n                                                {\r\n                                                    authorClicked: true,\r\n                                                    conceptClicked: false\r\n                                                }\r\n                                            )\r\n\r\n                                        }} style={{ color: \"black\", textDecoration: \"none\", cursor: \"pointer\" }} href={\"#\" + data.authorLastName}><b>{(data.authorLastName && data.authorFirstName) ? (data.authorLastName + \", \" + data.authorFirstName) : (data.authorLastName ? data.authorFirstName : (data.authorFirstName ? data.authorFirstName : \"\"))}</b></a></div>\r\n                                    );\r\n                                }\r\n                            })}\r\n                        </div>\r\n                        <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\" }}>\r\n                            <div className=\"text-center\">\r\n                                This place is for adds\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// const getUniqueSortedConceptNameFromClusterDetails = (clustersWithDetails) => {\r\n//     let uniqueConceptNames = [];\r\n//     let uniqueConcepts = [];\r\n//     clustersWithDetails.map(clusterWithDetails => {\r\n//         if (!uniqueConceptNames.includes(clusterWithDetails.conceptName)) {\r\n//             uniqueConceptNames.push(clusterWithDetails.conceptName);\r\n//             uniqueConcepts.push({ name: clusterWithDetails.conceptName, id: clusterWithDetails.conceptId });\r\n//         }\r\n//     })\r\n//     return uniqueConcepts.sort(conceptsSorter);\r\n// }\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        //getAutherClusterDetails: bindActionCreators(getAutherClusterDetails, dispatch),\r\n        //getAutherClusterDetailsViaSupra: bindActionCreators(getAutherClusterDetailsViaSupra, dispatch),\r\n        flushAuthorClusterState: bindActionCreators(flushAuthorClusterState, dispatch),\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        getAuthorCluster: bindActionCreators(getAuthorCluster, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        setClickedState: bindActionCreators(setClickedState, dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    // console.log(\"state in mapStateToProps\", state);\r\n    return {\r\n        navbar: state.navbar,\r\n        autherCluster: state.autherCluster,\r\n        sortedConceptsNames: getUniqueSortedConceptNameFromAuthorCluster(state),\r\n        dynamicSortedAuthorCluster:getDynamicSortedAuthorClusterWithDetails(state),\r\n        sortedAuthorClusterDetail: getSortedAuthorClusterWithDetailsByAuthorLast(state)\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AutherCluster));","import {schema} from 'normalizr';\r\nconst authorBioHeading=new schema.Entity('AuthorBioHeadings')\r\nconst authorGroup= new schema.Entity('AuthorGroups',{\r\n    AuthorBioHeading:authorBioHeading\r\n});\r\nconst book=new schema.Entity(\"books\")\r\nconst concept=new schema.Entity('concepts');\r\nconst perspective=new schema.Entity('perspectives',{\r\n    Concept:concept\r\n})\r\nexport const authorSchema=new schema.Entity(\"authors\",{\r\n    Perspectives:[perspective],\r\n    AuthorGroups:[authorGroup],\r\n    Books:[book]\r\n});","import { bindActionCreators } from \"redux\";\r\nimport {normalize} from 'normalizr';\r\nimport {authorSchema} from '../schema/authorSchema';\r\nimport axios from 'axios';\r\nlet request = require(\"request\");\r\nexport function flushAuthorState() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"FLUSH_AUTHOR\",\r\n        })\r\n    }\r\n}\r\nexport function increasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"increase\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = true;\r\n                dispatch({\r\n                    type: 'AUTHOR_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function decreasePerspectiveLike(id) {\r\n    let like = {};\r\n    like.type = \"decrease\";\r\n    like.id = id;\r\n    return dispatch => {\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/like`, { like })\r\n            .then(res => {\r\n                res.data.perspective.isLike = false;\r\n                dispatch({\r\n                    type: 'AUTHOR_PERSPECTIVE_LIKE',\r\n                    payload: res.data.perspective\r\n                })\r\n            })\r\n    }\r\n}\r\nexport function getAuthorInfluencedByAuthors(id) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"GET_AUTHOR_AUTHORS_PENDING\"\r\n        })\r\n        axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}/0/true?relationships=true&withSelfAssociationsOnly=true`).then(data => {\r\n            console.log(\"Got Data there for id \"+id,data.data);\r\n            const { responseType } = data.data;\r\n            if (responseType == 'success') {\r\n               // getPictureLinks(data.data.data);\r\n                const author_authors_details =data.data.data;\r\n                dispatch({\r\n                    type: \"GET_AUTHOR_AUTHORS_SUCCESS\",\r\n                    payload: author_authors_details,\r\n                })\r\n            }\r\n            else {\r\n                dispatch({\r\n                    type: \"GET_AUTHOR_AUTHORS_SERVER_ERROR\"\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: \"GET_AUTHOR_AUTHORS_NETWORK_ERROR\"\r\n            })\r\n            console.log('Error While fetching author_author details from api', error);\r\n        })\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction getPictureLinks(data){\r\n    let author_lastName=(((data.lastName).split(\" \")).join(\"+\")).toLowerCase();\r\n    let author_firstName=(((data.firstName).split(\" \")).join(\"+\")).toLowerCase();\r\n    author_firstName=((author_firstName).split(\".\")).join(\"\");\r\n    let author_image=author_lastName.concat(\"+\"+author_firstName+\".jpg\");\r\n    data.pictureLink=`https://conceptionary-images.s3.amazonaws.com/${author_image}`;\r\n    return data;\r\n}\r\n\r\nexport function getAuthorDetails(id,offset=0,likes=true) {\r\n    return dispatch => {\r\n        \r\n        console.log(\"sending offset\",offset)\r\n        if(offset>0)\r\n            {\r\n                axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}/${offset}/${likes}?relationships=true`).then(data => {\r\n                    console.log(data.data);\r\n                    const { responseType } = data.data;\r\n                    if (responseType == 'success') {\r\n                        const authorDetailsFromApi =getPictureLinks( data.data.data);\r\n                        const normalizedData =normalize(authorDetailsFromApi,authorSchema)\r\n                          if(authorDetailsFromApi.Perspectives<100)\r\n                          {\r\n                            authorDetailsFromApi['finish']=true\r\n                          }\r\n                          else\r\n                          authorDetailsFromApi['finish']=false\r\n                          \r\n                        dispatch({\r\n                                type: \"GET_AUTHOR_DETAILS_BY_SCROLL\",\r\n                                payload: authorDetailsFromApi,\r\n                            })\r\n                        dispatch({\r\n                            type:'AUTHOR_DETAILS_BY_SCROLL',\r\n                            payload:normalizedData.entities\r\n                        })\r\n                    }\r\n                    else {\r\n                        dispatch({\r\n                            type: \"SERVER_ERROR\"\r\n                        })\r\n                    }\r\n                }).catch(error => {\r\n                    dispatch({\r\n                        type: \"NETWORK_ERROR\"\r\n                    })\r\n                    console.log('Error While fetching author details from api', error);\r\n                })\r\n            }\r\n            else{\r\n               \r\n                axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/authors/${id}/${offset}/${likes}?relationships=true`).then(data => {\r\n                    const { responseType } = data.data;\r\n                    if (responseType == 'success') {\r\n                        const authorDetailsFromApi =getPictureLinks( data.data.data);\r\n                        const normalizedData =normalize(authorDetailsFromApi,authorSchema)\r\n                        console.log(authorDetailsFromApi);\r\n                        if(authorDetailsFromApi.Perspectives.length<0)\r\n                        {\r\n                            authorDetailsFromApi['finish']=true\r\n                        }\r\n                        else{\r\n                            authorDetailsFromApi['finish']=false\r\n                        }\r\n                        \r\n                        dispatch({\r\n                            type: \"GET_AUTHOR_DETAILS\",\r\n                            payload: authorDetailsFromApi,\r\n                        })\r\n                        dispatch({\r\n                            type:'AUTHOR_DETAILS',\r\n                            payload:normalizedData.entities\r\n                        })\r\n                    }\r\n                    else {\r\n                        dispatch({\r\n                            type: \"SERVER_ERROR\"\r\n                        })\r\n                    }\r\n                }).catch(error => {\r\n                    dispatch({\r\n                        type: \"NETWORK_ERROR\"\r\n                    })\r\n                    console.log('Error While fetching author details from api', error);\r\n                })\r\n            }\r\n\r\n\r\n        \r\n        }\r\n}","import React, { Component } from 'react';\r\nimport \"./AuthorPage.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactDOM from 'react-dom';\r\nimport { setSelectedCategory, setSelectedItem, flushState, addTag } from \"../../actions/navbaractions\";\r\nimport { flushAuthorClusterState } from '../../actions/autherCluster';\r\nimport { getAuthorGroups } from \"../../utilities\";\r\nimport { getUniqueConcept, getSortedPerspectivesByConceptName, getAuthorBioData, getUniqueAuthorBooks } from '../../selectors';\r\nimport queryString from \"query-string\";\r\nimport Axios from 'axios';\r\nimport ReactLoading from \"react-loading\";\r\nimport loading from '../../../src/loading.gif';\r\nimport { getAuthorDetails, getAuthorInfluencedByAuthors,flushAuthorState,increasePerspectiveLike,decreasePerspectiveLike,getAutherPerspectiveByScroll } from \"../../actions/authorActions\";\r\nimport $ from \"jquery\";\r\nclass AuthorPage extends Component {\r\n    \r\n    prevFirst=0;\r\n    prevSecond=0;\r\n    prevThird=0;\r\n    offset=0\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            query: \"\",\r\n            selectedOption: this.props.navbar.selectedOption,\r\n            // apiLoading: this.props.author.apiLoading,\r\n            // apiServerError: this.props.author.apiServerError,\r\n            // apiNetworkError: this.props.author.apiNetworkError,\r\n            //authorsWithDetails: this.props.author.authorsWithDetails,\r\n            // author_authors_apiLoading: this.props.author.author_authors_apiLoading,\r\n            // author_authors_apiServerError: this.props.author.author_authors_apiServerError,\r\n            // author_authors_apiNetworkError: this.props.author.author_authors_apiNetworkError,\r\n            author_authors: this.props.author.author_authors,\r\n            authorInfluencedByAuthors: this.props.author.authorInfluencedByAuthors,\r\n            authorInfluencedOnAuthors: this.props.author.author_authors.AuthorInfluenceAuthors,\r\n            authorConvoWithAuthors: this.props.author.author_authors.AuthorConvoAuthors,\r\n            id: \"\",\r\n            visibility: \"none\",\r\n            showBooks: false,\r\n            sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(this.props.author.authorInfluencedByAuthors),\r\n            sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(this.props.author.author_authors.AuthorInfluenceAuthors),\r\n            sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(this.props.author.author_authors.AuthorConvoAuthors),\r\n            index: 0,\r\n            index1: 0,\r\n            index2: 0,\r\n            loading: this.props.author.loading,\r\n            //normalized states\r\n            //authorBioHeadings: this.props.author.authorBioHeadings,\r\n            //authorGroups: this.props.author.authorGroups,\r\n            authorPerspectives: this.props.author.authorPerspectives,\r\n            author: this.props.author.author,\r\n            concepts: this.props.author.concepts,\r\n            UniqueConcepts: this.props.uniqueconcepts,\r\n            sortedPerspectives: this.props.sortedperpectives,\r\n            authorBio: this.props.authorBio,\r\n            authorBooksById: this.props.authorBooksById,\r\n            authorBooks: this.props.author.authorBooks,\r\n            loadImage:\"none\",\r\n            perspectiveLoading:true,\r\n            offset:1,\r\n            sortByName:true,\r\n            end:false\r\n            \r\n            \r\n            //authorOnConcepts:this.props.author.concept\r\n            //end normalized states\r\n        }\r\n        this.getSortedAuthorInfluencedByAuthors = this.getSortedAuthorInfluencedByAuthors.bind(this);\r\n        //this.getSortedAuthorInfluencedOnAuthors = this.getSortedAuthorInfluencedOnAuthors.bind(this);\r\n        //this.getSortedAuthorConvoWithAuthors = this.getSortedAuthorConvoWithAuthors.bind(this);\r\n        this.reverse = this.reverse.bind(this);\r\n        this.forward = this.forward.bind(this);\r\n        this.reverse1 = this.reverse1.bind(this);\r\n        this.forward1 = this.forward1.bind(this);\r\n        this.reverse2 = this.reverse2.bind(this);\r\n        this.forward2 = this.forward2.bind(this);\r\n        this.onAuthorClick = this.onAuthorClick.bind(this);\r\n        this.onConceptClick = this.onConceptClick.bind(this);\r\n        this.onBioClick = this.onBioClick.bind(this);\r\n        this.onLikeClick=this.onLikeClick.bind(this);\r\n        this.handleScrollCallback=this.handleScrollCallback.bind(this);\r\n        this.sortByName=this.sortByName.bind(this);\r\n        this.sortByLike=this.sortByLike.bind(this);\r\n        this.handleThirdCallBack=this.handleThirdCallBack.bind(this);\r\n        this.handleFirstCallback=this.handleFirstCallback.bind(this);\r\n        this.handleSecondWheeel=this.handleSecondWheeel.bind(this);\r\n        this.handleFirstWheeel=this.handleFirstWheeel.bind(this);\r\n        this.handleThirdWheeel=this.handleThirdWheeel.bind(this);\r\n        \r\n        if (this.props.navbar.selectedOption) {\r\n            if (this.props.navbar.selectedOption.id) {\r\n                if (this.props.navbar.selectedOption.category == \"Authors\") {\r\n                    this.props.getAuthorDetails(this.props.navbar.selectedOption.id,0,false);\r\n                    this.props.getAuthorInfluencedByAuthors(this.props.navbar.selectedOption.id);\r\n                    //  this.props.getAuthorInfluencedOnAuthors(this.props.navbar.selectedOption.id);\r\n                    //  this.props.getAuthorConvoWithAuthors(this.props.navbar.selectedOption.id);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    sortByName()\r\n    {\r\n        this.setState({sortByName:true,offset:0});\r\n        this.props.getAuthorDetails(this.state.selectedOption.id,0,false);\r\n    }\r\n    sortByLike()\r\n    {\r\n        this.setState({sortByName:false,offset:0});\r\n        this.props.getAuthorDetails(this.state.selectedOption.id,0,true);\r\n    }\r\n    \r\n    handleFirstWheeel(x)\r\n    {\r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        if(this.prevFirst>firstScroll.scrollTop)\r\n        {\r\n            diff=this.prevFirst-firstScroll.scrollTop;\r\n            thirdScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        else if(this.prevFirst==firstScroll.scrollTop)\r\n        {\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                thirdScroll.scrollTop+=100\r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                thirdScroll.scrollTop-=100\r\n            }\r\n        }\r\n        else\r\n        {\r\n            diff=firstScroll.scrollTop-this.prevFirst;\r\n            element.scrollTop+=diff;\r\n            thirdScroll.scrollTop+=diff\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop;  \r\n\r\n    }\r\n    handleFirstCallback()\r\n    {\r\n       \r\n    }\r\n    handleThirdWheeel(x)\r\n    {\r\n\r\n    \r\n            const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n        let diff=0;\r\n        \r\n        if(this.prevThird>thirdScroll.scrollTop)\r\n        {\r\n            diff=this.prevThird-thirdScroll.scrollTop;\r\n            firstScroll.scrollTop-=diff;\r\n            element.scrollTop-=diff; \r\n        \r\n        }\r\n        \r\n        else if(this.prevThird==thirdScroll.scrollTop)\r\n        {\r\n\r\n            if(x.deltaY>0)\r\n            {\r\n                element.scrollTop+=100;\r\n                \r\n                    firstScroll.scrollTop+=100\r\n                \r\n                \r\n                \r\n            }\r\n            else\r\n            {\r\n                element.scrollTop-=100;\r\n                firstScroll.scrollTop-=100\r\n            }\r\n        \r\n        }\r\n        \r\n        else\r\n        {\r\n            \r\n            diff=thirdScroll.scrollTop-this.prevThird;\r\n            element.scrollTop+=diff;   \r\n            if(!this.state.perspectiveLoading)\r\n            {\r\n                firstScroll.scrollTop+=diff;\r\n            }\r\n            \r\n            \r\n        }\r\n        this.prevThird=thirdScroll.scrollTop;\r\n        this.prevFirst=firstScroll.scrollTop;\r\n        this.prevSecond=element.scrollTop; \r\n        \r\n\r\n        \r\n    }\r\n    handleThirdCallBack()\r\n    {\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n      \r\n    }\r\n    handleSecondWheeel(x)\r\n    { \r\n        const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n        const thirdScroll=ReactDOM.findDOMNode(this.refs.thirdScroll);\r\n        const firstScroll=ReactDOM.findDOMNode(this.refs.firstScroll); \r\n                let diff=0;\r\n                if(this.prevSecond>element.scrollTop)\r\n                {\r\n               \r\n                    diff=this.prevSecond-element.scrollTop;\r\n                  \r\n               \r\n                    thirdScroll.scrollTop-=diff;\r\n                    firstScroll.scrollTop-=diff; \r\n                \r\n                }\r\n             else  if(this.prevSecond==element.scrollTop)\r\n                {\r\n                    \r\n                    \r\n                    if(x.deltaY>0)\r\n                    {\r\n                        thirdScroll.scrollTop+=100;\r\n                       firstScroll.scrollTop+=100; \r\n                \r\n                    }\r\n                    else\r\n                    {\r\n                        thirdScroll.scrollTop-=100;\r\n                       firstScroll.scrollTop-=100; \r\n                \r\n                    } \r\n                \r\n                }\r\n                else\r\n                {\r\n                    diff=element.scrollTop-this.prevSecond;\r\n                    thirdScroll.scrollTop+=diff  \r\n                    firstScroll.scrollTop+=diff\r\n                    \r\n                    \r\n                }\r\n            this.prevSecond=element.scrollTop;\r\n            this.prevFirst=firstScroll.scrollTop;\r\n            this.prevThird=thirdScroll.scrollTop;  \r\n        \r\n    }\r\n\r\n\r\n\r\n    scrollDownPerspectiveHandler()\r\n    {\r\n        if(!this.props.finish)\r\n        {\r\n\r\n            let offset=this.offset \r\n            console.log(\"PrevOffset was\",offset)\r\n            this.offset+=1\r\n        \r\n            this.setState({\r\n                perspectiveLoading:true,\r\n            \r\n                \r\n            });\r\n            console.log(\"New Offset will be\",this.offset);\r\n            if(this.state.sortByName)\r\n            {\r\n                this.props.getAuthorDetails(this.state.selectedOption.id,offset,false);\r\n        \r\n            }   \r\n            else\r\n            this.props.getAuthorDetails(this.state.selectedOption.id,offset);\r\n    \r\n              \r\n        }\r\n    \r\n    }\r\n    componentDidMount()\r\n    {\r\n        \r\n        // $(window).scroll(this.handleScrollCallback());\r\n        var sc=ReactDOM.findDOMNode(this.refs.myscroll);\r\n        if(sc)\r\n        {\r\n                sc.addEventListener('scroll', this.handleScrollCallback);\r\n         }\r\n         this.setState({\r\n             isScroll:true\r\n         })\r\n         window.addEventListener('scroll', this.handleScrollCallback, true);\r\n    }\r\nallowDownScrollCallBack=true;\r\n    handleScrollCallback() {\r\n        console.log(\"scrolling\");\r\n        var windowHeight = $(window).height();\r\n        var scrollHeight = $(window).scrollTop();\r\n        \r\n            console.log(\"Scroll top is \",(windowHeight + scrollHeight) )\r\n            console.log(\"percenteage is\",$('#favouriteSecond').innerHeight()/100*50)\r\n            if((windowHeight + scrollHeight) >= $('#favouriteSecond').innerHeight()/100*50)\r\n            {\r\n                    console.log(\"calling at \"+(windowHeight + scrollHeight)+\"and \"+ $('#favouriteSecond').innerHeight()/100*70);\r\n                    this.allowDownScrollCallBack=false;\r\n                    this.scrollDownPerspectiveHandler();\r\n                  \r\n                \r\n\r\n\r\n    \r\n            }\r\n            else\r\n            {\r\n                this.allowDownScrollCallBack=true;\r\n            }\r\n        \r\n        \r\n\r\n            \r\n\r\n\r\n        //For First Column\r\n        var rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n        var rightBarHeight = $('#firstInnerScr').outerHeight();\r\n        // var rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n        var rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight  < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        \r\n        \r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#firstScr').css({\r\n                position:'fixed'\r\n            })\r\n            if($(window).height()<$('#firstInnerScr').innerHeight())\r\n            {\r\n                \r\n                $('#firstScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n             $('.right').css({\r\n                position: 'static',\r\n                left: '',\r\n                bottom: ''\r\n            })\r\n            $('.left').removeClass(\"offset-md-3\")\r\n            \r\n        }\r\n        // For Third Column\r\n        windowHeight = $(window).height();\r\n         scrollHeight = $(window).scrollTop();\r\n         rightBarWidth = $('.main').width()*.2 //20% of .main width\r\n         rightBarHeight = $('#thirdInnerScr').outerHeight();\r\n        //  rightBarOffset = $('.left').offset().left + $('.left').outerWidth();\r\n         rightBarTop = 30; //30 because .head is 30px high\r\n        if(windowHeight - 30 < rightBarHeight){ //Again including 30 because of .head\r\n            rightBarTop = windowHeight - rightBarHeight;\r\n        }\r\n        // console.log(\"First Value is \",$(window).height());\r\n        // console.log(\"Value is \",$('#thirdInnerScr').innerHeight());\r\n        if((windowHeight + scrollHeight) >= rightBarHeight){\r\n            $('#thirdInnerScr').css({\r\n                position:'fixed'\r\n            })\r\n            if($(window).height()<$('#thirdInnerScr').innerHeight())\r\n            {\r\n                \r\n                $('#thirdInnerScr').css({\r\n                    bottom:'0'\r\n                })  \r\n            }\r\n            // $('.left').addClass(\"offset-md-3\")\r\n        \r\n        }\r\n        else{\r\n            // console.log(\"About to remove\")\r\n             $('#thirdInnerScr').css({\r\n                position: 'static',\r\n                left: '',\r\n                bottom: ''\r\n            })\r\n            // $('.left').removeClass(\"offset-md-3\")\r\n            \r\n        }\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //    if(!this.props.finish)\r\n    //    {\r\n    //     const element = ReactDOM.findDOMNode(this.refs.myscroll)\r\n    \r\n    //     if (\r\n    //         element.scrollTop + element.clientHeight >=\r\n    //         element.scrollHeight-1\r\n    //     ) {\r\n    //         this.scrollDownPerspectiveHandler();\r\n    //     }\r\n    \r\n    \r\n    //    }\r\n      \r\n    }\r\n    getAuthor = (author) => {\r\n        return new Promise((resolve, reject) => {\r\n            Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/author`, { author }).then(data => {\r\n                if (data.data.obj) {\r\n                    let result = data.data.obj.selectedOption;\r\n                    resolve(result);\r\n                }\r\n                resolve(null);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n    async componentWillMount() {\r\n        if (this.props.match.params.name) {\r\n            if (this.props.match.params.name && queryString.parse(this.props.location.search).filters) {\r\n                let filters = [];\r\n                let queryFilters = queryString.parse(this.props.location.search).filters;\r\n                if (typeof queryFilters === \"string\") {\r\n                    filters.push(queryFilters);\r\n                } else {\r\n                    filters = queryFilters;\r\n                }\r\n                let author_group = await getAuthorGroups(filters);\r\n                let author = {};\r\n                author.name = this.props.match.params.name;\r\n                author.groupIds = author_group.map(group => group.id);\r\n                let result = await this.getAuthor(author);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result\r\n                    });\r\n                    this.props.addTag(author_group);\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n            } else {\r\n                let author = {};\r\n                author.name = this.props.match.params.name;\r\n                author.groupIds = [];\r\n                let result = await this.getAuthor(author);\r\n                this.props.setSelectedItem(result);\r\n                this.setState({\r\n                    selectedOption: result\r\n                });\r\n                this.props.getAuthorDetails(this.state.selectedOption.id,0,false);\r\n                this.props.getAuthorInfluencedByAuthors(this.state.selectedOption.id);\r\n\r\n            }\r\n        }\r\n    }\r\n    async componentWillReceiveProps(nextProps) {\r\n        \r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n            if (nextProps.navbar.selectedOption != undefined) {\r\n                let author = {};\r\n                author.name = nextProps.navbar.selectedOption.value;\r\n                author.groupIds = nextProps.navbar.tags.map(x => x.id);\r\n                let result = await this.getAuthor(author);\r\n                if (result) {\r\n                    this.props.setSelectedItem(result);\r\n                    this.setState({\r\n                        selectedOption: result,\r\n                        perspectiveLoading:false\r\n                    });\r\n                    // this.props.getAuthorDetails(this.state.selectedOption.id);\r\n                    \r\n                this.props.getAuthorDetails(this.state.selectedOption.id,0,false);\r\n                    this.props.getAuthorInfluencedByAuthors(this.state.selectedOption.id);\r\n                } else {\r\n                    this.props.history.push(\"/Message\");\r\n                }\r\n\r\n            }\r\n        }\r\n        if (this.state.selectedOption != nextProps.navbar.selectedOption) {\r\n            this.props.flushAuthorState();\r\n            if (nextProps.navbar.selectedOption.id && nextProps.navbar.selectedOption.category == \"Authors\") {\r\n                this.props.getAuthorDetails(nextProps.navbar.selectedOption.id);\r\n                //this.props.getAuthorBio(nextProps.navbar.selectedOption.id);\r\n                //this.props.getAuthorBooks(nextProps.navbar.selectedOption.id);\r\n                this.props.getAuthorInfluencedByAuthors(nextProps.navbar.selectedOption.id);\r\n                //  this.props.getAuthorInfluencedOnAuthors(nextProps.navbar.selectedOption.id);\r\n                //  this.props.getAuthorConvoWithAuthors(nextProps.navbar.selectedOption.id);\r\n            }\r\n            this.setState({\r\n                selectedOption: nextProps.navbar.selectedOption,\r\n                apiLoading: nextProps.author.apiLoading,\r\n                apiServerError: nextProps.author.apiServerError,\r\n                apiNetworkError: nextProps.author.apiNetworkError,\r\n                //authorsWithDetails: nextProps.author.authorsWithDetails,\r\n                author_authors_apiLoading: nextProps.author.author_authors_apiLoading,\r\n                author_authors_apiServerError: nextProps.author.author_authors_apiServerError,\r\n                author_authors_apiNetworkError: nextProps.author.author_authors_apiNetworkError,\r\n                author_authors: nextProps.author.author_authors,\r\n                authorInfluencedByAuthors: nextProps.author.authorInfluencedByAuthors,\r\n                authorInfluencedOnAuthors: nextProps.author.author_authors.AuthorInfluenceAuthors,\r\n                authorConvoWithAuthors: nextProps.author.author_authors.AuthorConvoAuthors,\r\n                sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(nextProps.author.authorInfluencedByAuthors),\r\n                sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(nextProps.author.author_authors.AuthorInfluenceAuthors),\r\n                sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(nextProps.author.author_authors.AuthorConvoAuthors),\r\n                //normalized states\r\n                //authorBioHeadings: nextProps.author.authorBioHeadings,\r\n                //authorGroups: nextProps.author.authorGroups,\r\n                authorPerspectives: nextProps.author.authorPerspectives,\r\n                author: nextProps.author.author,\r\n                concepts: nextProps.author.concepts,\r\n                //authorOnConcepts:nextProps.author.concept\r\n                UniqueConcepts: nextProps.uniqueconcepts,\r\n                sortedPerspectives: nextProps.sortedperpectives,\r\n                authorBio: nextProps.authorBio,\r\n                authorBooksById: nextProps.authorBooksById,\r\n                authorBooks: nextProps.author.authorBooks,\r\n                perspectiveLoading:false\r\n                //end normalized states\r\n\r\n            })\r\n\r\n        }\r\n        else {\r\n            this.setState({\r\n                //authorsWithDetails: nextProps.author.authorsWithDetails,\r\n                apiLoading: nextProps.author.apiLoading,\r\n                apiServerError: nextProps.author.apiServerError,\r\n                apiNetworkError: nextProps.author.apiNetworkError,\r\n                author_authors_apiLoading: nextProps.author.author_authors_apiLoading,\r\n                author_authors_apiServerError: nextProps.author.author_authors_apiServerError,\r\n                author_authors_apiNetworkError: nextProps.author.author_authors_apiNetworkError,\r\n                author_authors: nextProps.author.author_authors,\r\n                authorInfluencedByAuthors: nextProps.author.authorInfluencedByAuthors,\r\n                authorInfluencedOnAuthors: nextProps.author.author_authors.AuthorInfluenceAuthors,\r\n                authorConvoWithAuthors: nextProps.author.author_authors.AuthorConvoAuthors,\r\n                //sortedAuthorInfluencedByAuthors: setInitialsortedAuthorInfluencedByAuthors(nextProps.author.authorInfluencedByAuthors),\r\n                sortedAuthorInfluencedOnAuthors: setInitialsortedAuthorInfluencedOnAuthors(nextProps.author.author_authors.AuthorInfluenceAuthors),\r\n                sortedAuthorConvoWithAuthors: setInitialsortedAuthorConvoWithAuthors(nextProps.author.author_authors.AuthorConvoAuthors),\r\n                //normalized states\r\n                //authorBioHeadings: nextProps.author.authorBioHeadings,\r\n                //authorGroups: nextProps.author.authorGroups,\r\n                authorPerspectives: nextProps.author.authorPerspectives,\r\n                author: nextProps.author.author,\r\n                concepts: nextProps.author.concepts,\r\n                UniqueConcepts: nextProps.uniqueconcepts,\r\n                sortedPerspectives: nextProps.sortedperpectives,\r\n                authorBio: nextProps.authorBio,\r\n                authorBooksById: nextProps.authorBooksById,\r\n                authorBooks: nextProps.author.authorBooks,\r\n                perspectiveLoading:false\r\n                //authorOnConcepts:nextProps.author.concept\r\n                //end normalized states\r\n\r\n            })\r\n        }\r\n    }\r\n    onLikeClick(data) {\r\n        if (this.state.authorPerspectives[data.id].isLike) {\r\n            this.props.decreasePerspectiveLike(data.id);\r\n        }\r\n        else {\r\n            this.props.increasePerspectiveLike(data.id);\r\n        }\r\n    }\r\n    onAuthorClick(author) {\r\n        let label = author.firstName + \" \" + author.lastName;\r\n        let value = label;\r\n        let id = author.id;\r\n        let born = author.dob;\r\n        let died = author.dod;\r\n        let category = \"Authors\";\r\n        this.props.flushAuthorState();\r\n        console.log(category);\r\n        this.props.setSelectedItem({ label, value, id, born, died, category });\r\n\r\n    }\r\n    onBioClick(bio) {\r\n        let label = bio.distinct_grouping;\r\n        let value = label;\r\n        let id = bio.distinct_grouping_id;\r\n        let category = \"Author-Groups\"\r\n        this.props.flushAuthorState();\r\n        this.props.flushAuthorClusterState();\r\n        this.props.setSelectedItem({ label, value, id, category, via: \"group\" });\r\n    }\r\n    onConceptClick(concept) {\r\n\r\n        let label = this.state.concepts[concept.Concept].name;\r\n        let value = label;\r\n        let id = concept.ConceptId;\r\n        let category = \"Concepts\"\r\n        this.props.flushAuthorState();\r\n        this.props.setSelectedItem({ label, value, id, category });\r\n    }\r\n    // getSortedAuthorConvoWithAuthors(index) {\r\n    //     let rtnArray = [];\r\n    //     rtnArray = this.state.authorConvoWithAuthors.slice(index, index + 3);\r\n    //     // console.log(\"Slice params\", index, index + 3);\r\n    //     // console.log(\"Rtn array i\", rtnArray);\r\n    //     this.setState({\r\n    //         sortedAuthorConvoWithAuthors: rtnArray,\r\n    //     })\r\n    // }\r\n    getSortedAuthorInfluencedByAuthors(index) {\r\n        let rtnArray = [];\r\n        rtnArray = this.state.authorInfluencedByAuthors.slice(index, index + 3);\r\n        // console.log(\"Slice params\", index, index + 3);\r\n        // console.log(\"Rtn array i\", rtnArray);\r\n        this.setState({\r\n            sortedAuthorInfluencedByAuthors: rtnArray,\r\n        })\r\n    }\r\n    // getSortedAuthorInfluencedOnAuthors(index) {\r\n    //     let rtnArray = [];\r\n    //     rtnArray = this.state.authorInfluencedOnAuthors.slice(index, index + 3);\r\n    //     // console.log(\"Slice params\", index, index + 3);\r\n    //     // console.log(\"Rtn array i\", rtnArray);\r\n    //     this.setState({\r\n    //         sortedAuthorInfluencedOnAuthors: rtnArray,\r\n    //     })\r\n    // }\r\n    reverse() {\r\n        let index = this.state.index;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index: (index - 3) })\r\n            this.getSortedAuthorInfluencedByAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    reverse1() {\r\n        let index = this.state.index1;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index1: (index - 3) })\r\n            this.getSortedAuthorInfluencedOnAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    reverse2() {\r\n        let index = this.state.index2;\r\n        // console.log(\"Index reverse\", index);\r\n        if (index >= 3) {\r\n            this.setState({ index2: (index - 3) })\r\n            this.getSortedAuthorConvoWithAuthors(index - 3);\r\n        }\r\n\r\n    }\r\n    forward() {\r\n        let totalLength = this.state.authorInfluencedByAuthors.length;\r\n        let index = this.state.index;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index: (index + 3) })\r\n            this.getSortedAuthorInfluencedByAuthors(index + 3);\r\n        }\r\n\r\n    }\r\n    forward1() {\r\n        let totalLength = this.state.authorInfluencedOnAuthors.length;\r\n        let index = this.state.index1;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index1: (index + 3) })\r\n            this.getSortedAuthorInfluencedOnAuthors(index + 3);\r\n        }\r\n\r\n    }\r\n    forward2() {\r\n        let totalLength = this.state.authorConvoWithAuthors.length;\r\n        let index = this.state.index2;\r\n        // console.log(\"Index forward\", index);\r\n        if (index + 3 < totalLength) {\r\n            this.setState({ index2: (index + 3) })\r\n            this.getSortedAuthorConvoWithAuthors(index + 3);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"overflowhidden \" style={{ overflow: \"hidden\",paddingTop:50 }}>\r\n                {this.state.selectedOption.id && this.state.selectedOption.category == \"Authors\" && <div className=\"container-fluid\">\r\n                    {this.state.apiLoading && <div style={{ width: \"100px\", margin: \"auto\", marginTop: \"30vh\" }}>\r\n                        <ReactLoading type={\"balls\"} color={\"red\"} />\r\n                    </div>}\r\n                    {!this.state.apiLoading && <div>\r\n                        {!this.state.showBooks && <div className=\"row\">\r\n                            <div  ref=\"firstScroll\"  id=\"firstScr\"  onWheel={this.handleFirstWheeel} onScroll={this.handleFirstCallback}  className=\"col-xs-12 col-sm-12 col-md-3 right\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\", border: \"3px  solid white\", textAlign: \"\" }}>\r\n                               <div id=\"firstInnerScr\"> \r\n                                {\r\n                                    <ul style={{ width: \"150px\", margin: \"auto\",listStyle:'none',lineHeight: \"0.9em\",height: \"auto\",listStyle:\"none\",padding:0 }}>\r\n                                        {this.state.UniqueConcepts && this.state.UniqueConcepts.length > 0 && this.state.UniqueConcepts.map(concept => {\r\n                                            if (concept.discrete_author_name != undefined) {\r\n                                                return <li style={{ padding:\"8px\"}}><b><a href={\"#\" + concept.discrete_author_name_id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                                }}>{concept.discrete_author_name}</a></b></li>\r\n                                            }\r\n\r\n                                        })}\r\n                                    </ul>\r\n                                }\r\n                                </div>\r\n                            \r\n                            </div>\r\n                            <div ref=\"myscroll\" id=\"\" onWheel={this.handleSecondWheeel}  onScroll={this.handleScrollCallback} className=\"col-xs-12 col-sm-12 col-md-4 left\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\" }}>\r\n                                <div style={{ backgroundColor: \"white\" }}>\r\n                                   <div id=\"img\" style={{ wheight:\"280px\",display:this.state.loadImage }}>\r\n                                        {/*<h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                        <h5 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\", display: \"inline-block\" }} className=\"float-right\">{(this.state.selectedOption.born && this.state.selectedOption.died) ? this.state.selectedOption.born + \" - \" + this.state.selectedOption.died : \"HUL\"}</h5>\r\n                                        */}\r\n                                        <img src={this.state.author.pictureLink} onError={() => {this.setState({loadImage:\"none\"})}} onLoad={() => {this.setState({loadImage:\"block\"});}} alt={this.state.selectedOption.label} style={{ width: \"100%\",height:\"100%\",display:this.state.loadImage }} />                                    </div>\r\n                                    {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Positive\r\n                                        </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Critical\r\n                                        </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Funny\r\n                                        </label>\r\n                                    </div> */}\r\n                                <div  id=\"favouriteSecond\">\r\n                                    {\r\n                                        this.state.sortedPerspectives && this.state.sortedPerspectives.length > 0 && this.state.sortedPerspectives.map(data => {\r\n                                            return (<div id={data.ConceptId}><div className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                                <b style={{ color: \"blue\", cursor: \"pointer\",textTransform:'capitalize' }} onClick={() => this.onConceptClick(data)}>{data.pronoun}{\" \"} {this.state.concepts[data.Concept].name}</b>{\" is \"}{data.description}\r\n                                                {/* <div style={{ color: \"red\" }}>{this.state.author.firstName}{\" \"}{this.state.author.lastName}</div> */}\r\n                                                <div className=\"text-right\">\r\n                                                    <i style={{ color:data.isLike?\"red\":\"grey\",fontSize:'20px' }} className=\"fa fa-thumbs-up \" onClick={() => { this.onLikeClick(data) }}></i>&nbsp;[{data.loves ? data.loves : \"0\"}]&nbsp;&nbsp; <span className=\"contextbutton fa fa-ellipsis-h\" id=\"AuthorEllipseCircle\" onClick={() => {\r\n                                                        this.setState({\r\n                                                            visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                            id: data.id,\r\n                                                        })\r\n                                                    }} style={{ cursor: \"pointer\" }}></span>\r\n                                                </div>\r\n                                                <div id={data.id} style={{ marginTop: \"20px\", display: [data.id == this.state.id ? this.state.visibility : \"none\"],textAlign:'justify' }} >{data.longDescription}<div style={{ backgroundColor: \"#DCDCDC\" }}>{data.citation}</div></div>\r\n                                            </div></div>);\r\n                                        })\r\n                                    }\r\n                                    </div>\r\n                                    \r\n                                {this.state.perspectiveLoading &&\r\n                                    <div style={{position: 'absolute',display: 'flex',justifyContent: 'center', width: '100%'}}>\r\n                                    <img src={loading} style={{ height: '20px' }}></img>\r\n                                    </div>\r\n                                    \r\n                                }   \r\n                                </div>\r\n                            </div>\r\n                            <div   ref=\"thirdScroll\" onWheel={this.handleThirdWheeel}  onScroll={this.handleThirdCallBack}   className=\"col-xs-12 col-sm-12 col-md-3 \" style={{ borderRadius: \"3px\", backgroundColor: \"white\", overflow: \"auto\", borderLeft: \"1px solid black\" , borderRight: \"1px solid black\" }}>\r\n                                <div id=\"thirdInnerScr\" >\r\n                                <div style={{ paddingLeft: '30px', marginTop: '5px', background: \"rgba(255, 0, 0, 0)\" }}>\r\n                                    <b style={{fontSize:20}}>Arranged by{this.state.sortByName}</b>\r\n                                    <p style={{fontSize:14,paddingLeft:12}}><label style={{paddingLeft:'0px',cursor:'pointer',fontWeight:700,color:this.state.sortByName?'grey':'black'}} onClick={this.sortByLike}>Likes</label> <label style={{paddingLeft:'8px',cursor:'pointer',fontWeight:700,color:this.state.sortByName?'black':'grey'}} onClick={this.sortByName} >Names</label></p>\r\n                                </div>\r\n                                <h3><b>{this.state.author.firstName} {this.state.author.lastName}</b></h3>\r\n                                <h6>{this.state.author.dob}-{this.state.author.dod}</h6>\r\n                                <button className=\"btn btn-link\" style={{color:'black'}} onClick={() => {this.setState({showBooks:true})}}><i className=\"fas fa-book-open\"></i> <span><b>({this.state.author.Books && this.state.author.Books.length})</b></span></button>\r\n                                <br /><br />\r\n                                {this.state.authorBio && this.state.authorBio.length > 0 && this.state.authorBio.map(item => {\r\n                                    return (<div className=\"\" style={{ width: \"340px\",}}><b style={{fontSize:15,display:\"block\"}}>{item.heading.charAt(0).toUpperCase() + item.heading.slice(1)}:</b>\r\n                                        {item.values.map(v => {\r\n\r\n                                            return <p6 style={{marginTop:'-10px;'}}><span style={{ display: \"inline-block\",padding:0.1 }}><Link style={{ cursor: \"pointer\",color:'black',fontSize:13 }} to=\"author-clusters\" onClick={() => this.onBioClick({ distinct_grouping: v.name, distinct_grouping_id: v.id })}>{v.name}</Link>&nbsp;&nbsp;</span></p6>\r\n                                        })}\r\n\r\n                                    </div>);\r\n                                })\r\n                                }\r\n                                <div id=\"authorInfluencedByAuthors\" style={{ width: \"340px\", margin: \"auto\" }}>\r\n                                    {/*this.state.sortedAuthorInfluencedByAuthors && this.state.sortedAuthorInfluencedByAuthors.length > 0 && <div>\r\n                                        <h6 style={{ color: \"red\" }}>Influenced By:</h6>\r\n                                        <div className=\"dytb\" >\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorInfluencedByAuthors.map(author => {\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}></div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.author_first + author.author_last}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward()} className=\"fa fa-angle-right dytbc\" ></i>\r\n                                        </div>\r\n                                    </div>*/\r\n                                    }\r\n                                    {this.state.sortedAuthorInfluencedOnAuthors && this.state.sortedAuthorInfluencedOnAuthors.length > 0 && <div>\r\n                                        <h6 style={{ color: \"red\" }}>Influenced On:</h6>\r\n                                        <div className=\"dytb\">\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse1()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorInfluencedOnAuthors.map(author => {\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}>\r\n                                                            <img src={`https://conceptionary-images.s3.amazonaws.com/${author.lastName}+${author.firstName}.jpg`} alt={author.firstName + \" \" + author.lastName}></img>\r\n                                                        </div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.firstName + author.lastName}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward1()} className=\"fa fa-angle-right dytbc\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    }\r\n                                    {this.state.sortedAuthorConvoWithAuthors && this.state.sortedAuthorConvoWithAuthors.length > 0 && <div>\r\n                                        <h6 style={{ color: \"red\" }}>In Conversation with:</h6>\r\n                                        <div className=\"dytb\">\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.reverse2()} className=\"fa fa-angle-left dytbc\" />\r\n                                            {this.state.sortedAuthorConvoWithAuthors.map(author => {\r\n\r\n                                                return (\r\n                                                    <div onClick={() => this.onAuthorClick(author)} style={{ marginRight: \"8px\", display: \"inline-block\", marginLeft: \"8px\", width: \"85px\", maxHeight: \"180px\", border: \"1px solid white\", borderRadius: \"3px\", cursor: \"pointer\" }}>\r\n                                                        <div style={{ width: \"83px\", minHeight: \"70px\", backgroundColor: \"yellow\" }}>\r\n                                                            <img src={`https://conceptionary-images.s3.amazonaws.com/${author.lastName}+${author.firstName}.jpg`} alt={author.firstName + \" \" + author.lastName}></img>\r\n                                                        </div>\r\n                                                        <div style={{ fontSize: \"13px\", width: \"83px\", overflow: \"hidden\", textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{author.firstName + author.lastName}</div>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                            <i style={{ cursor: \"pointer\" }} onClick={() => this.forward2()} className=\"fa fa-angle-right dytbc\"></i>\r\n                                        </div>\r\n                                    </div>\r\n                                    }\r\n                                </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-2\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", borderLeft: \"0px\", textAlign: \"center\", cursor: \"pointer\" }}>\r\n                                <div className=\"text-center\">\r\n                                    This place is for adds\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                        {/* new row for books */}\r\n                        {this.state.showBooks && <div className=\"row\">\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-3\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\", textAlign: \"\" }}>\r\n                                <div style={{ width: \"150px\", margin: \"auto\", marginTop: \"10px\" }}>\r\n                                    <div style={{ cursor: \"pointer\" }} onClick={() => this.setState({ showBooks: false })}><i style={{ width: \"16px\" }} className=\"fa  fa-arrow-left\" />&nbsp;&nbsp;<span style={{ fontSize: \"16px\" }} >Go Back</span></div>\r\n                                    <h3>Books</h3>\r\n                                    {this.state.authorBooksById && this.state.authorBooksById.length > 0 && this.state.authorBooksById.map(book => {\r\n                                        return (\r\n                                            <a href={\"#\" + book.discrete_book_id} style={{ cursor: \"pointer\", textDecoration: \"none\", color: \"black\", display: \"block\" }} onClick={() => {\r\n                                            }}>{book.title}</a>\r\n                                        )\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-xs-12 col-sm-12 col-md-4\" style={{ borderRadius: \"3px\", backgroundColor: \"white\", height: \"89vh\", overflow: \"auto\" }}>\r\n                                <div id=\"main-content\" style={{ backgroundColor: \"white\" }}>\r\n                                    <div id=\"img\" style={{ width: \"398px\", height: \"280px\", backgroundColor: \"red\" }}>\r\n                                        <h4 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\" }} className=\"pull-right\">{this.state.selectedOption ? this.state.selectedOption.label : \"\"}</h4>\r\n                                        <h5 style={{ zIndex: \"3\", padding: \"10px\", color: \"white\", display: \"inline-block\" }} className=\"float-right\">{(this.state.selectedOption.born && this.state.selectedOption.died) ? this.state.selectedOption.born + \" - \" + this.state.selectedOption.died : \"HUL\"}</h5>\r\n                                    </div>\r\n                                    {/* <div style={{ marginTop: \"10px\", border: \"1px solid white\", paddingTop: \"5px\", borderRadius: \"5px\", width: \"398px\", textAlign: \"center\", backgroundColor: \"white\" }}>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Positive\r\n                                    </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Critical\r\n                                    </label>\r\n                                        <label class=\"checkbox-inline\" style={{ marginRight: \"10px\" }}>\r\n                                            <input type=\"checkbox\" value=\"\" />Funny\r\n                                    </label>\r\n                                    </div> */}\r\n                                    {this.state.author && this.state.author.Books && this.state.author.Books.length > 0 && this.state.author.Books.map(book => {\r\n                                        {\r\n                                            return this.state.authorBooks[book].BookDescriptions && this.state.authorBooks[book].BookDescriptions.length > 0 && this.state.authorBooks[book].BookDescriptions.map(bookDescription => {\r\n                                                return (<div id={book} className=\"clearfix\" style={{ marginTop: \"10px\", backgroundColor: \"white\", padding: \"10px\", border: \"1px solid white\", borderRadius: \"5px\" }} >\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col col-md-2\">\r\n                                                            <div style={{ width: \"60px\", minHeight: \"80px\", background: \"red\" }}></div>\r\n                                                        </div>\r\n                                                        <div className=\"col col-md-10\">\r\n                                                            <h6>{this.state.authorBooks[book].title}</h6>\r\n                                                            <div style={{ color: \"black\" }}>{bookDescription.description}</div>\r\n                                                            <div className=\"pull-right\">\r\n                                                                <a className=\"contextbutton\" onClick={() => {\r\n                                                                    this.setState({\r\n                                                                        visibility: this.state.visibility == \"none\" ? \"block\" : \"none\",\r\n                                                                        id: book.id,\r\n                                                                    })\r\n                                                                }} style={{ cursor: \"pointer\" }}>Context</a>\r\n                                                            </div>\r\n                                                            <div id={book} style={{ marginTop: \"20px\", display: [book == this.state.id ? this.state.visibility : \"none\"] }} >{bookDescription.source}</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>);\r\n                                            })\r\n                                        }\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                    }\r\n                </div>}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst setInitialsortedAuthorInfluencedByAuthors = (data) => {\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\nconst setInitialsortedAuthorInfluencedOnAuthors = (data) => {\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\nconst setInitialsortedAuthorConvoWithAuthors = (data) => {\r\n    // console.log('Here get me ', data);\r\n    if (data) {\r\n        if (data.length > 0) {\r\n            if (data.length > 3) {\r\n                return data.slice(0, 3);\r\n            }\r\n            else {\r\n                return data\r\n            }\r\n        }\r\n    }\r\n}\r\n// const renderAuthorBio = (authorBio) => {\r\n//     let desiredArray = [];\r\n//     let uniqueSupraIds = [];\r\n//     authorBio.forEach(element => {\r\n//         if (!(uniqueSupraIds.includes(element.supra_id))) {\r\n//             uniqueSupraIds.push(element.supra_id);\r\n//             // console.log(\"Here is element--------------------->\", element);\r\n//             desiredArray.push({ supra_id: element.supra_id, heading: element.author_supra, values: [{ distinct_grouping: element.distinct_grouping, distinct_grouping_id: element.distinct_grouping_id }] })\r\n//         }\r\n//         else {\r\n//             // console.log(\"Here in else\")\r\n//             for (let i = 0; i < desiredArray.length; i++) {\r\n//                 if (desiredArray[i].supra_id === element.supra_id) {\r\n//                     desiredArray[i].values.push({ distinct_grouping: element.distinct_grouping, distinct_grouping_id: element.distinct_grouping_id });\r\n//                 }\r\n//             }\r\n//         }\r\n//     })\r\n//     return desiredArray;\r\n// }\r\n// const getUniqueBookNamesWithIds = (authorBooks) => {\r\n//     // console.log(\"Recievce author books\", authorBooks)\r\n//     let uniqueBookNameWithId = [];\r\n//     let uniqueBookIds = [];\r\n//     authorBooks.forEach(e => {\r\n//         if (!(uniqueBookIds.indexOf(e.id) > -1)) {\r\n//             uniqueBookIds.push(e.id);\r\n//             let discrete_book_id = e.id;\r\n//             let title = e.title;\r\n//             uniqueBookNameWithId.push({ discrete_book_id, title });\r\n//         }\r\n//     })\r\n//     return uniqueBookNameWithId;\r\n// }\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        getAuthorDetails: bindActionCreators(getAuthorDetails, dispatch),\r\n        // getAuthorBio: bindActionCreators(getAuthorBio, dispatch),\r\n        //getAuthorBooks: bindActionCreators(getAuthorBooks, dispatch),\r\n        getAuthorInfluencedByAuthors: bindActionCreators(getAuthorInfluencedByAuthors, dispatch),\r\n        // getAuthorInfluencedOnAuthors: bindActionCreators(getAuthorInfluencedOnAuthors, dispatch),\r\n        //getAuthorConvoWithAuthors: bindActionCreators(getAuthorConvoWithAuthors, dispatch),\r\n        flushAuthorState: bindActionCreators(flushAuthorState, dispatch),\r\n        flushAuthorClusterState: bindActionCreators(flushAuthorClusterState, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        increasePerspectiveLike:bindActionCreators(increasePerspectiveLike,dispatch),\r\n        decreasePerspectiveLike:bindActionCreators(decreasePerspectiveLike,dispatch)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    console.log(\"State on author page is\",state);\r\n    return {\r\n        navbar: state.navbar,\r\n        author: state.author,\r\n        uniqueconcepts: getUniqueConcept(state),\r\n        sortedperpectives:  getSortedPerspectivesByConceptName(state),\r\n        authorBio: getAuthorBioData(state),\r\n        authorBooksById: getUniqueAuthorBooks(state),\r\n        ends:state.author.ends,\r\n        finish:state.author.finish\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthorPage);","import axios from 'axios';\r\nexport default function setAuthorizationToken(token) {\r\n    if (token) {\r\n        axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`\r\n    }\r\n    else {\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n}","import axios from \"axios\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport setAuthorizationToken from \"../utils/setAuthorizationToken\";\r\nexport function setCurrentUser(user) {\r\n    return {\r\n        type: \"SET_CURRENT_USER\",\r\n        user\r\n    }\r\n}\r\nexport function logOut() {\r\n    return dispatch => {\r\n        localStorage.removeItem('jwtToken');\r\n        setAuthorizationToken(false);\r\n        dispatch({\r\n            type: \"LOG_OUT\",\r\n        })\r\n    }\r\n}\r\n\r\n// new implementation\r\n\r\nexport function userLoginRequest(userData) {\r\n\r\n    return dispatch => {\r\n        return axios.post(\"http://localhost:3002/api/rest/v1/login\", userData, {\r\n            headers: {\r\n                'Access-Control-Allow-Origin': '*',\r\n            }\r\n        })\r\n            .then(res => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('jwtToken', token);\r\n                setAuthorizationToken(token);\r\n                dispatch(setCurrentUser(jwt.decode(token)));\r\n            });\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport validateLogin from \"../../helpers/validateLogin\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport classnames from \"classnames\";\r\nimport { userLoginRequest } from \"../../actions/loginActions\";\r\nimport \"./Login.css\";\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            errors: {},\r\n            isLoading: false,\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n    isValid(data) {\r\n        const { errors, isValid } = validateLogin(data);\r\n        if (!isValid) {\r\n            this.setState({ errors })\r\n        }\r\n        return isValid;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.isValid(this.state)) {\r\n            this.setState({ errors: {}, isLoading: true });\r\n            this.props.userLoginRequest({ username: this.state.username, password: this.state.password, call: \"signin\" }).then(\r\n                (data) => { this.props.history.push(\"/command-center\"); console.log(\"Data after succeful response login\", data) },\r\n                (data) => { this.setState({ errors: data.response.data, isLoading: false }); console.log(\"data after error login\", data); console.log(\"stategkkfhjllllllllll\", this.state); }\r\n            );\r\n        }\r\n    }\r\n    render() {\r\n        const { username, password, isLoading, errors } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"back\">\r\n                    <div className=\"col col-md-4 offset-md-4 div-center\" style={{ marginTop: 70 }}>\r\n                        <div className=\"loginCenter\">\r\n                            <h3>Login</h3>\r\n                            <hr />\r\n                            <form onSubmit={this.onSubmit}>\r\n                                {errors.form && <div className=\"alert alert-danger\">{errors.form}</div>}\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.username })}>\r\n                                    {errors.username && <span className=\"help-block\">{errors.username}</span>}\r\n                                    {!errors.username && <label >Username</label>}\r\n                                    <input type=\"username\" class=\"form-control\" name=\"username\" value={this.state.username} placeholder=\"username\" onChange={this.onChange} />\r\n                                </div>\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.password })}>\r\n                                    {errors.password && <span className=\"help-block\">{errors.password}</span>}\r\n                                    {!errors.password && <label >Password</label>}\r\n                                    <input type=\"password\" class=\"form-control\" name=\"password\" onChange={this.onChange} placeholder=\"Password\" />\r\n                                </div>\r\n                                <button style={{ backgroundColor: '#009dd6' }} type=\"submit\" disabled={this.state.isLoading} class=\"btn \">Login</button>\r\n                                <hr />\r\n                                <a href=\"/signup\" class=\"btn btn-link\">Signup</a>\r\n                                <button disabled={isLoading} type=\"button\" class=\"btn btn-link\">Reset Password</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        userLoginRequest: bindActionCreators(userLoginRequest, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n","import validator from \"validator\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nexport default function (loginData) {\r\n    let errors = {};\r\n    if (validator.isEmpty(loginData.email)) {\r\n        errors.email = \"*Email is required!\";\r\n    }\r\n    if (validator.isEmpty(loginData.password)) {\r\n        errors.password = \"*Password is required!\"\r\n    }\r\n\r\n    return {\r\n        errors,\r\n        isValid: isEmpty(errors),\r\n    }\r\n}","import axios from \"axios\";\r\nexport function userSignupRequest(userData) {\r\n    return dispatch => {\r\n        return axios.post(\"https://8xzajgtd2e.execute-api.us-east-1.amazonaws.com/dev/signup\", userData, {\r\n            headers: {\r\n\r\n            }\r\n        });\r\n    }\r\n}","import validator from \"validator\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nexport default function (signupData) {\r\n    let errors = {};\r\n    if (validator.isEmpty(signupData.firstname)) {\r\n        errors.firstname = \"*First Name is required!\";\r\n    }\r\n    if (validator.isEmpty(signupData.lastname)) {\r\n        errors.lastname = \"*Last Name is required!\";\r\n    }\r\n    if (validator.isEmpty(signupData.email)) {\r\n        errors.email = \"*Email is required!\";\r\n    }\r\n    if (!validator.isEmail(signupData.email)) {\r\n        errors.email = \"*Email is invalid!\"\r\n    }\r\n    return {\r\n        errors,\r\n        isValid: isEmpty(errors),\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./Signup.css\";\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { userSignupRequest } from \"../../actions/signupActions\";\r\nimport classnames from \"classnames\";\r\nimport { Redirect } from \"react-router\";\r\nimport validateSignup from \"../../helpers/validateSignup\";\r\nclass Signup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            email: \"\",\r\n            errors: {},\r\n            isLoading: false,\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        // console.log(\"Errors in Signup State\", this.state.errors);\r\n    }\r\n    onChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n    isValid(data) {\r\n        const { errors, isValid } = validateSignup(data);\r\n        if (!isValid) {\r\n            this.setState({ errors })\r\n        }\r\n        return isValid;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        if (this.isValid(this.state)) {\r\n            this.setState({ errors: {}, isLoading: true });\r\n            this.props.userSignupRequest({\r\n                fname: this.state.firstname, lname: this.state.lastname, email: this.state\r\n                    .email\r\n                , call: \"signup\"\r\n            }).then(\r\n                ({ data }) => { this.props.history.push(\"/login\"); console.log(\"**********first Function*******:\", data.body); console.log(\"State in good 200 request\", this.state); },\r\n                (data) => {\r\n                    // console.log(\"**********second Function*******:\", data.response.data);\r\n                    this.setState({ errors: data.response.data, isLoading: false })\r\n                    // console.log(\"State in bad request\", this.state);\r\n                }\r\n            );\r\n        }\r\n    }\r\n    render() {\r\n        const { errors } = this.state;\r\n        return (\r\n            <div>\r\n                <div className=\"back\">\r\n\r\n\r\n                    <div className=\"col col-md-6 offset-md-3 div-center\" style={{ marginTop: '50px' }}>\r\n                        <div className=\"loginCenter\">\r\n                            <h3>Signup</h3>\r\n                            <hr />\r\n                            <form onSubmit={this.onSubmit}>\r\n                                <div className={classnames(\"form-group\", { \"has-error\": errors.firstname })}>\r\n                                    {errors.firstname && <span className=\"help-block\">{errors.firstname}</span>}\r\n                                    {!errors.firstname && <label >Name</label>}\r\n                                    <input type=\"text\" class=\"form-control\" value={this.state.firstname} onChange={this.onChange} name=\"firstname\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    {errors.lastname && <span className=\"help-block\">{errors.lastname}</span>}\r\n                                    {!errors.lastname && <label >Last Name</label>}\r\n                                    <input type=\"text\" class=\"form-control\" value={this.state.lastname} onChange={this.onChange} name=\"lastname\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    {errors.email && <span className=\"help-block\">{errors.email}</span>}\r\n                                    {!errors.email && <label>Email</label>}\r\n                                    <input type=\"email\" class=\"form-control\" value={this.state.email} onChange={this.onChange} name=\"email\" email=\"email\" />\r\n                                </div>\r\n                                <button className=\"pull-right\" disabled={this.state.isLoading} style={{ backgroundColor: '#009dd6' }} type=\"submit\" class=\"btn\">Get Verified</button>\r\n                                <a href=\"/login\" class=\"btn text-center btn-link\">Already have and account ?</a>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        userSignupRequest: bindActionCreators(userSignupRequest, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Signup);\r\n","import React, { Component } from 'react';\r\nimport \"./TopNavBar.css\";\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { bindActionCreators } from 'redux';\r\nimport \"./ReactSelect.css\";\r\nimport \"react-virtualized/styles.css\";\r\nimport \"react-virtualized-select/styles.css\";\r\nimport chroma from 'chroma-js'\r\nimport AsyncSelect from 'react-select/lib/Async';\r\nimport { setSelectedCategory, setSelectedItem, login, logout, signup, flushState, getAllAsync, setAutherClusterSelectedItems, prefetchConceptsForNavbar, prefetchConceptClustersForNavbar, prefetchAuthorsForNavbar, prefetchAuthorClustersForNavbar, prefetchAuthorGroupsForNavbar, getAuthorGroups, addTag, removeTag } from \"../../actions/navbaractions\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Modal from 'react-responsive-modal';\r\nimport { Button, Form, FormGroup, Input, Label, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport '../../../node_modules/bootstrap/dist/js/bootstrap';\r\nimport Loader from 'react-loader-spinner'\r\nimport Joi from 'joi-browser/dist/joi-browser'\r\nimport axios from 'axios';\r\nimport $ from \"jquery\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nimport {\r\n    Collapse,\r\n    Navbar,\r\n    NavbarToggler,\r\n    NavbarBrand,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    UncontrolledDropdown,\r\n    Dropdown,\r\n    DropdownItem,\r\n    DropdownToggle,\r\n    DropdownMenu\r\n} from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nconst server = process.env.REACT_APP_SERVER;\r\nclass TopNavBar extends Component {\r\n    allow=true\r\n    val=\" \"\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedTag: [],\r\n            searchCategory: this.props.navbar.searchCategory,\r\n            seletedSearch: \"\",\r\n            selectedOption: {},\r\n            authorClusterSelectedOptions: \"\",\r\n            concepts: this.props.navbar.concepts,\r\n            conceptClusters: this.props.navbar.conceptClusters,\r\n            authors: this.props.navbar.authors,\r\n            authorClusters: this.props.navbar.authorClusters,\r\n            authorGroups: this.props.navbar.authorGroups,\r\n            dropdownData: [],\r\n            tags: this.props.navbar.tags,\r\n            labelsArray: [],\r\n            loadOptionsData: [],\r\n            suggestions: [],\r\n            modalOpen: false,\r\n            modalSignupOpen: false,\r\n            account: {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            },\r\n            errors: [],\r\n            loginRequestStatus_admin: true,\r\n            loginStatus_admin: true,\r\n            userAccount: [],\r\n            filter:false,\r\n            default:false,\r\n            allow:true,\r\n            modal:false,\r\n            term:'',\r\n            defination:'',\r\n            original:'',\r\n            author:'',\r\n            citation:'',\r\n            show:true,\r\n            thanksModal:false\r\n        }\r\n\r\n        // console.log(\"Top Navbar state in Constructor\", this.props)\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.loadOptions = this.loadOptions.bind(this);\r\n        this.renderRedirect = this.renderRedirect.bind(this);\r\n        this.onSelectedCatagoryChange = this.onSelectedCatagoryChange.bind(this);\r\n        this.handleTerm=this.handleTerm.bind(this)\r\n        this.handleDefination=this.handleDefination.bind(this)\r\n        this.handleOriginal=this.handleOriginal.bind(this)\r\n        this.handleAuthor=this.handleAuthor.bind(this)\r\n        this.handleCitation=this.handleCitation.bind(this)\r\n        this.handleSubmitNew=this.handleSubmitNew.bind(this)\r\n        //this.renderRedirectCategory = this.renderRedirectCategory.bind(this);\r\n        this.searchAllConceptionary = this.searchAllConceptionary.bind(this);\r\n    }\r\n    handleTerm(e){ \r\n        console.log(e);  \r\n        this.setState({term:e.target.value})\r\n    }\r\n    handleDefination(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({defination:e.target.value})\r\n    }\r\n    handleOriginal(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({original:e.target.value})\r\n    }\r\n    handleAuthor(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({author:e.target.value})\r\n    }\r\n    handleCitation(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({citation:e.target.value})\r\n    }\r\n    handleSubmitNew(e){   \r\n        this.setState({modal:false,thanksModal:true})\r\n        console.log(e);\r\n        // this.setState({term:e.target.value})\r\n        e.preventDefault();\r\n        console.log(\"State is \",this.state)\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/newPerspective`,{term:this.state.term,defination:this.state.defination,author:this.state.author,citation:this.state.citation,original:this.state.original}).then(res => {\r\n            console.log(\"Your Email is sent \",res)\r\n            if(res.status=200)\r\n            {\r\n                console.log(\"successfull\");\r\n                this.setState({modal:false});\r\n            }\r\n        })\r\n    }\r\n    schema = {\r\n        Email: Joi.string()\r\n            .required()\r\n            .label(\"Email\"),\r\n        Password: Joi.string()\r\n            .label(\"Password\")\r\n            .required(),\r\n        Username: Joi.string().allow('', null)\r\n    };\r\n\r\n    \r\n    componentDidMount() {\r\n        if(window.location.pathname=='/')\r\n        {\r\n            this.setState({show:false})\r\n            console.log(\"hiding\")\r\n            }\r\n        else\r\n        {\r\n            console.log(\"showing\");\r\n        }\r\n        if (this.props.loginStatus_admin) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n    shuffle(a) {\r\n        // for (let i = a.length - 1; i > 0; i--) {\r\n        //     const j = Math.floor(Math.random() * (i + 1));\r\n        //     [a[i], a[j]] = [a[j], a[i]];\r\n        // }\r\n        return a;\r\n    }\r\n\r\n    toggleModalOpen = () => {\r\n        this.setState(prevState => ({ modalOpen: !(prevState.modalOpen) }));\r\n    }\r\n\r\n    toggleModalSignupOpen = () => {\r\n        this.setState(prevState => ({ modalSignupOpen: !(prevState.modalSignupOpen) }));\r\n    }\r\n\r\n\r\n\r\n\r\n    // Login Actions\r\n\r\n\r\n    validateProperty(input) {\r\n        const obj = { [input.name]: input.value };\r\n        const schema = { [input.name]: this.schema[input.name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        if (!error) return null;\r\n        return error.details[0].message;\r\n    }\r\n\r\n    /* *********************************************** HANDLE INPUT CHANGE EVENT *************************************** */\r\n\r\n    validate = () => {\r\n        const result = Joi.validate(this.state.account, this.schema, {\r\n            abortEarly: false\r\n        });\r\n        if (!result.error) return null;\r\n\r\n        const errors = [];\r\n\r\n        for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n    };\r\n\r\n    handleLoginChange = ({ currentTarget: input }) => {\r\n        const errors = [...this.state.errors];\r\n\r\n        const errorMessage = this.validateProperty(input);\r\n\r\n        if (errorMessage)\r\n            errors[input.name] = errorMessage;\r\n        else\r\n            delete errors[input.name];\r\n\r\n        const account = { ...this.state.account };\r\n\r\n        account[input.name] = input.value;\r\n        this.setState({ account, errors });\r\n\r\n    };\r\n\r\n\r\n    handleSubmit = (e, isSignup) => {\r\n        e.preventDefault();\r\n        // this.setState({loginRequestStatus_admin:false})\r\n        const errors = this.validate();\r\n\r\n        if (!errors) {\r\n            if (isSignup) this.props.signup(this.state.account)\r\n            else this.props.login(this.state.account);\r\n        }\r\n        if (this.props.loginStatus_admin) {\r\n            this.setState({ errors: errors || {} });\r\n        }\r\n    }\r\n\r\n    // end login actions\r\n\r\n\r\n    searchAllConceptionary(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/home/all/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [...this.state.suggestions];\r\n\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthors(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authors/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching authors for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConcepts(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/concepts/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConceptClusters(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/conceptClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                // this.setState({selectedOption});\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n\r\n            console.log('Error while prefetching concept clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthorClusters(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroupsNav(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorGroups/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroups(labels, callback) {\r\n        axios.post(`${server}/api/rest/v1/authors/search`, labels).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    onTagsChanged = (tag) => {\r\n        \r\n        // this.setState({filter:false})\r\n        this.props.addTag(tag);\r\n        if (this.state.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: 'AuthorGroups'\r\n            });\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        }\r\n        if (this.state.tags.length <= 0) {\r\n            this.setState({\r\n                searchCategory: this.props.navbar.searchCategory\r\n            });\r\n            this.props.setSelectedCategory(\"All\");\r\n        }\r\n        \r\n\r\n        this.setState({ suggestions: [],filter:!this.state.filter })\r\n\r\n    };\r\n\r\n    onInputChanged = (e) => {\r\n        //console.log(`input value is now: ${e.target.value}`);\r\n    }\r\n\r\n    handleDelete = (i) => {\r\n        const tags = this.state.tags.slice(0)\r\n        tags.splice(i, 1)\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        })\r\n        this.setState({ suggestions: [] })\r\n\r\n\r\n    }\r\n\r\n    handleAddition = (tag) => {\r\n        let tags = [...this.state.tags];\r\n        tags.push({\r\n            id: tag.id.toString(),\r\n            label: tag.label,\r\n            type: tag.type\r\n        });\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        });\r\n        this.setState({ suggestions: [] })\r\n\r\n        //console.log(this.state.tags);\r\n    }\r\n    loadTags = (input, cb) => {\r\n        axios.post(`${server}/api/rest/v1/authorGroups/search`, input).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [];\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    obj.value = x.label;\r\n                    obj.type = x.type;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n                cb(null, suggestions);\r\n            }\r\n            else {\r\n                console.log(\"\");\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching suggestions for navbar', error);\r\n        });\r\n    }\r\n    loadSuggestions = (label) => {\r\n        let tagsObject = {};\r\n        if (this.state.tags.length < 1) {\r\n            tagsObject = {};\r\n            tagsObject.type = \"both\";\r\n            tagsObject.labels = label;\r\n        } else {\r\n            tagsObject = {};\r\n            tagsObject.labels = label;\r\n            tagsObject.type = \"group\";\r\n            tagsObject.id = this.state.tags.map(x => x.id);\r\n\r\n        }\r\n        let query = {};\r\n        query.tagsObject = tagsObject;\r\n        return new Promise((resolve, reject) => {\r\n            this.loadTags(query, function (err, suggestions) {\r\n\r\n                resolve(suggestions);\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    handleChange = (selectedOption) => {\r\n        ReactDOM.findDOMNode(this.refs.myInput).focus();\r\n        this.setState({allow:true});\r\n\r\n        if (selectedOption.label !== undefined) {\r\n            this.props.setSelectedItem(selectedOption);\r\n            this.setState({\r\n                selectedOption\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTagChange = (selectedTag) => {\r\n        if (selectedTag.label !== undefined) {\r\n            this.state.tags.push(selectedTag);\r\n            this.setState({ tags: this.state.tags });\r\n        }\r\n    }\r\n\r\n    onSelectedCatagoryChange(e) {\r\n        if (this.props.navbar.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: \"AuthorGroups\",\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        } else {\r\n            this.setState({\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(e);\r\n        }\r\n    }\r\n    loadOptions(inputValue) {\r\n        if (this.state.searchCategory === \"Concept\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConcepts(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Concept Clusters\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConceptClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"AuthorGroups\") {\r\n            let obj = {};\r\n            obj.labels = this.state.tags;\r\n            obj.category = this.state.seletedSearch;\r\n            obj.label = inputValue;\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroups(obj, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"Author\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthors(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Clusters\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Groups\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroupsNav(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"All\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAllConceptionary(inputValue, function (err, results) {\r\n\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n    };\r\n    renderRedirect = () => {\r\n        if (this.state.selectedOption) {\r\n            if (this.state.selectedOption.category) {\r\n                switch (this.state.selectedOption.category) {\r\n                    case \"Concepts\":\r\n                        return <Redirect to='/concepts' />\r\n                    case \"Concept-Clusters\":\r\n                        return <Redirect to='/concept-clusters' />\r\n                    case \"Authors\":\r\n                        return <Redirect to='/authors' />\r\n                    case \"Author-Clusters\":\r\n                        return <Redirect to='/author-clusters' />\r\n                    case \"Author-Groups\":\r\n                        return <Redirect to='/author-groups' />\r\n                    default:\r\n                        return null\r\n                }\r\n            }\r\n        }\r\n    }\r\n    removeTag = id => {\r\n        this.props.removeTag(id);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n         \r\n        if(window.location.pathname=='/')\r\n        {\r\n            this.setState({show:false})\r\n            console.log(\"hiding\")\r\n        }\r\n        else\r\n        {\r\n            console.log(\"showing\")\r\n            \r\n        this.setState({show:true})\r\n        }\r\n        \r\n        if (this.state.selectedOption !== nextProps.navbar.selectedOption && nextProps.navbar.selectedOption) {\r\n            this.setState({ selectedOption: nextProps.navbar.selectedOption });\r\n        }\r\n\r\n        // if ( this.props.loginStatus_admin !=nextProps.loginStatus_admin  && nextProps.loginStatus_admin) {\r\n\r\n        // }\r\n        if (nextProps.navbar.SIGNUP_SUCCESS) {\r\n            let account = {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            };\r\n            this.setState({\r\n                account\r\n\r\n            });\r\n        }\r\n        if (this.props.loginStatus_admin != nextProps.loginStatus_admin && !nextProps.invalidLogin && nextProps.loginStatus_admin) {\r\n            this.setState({ modalOpen: false })\r\n        }\r\n\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (nextProps.navbar.tags.length <= 0) {\r\n                this.props.setSelectedCategory(this.state.seletedSearch ? this.state.seletedSearch : 'All');\r\n            }\r\n        }\r\n        // let selectedOption=\"\";\r\n        // if(this.allow)\r\n        // {\r\n            \r\n        // }\r\n        this.setState({\r\n            searchCategory: nextProps.navbar.searchCategory,\r\n            concepts: nextProps.navbar.concepts,\r\n            conceptClusters: nextProps.navbar.conceptClusters,\r\n            authors: nextProps.navbar.authors,\r\n            authorClusters: nextProps.navbar.authorClusters,\r\n            authorGroups: nextProps.navbar.authorGroups,\r\n            selectedOption: nextProps.navbar.selectedOption,\r\n            tags: nextProps.navbar.tags,\r\n        \r\n\r\n        });\r\n        \r\n        if (nextProps.navbar.selectedOption.label !== undefined) {\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                let filters = nextProps.navbar.tags.map(x => x.label);\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}?`;\r\n                for (let i = 0; i < filters.length; i++) {\r\n                    if (i == 0) {\r\n                        url = url.concat(`filters=${filters[i]}`);\r\n                    } else {\r\n                        url = url.concat(`&filters=${filters[i]}`);\r\n                    }\r\n\r\n                }\r\n                window.history.pushState(null, null, url);\r\n            } else {\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}`;\r\n                  window.history.pushState(null, null, url);\r\n                //this.props.history.push(url);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return (\r\n             <div>\r\n                {this.renderRedirect()}\r\n                {this.state.show && <Navbar style={{position:'fixed',zIndex:100, backgroundColor: [getBackgroudColor(this.state.selectedOption.page)],padding:\"0px\",paddingLeft:\"20px\",paddingRight:\"20px\",width:\"100vw\" }} light expand=\"md\">\r\n                    <NavbarBrand href=\"/\">Conceptionary</NavbarBrand>\r\n                    <NavbarToggler onClick={this.toggle} />\r\n                    <Collapse isOpen={this.state.isOpen} navbar>\r\n                        <Nav className=\"navbar\">\r\n                            <form className=\"form-inline\">\r\n                                <span style={{ display: \"inline-block\" }}>\r\n                                    <select ref = \"myInput\" autoFocus={true} style={{marginTop:\"-15px\", height:37,padding: \"5px 2px\", borderRadius: \"5px\", border: \"1px solid white\" }} onChange={(e) => this.onSelectedCatagoryChange(e.target.value)} value={this.state.seletedSearch}>\r\n                                        <option selected={this.state.searchCategory === \"All\"} value=\"All\">All</option>\r\n                                        <option selected={this.state.searchCategory === \"Concept\"} value=\"Concept\">Concepts</option>\r\n                                        <option selected={this.state.searchCategory === \"Author\"} value=\"Author\">Authors</option>\r\n                                        <option selected={this.state.searchCategory === \"Concept Clusters\"} value=\"Concept Clusters\">Concept Clusters</option>\r\n                                        <option selected={this.state.searchCategory === \"Author Groups\"} value=\"Author Groups\">Author Groups</option>\r\n                                    </select>\r\n                                </span>\r\n                                <span style={{ display: \"inline-block\",padding:\"5px 3px\",marginTop:\"-10px\" }}>\r\n                                    <AsyncSelect className=\"ml-2 width-300\"\r\n                                        value={this.state.allow?this.state.selectedOption:\" \"}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onOpen={()=> this.setState({selectedOption:\" \"})}\r\n                                        onFocus={()=> {this.setState({allow:false});}}\r\n                                        styles={colourStyles}\r\n                                    />\r\n\r\n                                </span>\r\n                               \r\n                               \r\n            \r\n                            </form>\r\n                            &nbsp;\r\n                            &nbsp;\r\n                        </Nav>\r\n                        <Nav className=\"ml-auto\" navbar>\r\n                             \r\n                                \r\n                        <span style={{ display: \"inline-block\",paddingTop:\"5px\",paddingRight:'5px' }}>\r\n                                    <ul>\r\n                                        {this.state.tags.map(tag => {\r\n                                            return <li style={{ display: 'inline-block', background: 'purple', color: \"#fff\", borderRadius: '8px', padding: '5px', fontSize: '13px', marginLeft: '2px' }}>{tag.label}\r\n                                                <span style={{ marginLeft: '5px' }} className=\"badge\" id=\"tag\" onClick={() => { this.removeTag(tag.id) }}>X</span>\r\n                                            </li>\r\n                                        })}\r\n                                    </ul>\r\n                                </span>\r\n                             <span className=\"ml-auto\" style={{ display:this.state.filter?\"inline-block\":\"none\" }}>\r\n                                    <AsyncSelect className=\"width-200\"\r\n                                        value={this.state.selectedTag}\r\n                                        loadOptions={this.loadSuggestions}\r\n                                        onChange={this.onTagsChanged}\r\n                                        // styles={colourStyles}\r\n                                        isDisabled={this.state.tags.length >= 2 ? true : false || this.state.searchCategory === \"Author Groups\"}\r\n                                    />\r\n\r\n                                </span>\r\n                        <span style={{ display: \"inline-block\" }}>\r\n                        <NavItem  className=\"ml-auto\" style={{margin:0,padding:0,cursor:'pointer'}} onClick={() => {this.setState({filter:!this.state.filter})}}><i id=\"filter\" className=\"fa fa-filter filter\"></i></NavItem>\r\n                                        \r\n                                </span>\r\n                                <span>\r\n                                                                  \r\n                                <NavLink onClick={() => {this.setState({modal:true})}} style={{cursor:'pointer'}} ><i className=\"fa fa-plus\"  style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i></NavLink>\r\n                            \r\n                                    </span>\r\n                                <span>\r\n                                        \r\n                                        <UncontrolledDropdown nav inNavbar>\r\n                                          <DropdownToggle nav >\r\n                                            <i class=\"fa fa-info\" style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i>\r\n                                          </DropdownToggle>\r\n                                          <DropdownMenu right>\r\n                                            <DropdownItem tag=\"a\"  href=\"/about\">\r\n                                                About\r\n                                            </DropdownItem>\r\n                                            <DropdownItem divider />\r\n                                            <DropdownItem tag=\"a\" href=\"/contact\">\r\n                                                Contact\r\n                                            </DropdownItem>\r\n                                            <DropdownItem divider />\r\n                                            <DropdownItem tag=\"a\" href=\"/TermsOfUse\">\r\n                                                Terms of Use\r\n                                            </DropdownItem>\r\n                                          </DropdownMenu>\r\n                                        </UncontrolledDropdown>\r\n                                                              </span>\r\n                                                              \r\n\r\n                            {\r\n                                this.props.loginStatus_admin ?\r\n                                    <React.Fragment>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                {this.props.loggedInUserAccount_admin.username}\r\n\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                <span onClick={() => { this.props.logout() }}>Logout</span>\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n\r\n                                            <button\r\n                                                style={\r\n                                                    {\r\n                                                        border: '1px solid',\r\n                                                        marginRight: '5px',\r\n                                                        borderRadius: '50%',\r\n                                                        color: 'black',\r\n                                                        fontWeight: 'bold',\r\n                                                        background: 'white'\r\n                                                    }\r\n                                                }\r\n                                            >+</button>\r\n                                        </span>\r\n\r\n                                    </React.Fragment>\r\n                                    :\r\n\r\n                                    <span>\r\n                                 \r\n                                    <NavItem style={{ cursor: 'pointer' }}>\r\n                                \r\n                                        <NavLink onClick={this.toggleModalOpen} >Log-in</NavLink>\r\n                                    </NavItem>\r\n                                    </span>\r\n                                    \r\n\r\n                            }\r\n                        </Nav>\r\n                    </Collapse>\r\n                        </Navbar> }\r\n                            \r\n                       \r\n                <Modal open={this.state.modalOpen} onClose={this.toggleModalOpen} center>\r\n                    <h4 style={{ textAlign: \"center\" }}>Log in to your account</h4>\r\n\r\n                    <div style={{ padding: '50px' }}>\r\n                        <Form style={{ margin: 'auto', width: '300px', padding: '20px 30px', background: '#fff', boxShadow: '0 0 20px #ccc' }}>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Email\">Email</Label> */}\r\n                                <Input type=\"text\" name=\"Email\" id=\"Email\" onChange={(e) => this.handleLoginChange(e)} placeholder=\"username\" />\r\n                                {this.state.errors.Email && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Email}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Password\" name=\"Password\" id=\"Password\" onChange={(e) => this.handleLoginChange(e)} placeholder=\"Password\" />\r\n                                {this.state.errors.Password && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Password}</p>\r\n                                )}\r\n                            </FormGroup>\r\n                            {\r\n                                this.props.invalidLogin ? <p className=\"alert alert-info\">Invalid username/password</p> : null\r\n                            }\r\n\r\n                            <p style={{ color: '#641E89', textDecoration: 'underline', cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    this.toggleModalOpen();\r\n                                    this.toggleModalSignupOpen();\r\n                                }}\r\n                            >Don't have an account? signup</p>\r\n                            <Button onClick={(e) => this.handleSubmit(e)}\r\n                                style={{\r\n                                    width: \"100%\",\r\n                                    height: \"40px\",\r\n                                    backgroundColor: \"#641E89\",\r\n                                    color: \"#fff\",\r\n                                    border: \"1px solid white\"\r\n                                }} className=\"btn form-control\">{this.state.loginRequestStatus_admin ? \"Login\" :\r\n                                    <Loader\r\n                                        type=\"Puff\"\r\n                                        color=\"#FFF\"\r\n                                        height=\"30\"\r\n                                        width=\"30\"\r\n                                    />}\r\n                            </Button>\r\n\r\n                        </Form>\r\n                    </div>\r\n                </Modal>        \r\n                <Modal open={this.state.modal}  toggle={() => {this.setState({modal:false})}}  onClose={() => {this.setState({modal:false})}} styles={{padding:0}} >\r\n                <ModalHeader style={{padding:'0',paddingRight:'1rem'}} className='text-center'><h1>Submit a definition</h1> <h3>for consideration</h3></ModalHeader>\r\n                         <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">term:</label>\r\n                            <div onChange={this.handleTerm} className=\"col-md-12\">\r\n                                 <input type=\"text\" className=\"form-control\" id=\"term\" placeholder=\"enter term\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">defination:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea onChange={this.handleDefination}  className=\"form-control\" placeholder=\"enter definationa\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">original:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea className=\"form-control\" onChange={this.handleOriginal}  placeholder=\"enter original\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">author:</label>\r\n                            <div className=\"col-md-12\">\r\n                                 <input type=\"text\"  onChange={this.handleAuthor}  className=\"form-control\" id=\"term\" placeholder=\"enter author name\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">citation:</label>\r\n                            <div className=\"col-md-10\">\r\n                                <textarea  onChange={this.handleCitation}  className=\"form-control\" placeholder=\"enter citation\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"col-md-offset-2 col-md-10\">\r\n                            <button type=\"submit\" onClick={this.handleSubmitNew} class=\"btn btn-success\">Submit</button>\r\n                            </div>\r\n                        </div>\r\n                </Modal>\r\n                {/* <Modal isOpen={this.state.thanksModal} toggle={() => {this.setState({thanksModal:false})}} className=\"animated zoomIn\" style={{top:'30%'}}>\r\n                            <ModalHeader toggle={this.toggle} style={{padding:'0',paddingRight:'1rem'}}></ModalHeader>\r\n                            <ModalBody className=\"text-center\">\r\n                                <h3>Thanks for getting in touch</h3>\r\n                            </ModalBody>\r\n                           \r\n                        </Modal> */}\r\n                <Modal open={this.state.modalSignupOpen} onClose={this.toggleModalSignupOpen} center>\r\n                    <h4 style={{ textAlign: \"center\" }}>Sign up for a new account</h4>\r\n                    {\r\n                        this.props.navbar.SIGNUP_SUCCESS &&\r\n\r\n                        (\r\n                            <div class=\"alert alert-success alert-dismissible\">\r\n                                <span href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\">&times;</span>\r\n                                <strong>Success!</strong> user created please login.\r\n                        </div>\r\n                        )\r\n                    }\r\n                    <div style={{ padding: '50px' }}>\r\n                        <Form style={{ margin: 'auto', width: '300px', padding: '20px 30px', background: '#fff', boxShadow: '0 0 20px #ccc' }}>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Email\">Email</Label> */}\r\n                                <Input type=\"text\" name=\"Email\" id=\"Email\" value={this.state.account.Email} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Email\" />\r\n                                {this.state.errors.Email && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Email}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Username\" name=\"Username\" id=\"Username\" value={this.state.account.Username} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Username\" />\r\n                                {this.state.errors.Username && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Username}</p>\r\n                                )}\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                {/* <Label style={{fontWeight:\"normal\",fontSize:'12px'}} className=\"text-muted\" for=\"Password\">Password</Label> */}\r\n                                <Input type=\"Password\" name=\"Password\" id=\"Password\" value={this.state.account.Password} onChange={(e) => this.handleLoginChange(e)} placeholder=\"Password\" />\r\n                                {this.state.errors.Password && (\r\n                                    <p style={{ padding: '3px', fontSize: '12px' }} className=\"alert alert-danger\">{this.state.errors.Password}</p>\r\n                                )}\r\n                            </FormGroup>\r\n\r\n                            <p style={{ color: '#641E89', textDecoration: 'underline', cursor: 'pointer' }}\r\n                                onClick={() => {\r\n                                    this.toggleModalSignupOpen();\r\n                                    this.toggleModalOpen();\r\n                                }}\r\n                            >Already have an account? login</p>\r\n                            {/* <p style={{color:'#641E89',textDecoration:'underline', cursor:'pointer'}}>Forgot Password ?</p> */}\r\n                            <Button onClick={(e) => this.handleSubmit(e, true)}\r\n                                style={{\r\n                                    width: \"100%\",\r\n                                    height: \"40px\",\r\n                                    backgroundColor: \"#641E89\",\r\n                                    color: \"#fff\",\r\n                                    border: \"1px solid white\"\r\n                                }} className=\"btn form-control\">{this.state.loginRequestStatus_admin ? \"Signup\" :\r\n                                    <Loader\r\n                                        type=\"Puff\"\r\n                                        color=\"#FFF\"\r\n                                        height=\"30\"\r\n                                        width=\"30\"\r\n                                    />}\r\n                            </Button>\r\n\r\n                        </Form>\r\n                    </div>\r\n                </Modal>\r\n                <Modal open={this.state.thanksModal} onClose={() => {this.setState({thanksModal:false})}} center>\r\n                <ModalHeader toggle={this.toggle} style={{padding:'0',paddingRight:'1rem'}}></ModalHeader>\r\n                            <ModalBody className=\"text-center\">\r\n                                <h3>Thanks for getting in touch</h3>\r\n                            </ModalBody>\r\n                </Modal>\r\n\r\n                            </div> \r\n        );\r\n    }\r\n}\r\n\r\nconst dot = (color = '#ccc') => ({\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n\r\n    ':before': {\r\n        backgroundColor: color,\r\n        borderRadius: 10,\r\n        content: '\" \"',\r\n        display: 'block',\r\n        marginRight: 8,\r\n        height: 10,\r\n        width: 10,\r\n    },\r\n});\r\nconst colourStyles = {\r\n    control: styles => ({ ...styles, backgroundColor: 'white' }),\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        const color = chroma(data.color);\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isDisabled\r\n                ? null\r\n                : isSelected ? data.color : isFocused ? color.alpha(0.1).css() : null,\r\n            color: isDisabled\r\n                ? '#ccc'\r\n                : isSelected\r\n                    ? chroma.contrast(color, 'white') > 2 ? 'white' : 'black'\r\n                    : data.color,\r\n            cursor: isDisabled ? 'not-allowed' : 'default',\r\n        };\r\n    },\r\n    input: styles => ({ ...styles, ...dot() }),\r\n    placeholder: styles => ({ ...styles, ...dot() }),\r\n    singleValue: (styles, { data }) => ({ ...styles, ...dot(data.color) }),\r\n};\r\nconst getBackgroudColor = (page) => {\r\n    switch (page) {\r\n        case 'Concepts':\r\n            return \"#696969\";\r\n        case 'Concept Clusters':\r\n            return \"#CD5C5C\";\r\n        case 'Authors':\r\n            return \"#A52A2A\";\r\n        case 'Author Clusters':\r\n            return \"#800080\";\r\n        default:\r\n            return \"#a4b2b7\";\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushState: bindActionCreators(flushState, dispatch),\r\n        setAutherClusterSelectedItems: bindActionCreators(setAutherClusterSelectedItems, dispatch),\r\n        getAuthorGroups: bindActionCreators(getAuthorGroups, dispatch),\r\n        login: bindActionCreators(login, dispatch),\r\n        signup: bindActionCreators(signup, dispatch),\r\n        logout: bindActionCreators(logout, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        removeTag: bindActionCreators(removeTag, dispatch)\r\n\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        userExist_admin: state.navbar.userExist_admin,\r\n        loginRequestStatus_admin: state.navbar.loginRequestStatus_admin,\r\n        loginStatus_admin: state.navbar.loginStatus_admin,\r\n        invalidLogin: state.navbar.invalidLogin,\r\n        loggedInUserAccount_admin: state.navbar.loggedInUserAccount_admin\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TopNavBar));","// import React, { Component } from 'react';\r\nimport conceptionary_svg from \"../../images/conceptionary.svg\";\r\nimport \"./HomePage.css\";\r\n// import{getAuthorGroups} from \"../../utilities\";\r\n// import queryString from \"query-string\";\r\n// import $ from \"jquery\";\r\n\r\n// class HomePage extends Component {\r\n//     default=false;\r\n//     constructor(props) {\r\n//         super(props);\r\n//         this.state = {}\r\n//     }\r\n//     async componentWillMount(){           \r\n//     //     if (queryString.parse(this.props.location.search).filters) {\r\n//     //         let filters = [];\r\n//     //         let queryFilters = queryString.parse(this.props.location.search).filters;\r\n//     //         if (typeof queryFilters === \"string\") {\r\n//     //             filters.push(queryFilters);\r\n//     //         } else {\r\n//     //             filters = queryFilters;\r\n//     //         }\r\n//     //         let author_group = await getAuthorGroups(filters);\r\n//     //         this.props.addTag(author_group);\r\n//     // }\r\n// }\r\n//     render() {\r\n//         return (\r\n//             <div style={{ paddingTop: \"5%\" }} className=\"text-center\">\r\n//                 <img src={conceptionary_svg} width=\"80%\" alt=\"\" />\r\n//             </div>\r\n//         );\r\n//     }\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { Component } from 'react';\r\n// import \"./TopNavBar.css\";\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom'\r\nimport { bindActionCreators } from 'redux';\r\n// import \"./ReactSelect.css\";\r\nimport \"react-virtualized/styles.css\";\r\nimport \"react-virtualized-select/styles.css\";\r\nimport chroma from 'chroma-js'\r\nimport AsyncSelect from 'react-select/lib/Async';\r\nimport { setSelectedCategory, setSelectedItem, login, logout, signup, flushState, getAllAsync, setAutherClusterSelectedItems, prefetchConceptsForNavbar, prefetchConceptClustersForNavbar, prefetchAuthorsForNavbar, prefetchAuthorClustersForNavbar, prefetchAuthorGroupsForNavbar, getAuthorGroups, addTag, removeTag } from \"../../actions/navbaractions\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Modal from 'react-responsive-modal';\r\nimport { Button, Form, FormGroup, Input, Label, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport '../../../node_modules/bootstrap/dist/js/bootstrap';\r\nimport Loader from 'react-loader-spinner'\r\nimport Joi from 'joi-browser/dist/joi-browser'\r\nimport axios from 'axios';\r\nimport $ from \"jquery\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nimport {\r\n    Collapse,\r\n    Navbar,\r\n    NavbarToggler,\r\n    NavbarBrand,\r\n    Nav,\r\n    NavItem,\r\n    NavLink,\r\n    UncontrolledDropdown,\r\n    Dropdown,\r\n    DropdownItem,\r\n    DropdownToggle,\r\n    DropdownMenu\r\n} from 'reactstrap';\r\nimport ReactDOM from 'react-dom';\r\nconst server = process.env.REACT_APP_SERVER;\r\nclass HomePage extends Component {\r\n    allow=true\r\n    val=\" \"\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedTag: [],\r\n            searchCategory: this.props.navbar.searchCategory,\r\n            seletedSearch: \"\",\r\n            selectedOption: {},\r\n            authorClusterSelectedOptions: \"\",\r\n            concepts: this.props.navbar.concepts,\r\n            conceptClusters: this.props.navbar.conceptClusters,\r\n            authors: this.props.navbar.authors,\r\n            authorClusters: this.props.navbar.authorClusters,\r\n            authorGroups: this.props.navbar.authorGroups,\r\n            dropdownData: [],\r\n            tags: this.props.navbar.tags,\r\n            labelsArray: [],\r\n            loadOptionsData: [],\r\n            suggestions: [],\r\n            modalOpen: false,\r\n            modalSignupOpen: false,\r\n            account: {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            },\r\n            errors: [],\r\n            loginRequestStatus_admin: true,\r\n            loginStatus_admin: true,\r\n            userAccount: [],\r\n            filter:false,\r\n            default:false,\r\n            allow:true,\r\n            modal:false,\r\n            term:'',\r\n            defination:'',\r\n            original:'',\r\n            author:'',\r\n            citation:''\r\n        }\r\n\r\n        // console.log(\"Top Navbar state in Constructor\", this.props)\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.loadOptions = this.loadOptions.bind(this);\r\n        this.renderRedirect = this.renderRedirect.bind(this);\r\n        this.onSelectedCatagoryChange = this.onSelectedCatagoryChange.bind(this);\r\n        this.handleTerm=this.handleTerm.bind(this)\r\n        this.handleDefination=this.handleDefination.bind(this)\r\n        this.handleOriginal=this.handleOriginal.bind(this)\r\n        this.handleAuthor=this.handleAuthor.bind(this)\r\n        this.handleCitation=this.handleCitation.bind(this)\r\n        this.handleSubmitNew=this.handleSubmitNew.bind(this)\r\n        //this.renderRedirectCategory = this.renderRedirectCategory.bind(this);\r\n        this.searchAllConceptionary = this.searchAllConceptionary.bind(this);\r\n    }\r\n    handleTerm(e){ \r\n        console.log(e);  \r\n        this.setState({term:e.target.value})\r\n    }\r\n    handleDefination(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({defination:e.target.value})\r\n    }\r\n    handleOriginal(e){   \r\n        \r\n        console.log(e);\r\n        this.setState({original:e.target.value})\r\n    }\r\n    handleAuthor(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({author:e.target.value})\r\n    }\r\n    handleCitation(e){  \r\n        \r\n        console.log(e); \r\n        this.setState({citation:e.target.value})\r\n    }\r\n    handleSubmitNew(e){   \r\n        console.log(e);\r\n        // this.setState({term:e.target.value})\r\n        e.preventDefault();\r\n        console.log(\"State is \",this.state)\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/newPerspective`,{term:this.state.term,defination:this.state.defination,author:this.state.author,citation:this.state.citation,original:this.state.original}).then(res => {\r\n            console.log(\"Your Email is sent \",res)\r\n            if(res.status=200)\r\n            {\r\n                console.log(\"successfull\");\r\n                this.setState({modal:false});\r\n            }\r\n        })\r\n    }\r\n    schema = {\r\n        Email: Joi.string()\r\n            .required()\r\n            .label(\"Email\"),\r\n        Password: Joi.string()\r\n            .label(\"Password\")\r\n            .required(),\r\n        Username: Joi.string().allow('', null)\r\n    };\r\n\r\n    componentDidMount() {\r\n        console.log(\"setting positon \")\r\n        ReactDOM.findDOMNode(this.refs.search).focus();\r\n        console.log(\"Location is \",window.location.pathname)\r\n        if (this.props.loginStatus_admin) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n    shuffle(a) {\r\n        // for (let i = a.length - 1; i > 0; i--) {\r\n        //     const j = Math.floor(Math.random() * (i + 1));\r\n        //     [a[i], a[j]] = [a[j], a[i]];\r\n        // }\r\n        return a;\r\n    }\r\n\r\n    toggleModalOpen = () => {\r\n        this.setState(prevState => ({ modalOpen: !(prevState.modalOpen) }));\r\n    }\r\n\r\n    toggleModalSignupOpen = () => {\r\n        this.setState(prevState => ({ modalSignupOpen: !(prevState.modalSignupOpen) }));\r\n    }\r\n\r\n\r\n\r\n\r\n    // Login Actions\r\n\r\n\r\n    validateProperty(input) {\r\n        const obj = { [input.name]: input.value };\r\n        const schema = { [input.name]: this.schema[input.name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        if (!error) return null;\r\n        return error.details[0].message;\r\n    }\r\n\r\n    /* *********************************************** HANDLE INPUT CHANGE EVENT *************************************** */\r\n\r\n    validate = () => {\r\n        const result = Joi.validate(this.state.account, this.schema, {\r\n            abortEarly: false\r\n        });\r\n        if (!result.error) return null;\r\n\r\n        const errors = [];\r\n\r\n        for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n    };\r\n\r\n    handleLoginChange = ({ currentTarget: input }) => {\r\n        const errors = [...this.state.errors];\r\n\r\n        const errorMessage = this.validateProperty(input);\r\n\r\n        if (errorMessage)\r\n            errors[input.name] = errorMessage;\r\n        else\r\n            delete errors[input.name];\r\n\r\n        const account = { ...this.state.account };\r\n\r\n        account[input.name] = input.value;\r\n        this.setState({ account, errors });\r\n\r\n    };\r\n\r\n\r\n    handleSubmit = (e, isSignup) => {\r\n        e.preventDefault();\r\n        // this.setState({loginRequestStatus_admin:false})\r\n        const errors = this.validate();\r\n\r\n        if (!errors) {\r\n            if (isSignup) this.props.signup(this.state.account)\r\n            else this.props.login(this.state.account);\r\n        }\r\n        if (this.props.loginStatus_admin) {\r\n            this.setState({ errors: errors || {} });\r\n        }\r\n    }\r\n\r\n    // end login actions\r\n\r\n\r\n    searchAllConceptionary(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/home/all/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [...this.state.suggestions];\r\n\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthors(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authors/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching authors for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConcepts(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/concepts/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching concepts for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchConceptClusters(inputValue, callback) {\r\n\r\n        axios.get(`${server}/api/rest/v1/conceptClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                // this.setState({selectedOption});\r\n\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n\r\n            console.log('Error while prefetching concept clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    searchAuthorClusters(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorClusters/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author clusters for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroupsNav(inputValue, callback) {\r\n        axios.get(`${server}/api/rest/v1/authorGroups/search/` + inputValue).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                this.setState({ selectedOption });\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n    searchAuthorGroups(labels, callback) {\r\n        axios.post(`${server}/api/rest/v1/authors/search`, labels).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                callback(null, this.shuffle(selectedOption));\r\n            }\r\n            else {\r\n                alert('error')\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching author groups for navbar', error);\r\n        });\r\n    }\r\n\r\n\r\n    onTagsChanged = (tag) => {\r\n        \r\n        // this.setState({filter:false})\r\n        this.props.addTag(tag);\r\n        if (this.state.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: 'AuthorGroups'\r\n            });\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        }\r\n        if (this.state.tags.length <= 0) {\r\n            this.setState({\r\n                searchCategory: this.props.navbar.searchCategory\r\n            });\r\n            this.props.setSelectedCategory(\"All\");\r\n        }\r\n        \r\n\r\n        this.setState({ suggestions: [],filter:!this.state.filter })\r\n\r\n    };\r\n\r\n    onInputChanged = (e) => {\r\n        //console.log(`input value is now: ${e.target.value}`);\r\n    }\r\n\r\n    handleDelete = (i) => {\r\n        const tags = this.state.tags.slice(0)\r\n        tags.splice(i, 1)\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        })\r\n        this.setState({ suggestions: [] })\r\n\r\n\r\n    }\r\n\r\n    handleAddition = (tag) => {\r\n        let tags = [...this.state.tags];\r\n        tags.push({\r\n            id: tag.id.toString(),\r\n            label: tag.label,\r\n            type: tag.type\r\n        });\r\n        this.setState({ tags }, function () {\r\n            if (this.state.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (this.state.tags.length <= 0) {\r\n                this.props.setSelectedCategory(\"All\");\r\n            }\r\n        });\r\n        this.setState({ suggestions: [] })\r\n\r\n        //console.log(this.state.tags);\r\n    }\r\n    loadTags = (input, cb) => {\r\n        axios.post(`${server}/api/rest/v1/authorGroups/search`, input).then(data => {\r\n            const { responseType } = data.data;\r\n            if (responseType === 'success') {\r\n                const selectedOption = data.data.data;\r\n                let suggestions = [];\r\n                selectedOption.forEach(x => {\r\n                    let obj = {};\r\n                    obj.id = x.id.toString();\r\n                    obj.label = x.label;\r\n                    obj.value = x.label;\r\n                    obj.type = x.type;\r\n                    suggestions.push(obj);\r\n                })\r\n                this.setState({ suggestions });\r\n                cb(null, suggestions);\r\n            }\r\n            else {\r\n                console.log(\"\");\r\n            }\r\n        }).catch(error => {\r\n            console.log('Error while prefetching suggestions for navbar', error);\r\n        });\r\n    }\r\n    loadSuggestions = (label) => {\r\n        let tagsObject = {};\r\n        if (this.state.tags.length < 1) {\r\n            tagsObject = {};\r\n            tagsObject.type = \"both\";\r\n            tagsObject.labels = label;\r\n        } else {\r\n            tagsObject = {};\r\n            tagsObject.labels = label;\r\n            tagsObject.type = \"group\";\r\n            tagsObject.id = this.state.tags.map(x => x.id);\r\n\r\n        }\r\n        let query = {};\r\n        query.tagsObject = tagsObject;\r\n        return new Promise((resolve, reject) => {\r\n            this.loadTags(query, function (err, suggestions) {\r\n\r\n                resolve(suggestions);\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    handleChange = (selectedOption) => {\r\n        // ReactDOM.findDOMNode(this.refs.myInput).focus();\r\n        this.setState({allow:true});\r\n\r\n        if (selectedOption.label !== undefined) {\r\n            this.props.setSelectedItem(selectedOption);\r\n            this.setState({\r\n                selectedOption\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTagChange = (selectedTag) => {\r\n        if (selectedTag.label !== undefined) {\r\n            this.state.tags.push(selectedTag);\r\n            this.setState({ tags: this.state.tags });\r\n        }\r\n    }\r\n\r\n    onSelectedCatagoryChange(e) {\r\n        if (this.props.navbar.tags.length > 0) {\r\n            this.setState({\r\n                searchCategory: \"AuthorGroups\",\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(\"AuthorGroups\");\r\n        } else {\r\n            this.setState({\r\n                seletedSearch: e\r\n            });\r\n            // this.props.flushState();\r\n            this.props.setSelectedCategory(e);\r\n        }\r\n    }\r\n    loadOptions(inputValue) {\r\n        if (this.state.searchCategory === \"Concept\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConcepts(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Concept Clusters\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchConceptClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"AuthorGroups\") {\r\n            let obj = {};\r\n            obj.labels = this.state.tags;\r\n            obj.category = this.state.seletedSearch;\r\n            obj.label = inputValue;\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroups(obj, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n\r\n        else if (this.state.searchCategory === \"Author\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthors(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Clusters\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorClusters(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"Author Groups\") {\r\n            return new Promise(resolve => {\r\n                this.searchAuthorGroupsNav(inputValue, function (err, results) {\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n        else if (this.state.searchCategory === \"All\") {\r\n\r\n            return new Promise(resolve => {\r\n                this.searchAllConceptionary(inputValue, function (err, results) {\r\n\r\n                    resolve(results);\r\n                })\r\n            })\r\n        }\r\n    };\r\n    renderRedirect = () => {\r\n        if (this.state.selectedOption) {\r\n            if (this.state.selectedOption.category) {\r\n                switch (this.state.selectedOption.category) {\r\n                    case \"Concepts\":\r\n                        return <Redirect to='/concepts' />\r\n                    case \"Concept-Clusters\":\r\n                        return <Redirect to='/concept-clusters' />\r\n                    case \"Authors\":\r\n                        return <Redirect to='/authors' />\r\n                    case \"Author-Clusters\":\r\n                        return <Redirect to='/author-clusters' />\r\n                    case \"Author-Groups\":\r\n                        return <Redirect to='/author-groups' />\r\n                    default:\r\n                        return null\r\n                }\r\n            }\r\n        }\r\n    }\r\n    removeTag = id => {\r\n        this.props.removeTag(id);\r\n    }\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n        \r\n        if (this.state.selectedOption !== nextProps.navbar.selectedOption && nextProps.navbar.selectedOption) {\r\n            this.setState({ selectedOption: nextProps.navbar.selectedOption });\r\n        }\r\n\r\n        // if ( this.props.loginStatus_admin !=nextProps.loginStatus_admin  && nextProps.loginStatus_admin) {\r\n\r\n        // }\r\n        if (nextProps.navbar.SIGNUP_SUCCESS) {\r\n            let account = {\r\n                Email: '',\r\n                Password: '',\r\n                Username: ''\r\n            };\r\n            this.setState({\r\n                account\r\n\r\n            });\r\n        }\r\n        if (this.props.loginStatus_admin != nextProps.loginStatus_admin && !nextProps.invalidLogin && nextProps.loginStatus_admin) {\r\n            this.setState({ modalOpen: false })\r\n        }\r\n\r\n\r\n        if (this.props.navbar.tags.length !== nextProps.navbar.tags.length) {\r\n\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                this.props.setSelectedCategory(\"AuthorGroups\");\r\n            }\r\n            if (nextProps.navbar.tags.length <= 0) {\r\n                this.props.setSelectedCategory(this.state.seletedSearch ? this.state.seletedSearch : 'All');\r\n            }\r\n        }\r\n        // let selectedOption=\"\";\r\n        // if(this.allow)\r\n        // {\r\n            \r\n        // }\r\n        this.setState({\r\n            searchCategory: nextProps.navbar.searchCategory,\r\n            concepts: nextProps.navbar.concepts,\r\n            conceptClusters: nextProps.navbar.conceptClusters,\r\n            authors: nextProps.navbar.authors,\r\n            authorClusters: nextProps.navbar.authorClusters,\r\n            authorGroups: nextProps.navbar.authorGroups,\r\n            selectedOption: nextProps.navbar.selectedOption,\r\n            tags: nextProps.navbar.tags,\r\n        \r\n\r\n        });\r\n        \r\n        if (nextProps.navbar.selectedOption.label !== undefined) {\r\n            if (nextProps.navbar.tags.length > 0) {\r\n                let filters = nextProps.navbar.tags.map(x => x.label);\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}?`;\r\n                for (let i = 0; i < filters.length; i++) {\r\n                    if (i == 0) {\r\n                        url = url.concat(`filters=${filters[i]}`);\r\n                    } else {\r\n                        url = url.concat(`&filters=${filters[i]}`);\r\n                    }\r\n\r\n                }\r\n                window.history.pushState(null, null, url);\r\n            } else {\r\n                let name = nextProps.navbar.selectedOption.value;\r\n                let category = nextProps.navbar.selectedOption.category;\r\n                let url = `/${category}/${name}`;\r\n                  window.history.pushState(null, null, url);\r\n                //this.props.history.push(url);\r\n            }\r\n        }\r\n    }\r\n    render() { \r\n        console.log(\"rendering\")\r\n\r\n\r\n        return (\r\n            <div   className=\"\" >\r\n                <Navbar style={{display:'flex',justifyContent:'flex-end', backgroundColor: \"white\",padding:\"0px\",paddingLeft:\"20px\",paddingRight:\"20px\",width:\"100vw\" }} light expand=\"md\">\r\n                \r\n                        <Nav  navbar>\r\n                             \r\n                                \r\n                        <span style={{ display: \"inline-block\" }}>\r\n                                    <ul>\r\n                                        {this.state.tags.map(tag => {\r\n                                            return <li style={{ display: 'inline-block', background: 'purple', color: \"#fff\", borderRadius: '8px', padding: '5px', fontSize: '13px', marginLeft: '2px' }}>{tag.label}\r\n                                                <span style={{ marginLeft: '5px' }} className=\"badge\" id=\"tag\" onClick={() => { this.removeTag(tag.id) }}>X</span>\r\n                                            </li>\r\n                                        })}\r\n                                    </ul>\r\n                                </span>\r\n                             <span  style={{ display:this.state.filter?\"inline-block\":\"none\" }}>\r\n                                    <AsyncSelect className=\"width-200\"\r\n                                        value={this.state.selectedTag}\r\n                                        loadOptions={this.loadSuggestions}\r\n                                        onChange={this.onTagsChanged}\r\n                                        // styles={colourStyles}\r\n\r\n                                        isDisabled={this.state.tags.length >= 2 ? true : false || this.state.searchCategory === \"Author Groups\"}\r\n                                    />\r\n\r\n                                </span>\r\n                        <span style={{ display: \"inline-block\" }}>\r\n                        <NavItem  style={{margin:0,padding:0,cursor:'pointer'}} onClick={() => {this.setState({filter:!this.state.filter})}}><i id=\"filter\" className=\"fa fa-filter filter\"></i></NavItem>\r\n                                        \r\n                                </span>\r\n                                <span>\r\n                                                                  \r\n                                <NavLink onClick={() => {this.setState({modal:true})}} style={{cursor:'pointer'}} ><i className=\"fa fa-plus\"  style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i></NavLink>\r\n                            \r\n                                    </span>\r\n                                <span>\r\n                                        \r\n                                        <UncontrolledDropdown nav inNavbar>\r\n                                          <DropdownToggle nav >\r\n                                            <i class=\"fa fa-info\" style={{padding:0,fontSize:17,border:\"1px solid black\",width:\"19px\",borderRadius:10}}></i>\r\n                                          </DropdownToggle>\r\n                                          <DropdownMenu right>\r\n                                            <DropdownItem tag=\"a\"  href=\"/about\">\r\n                                                About\r\n                                            </DropdownItem>\r\n                                            <DropdownItem divider />\r\n                                            <DropdownItem tag=\"a\" href=\"/contact\">\r\n                                                Contact\r\n                                            </DropdownItem>\r\n                                            <DropdownItem divider />\r\n                                            <DropdownItem tag=\"a\" href=\"/TermsOfUse\">\r\n                                                Terms of Use\r\n                                            </DropdownItem>\r\n                                          </DropdownMenu>\r\n                                        </UncontrolledDropdown>\r\n                                                              </span>\r\n                                                              \r\n\r\n                            {\r\n                                this.props.loginStatus_admin ?\r\n                                    <React.Fragment>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                {this.props.loggedInUserAccount_admin.username}\r\n\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n                                            <NavItem style={{ cursor: 'pointer' }}>\r\n                                                <span onClick={() => { this.props.logout() }}>Logout</span>\r\n                                            </NavItem>\r\n                                        </span>\r\n                                        <span style={{ padding: '0 5px' }}>\r\n\r\n                                            <button\r\n                                                style={\r\n                                                    {\r\n                                                        border: '1px solid',\r\n                                                        marginRight: '5px',\r\n                                                        borderRadius: '50%',\r\n                                                        color: 'black',\r\n                                                        fontWeight: 'bold',\r\n                                                        background: 'white'\r\n                                                    }\r\n                                                }\r\n                                            >+</button>\r\n                                        </span>\r\n\r\n                                    </React.Fragment>\r\n                                    :\r\n\r\n                                    <span>\r\n                                 \r\n                                    <NavItem style={{ cursor: 'pointer' }}>\r\n                                \r\n                                        <NavLink onClick={this.toggleModalOpen} >Log-in</NavLink>\r\n                                    </NavItem>\r\n                                    </span>\r\n                                    \r\n\r\n                            }\r\n                        </Nav>\r\n                        </Navbar> \r\n                \r\n                \r\n                <div style={{display:\"flex\",alignItems:\"center\",flexDirection:'column',justifyContent:'center',paddingTop:\"10%\"}}>\r\n                    \r\n                <img src={conceptionary_svg} width=\"25%\" height=\"50%\" alt=\"\" />\r\n                <h3>search</h3>\r\n              <AsyncSelect ref=\"search\" className=\" \"\r\n                                        value={this.state.allow?this.state.selectedOption:\" \"}\r\n                                        loadOptions={this.loadOptions}\r\n                                        onChange={this.handleChange}\r\n                                        onOpen={()=> this.setState({selectedOption:\" \"})}\r\n                                        onFocus={()=> {this.setState({allow:false});}}\r\n                                        autoFocus=\"true\"\r\n                                        styles={colourStyles}\r\n                                    />\r\n                </div>\r\n\r\n                <Modal open={this.state.modal}  toggle={() => {this.setState({modal:false})}}  onClose={() => {this.setState({modal:false})}} styles={{padding:0}} >\r\n                <ModalHeader style={{padding:'0',paddingRight:'1rem'}} className='text-center'><h1>Submit a defination</h1> <h3>for considration</h3></ModalHeader>\r\n                         <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">Term:</label>\r\n                            <div onChange={this.handleTerm} className=\"col-md-12\">\r\n                                 <input type=\"text\" className=\"form-control\" id=\"term\" placeholder=\"Enter Term\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">Defination:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea onChange={this.handleDefination}  className=\"form-control\" placeholder=\"Enter Definationa\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">Original:</label>\r\n                            <div className=\"col-md-12\">\r\n                                <textarea className=\"form-control\" onChange={this.handleOriginal}  placeholder=\"Enter Original\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-sm-2\" for=\"term\">Author:</label>\r\n                            <div className=\"col-md-12\">\r\n                                 <input type=\"text\"  onChange={this.handleAuthor}  className=\"form-control\" id=\"term\" placeholder=\"Enter Author Name\" />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"control-label col-md-2\" for=\"term\">Citation:</label>\r\n                            <div className=\"col-md-10\">\r\n                                <textarea  onChange={this.handleCitation}  className=\"form-control\" placeholder=\"Enter Citation\"></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <div className=\"col-md-offset-2 col-md-10\">\r\n                            <button type=\"submit\" onClick={this.handleSubmitNew} class=\"btn btn-success\">Submit</button>\r\n                            </div>\r\n                        </div>\r\n                </Modal>\r\n\r\n                  \r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nconst dot = (color = '#ccc') => ({\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n\r\n    ':before': {\r\n        backgroundColor: color,\r\n        borderRadius: 10,\r\n        content: '\" \"',\r\n        display: 'block',\r\n        marginRight: 8,\r\n        height: 10,\r\n        width: 10,\r\n    },\r\n});\r\nconst colourStyles = {\r\n    control: styles => ({ ...styles, backgroundColor: 'white',border:'1px solid #2684FF',width:'500px' }),\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        const color = chroma(data.color);\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isDisabled\r\n                ? null\r\n                : isSelected ? data.color : isFocused ? color.alpha(0.1).css() : null,\r\n            color: isDisabled\r\n                ? '#ccc'\r\n                : isSelected\r\n                    ? chroma.contrast(color, 'white') > 2 ? 'white' : 'black'\r\n                    : data.color,\r\n            cursor: isDisabled ? 'not-allowed' : 'default',\r\n        };\r\n    },\r\n    input: styles => ({ ...styles, ...dot() }),\r\n    placeholder: styles => ({ ...styles, ...dot() }),\r\n    singleValue: (styles, { data }) => ({ ...styles, ...dot(data.color) }),\r\n};\r\nconst getBackgroudColor = (page) => {\r\n    switch (page) {\r\n        case 'Concepts':\r\n            return \"#696969\";\r\n        case 'Concept Clusters':\r\n            return \"#CD5C5C\";\r\n        case 'Authors':\r\n            return \"#A52A2A\";\r\n        case 'Author Clusters':\r\n            return \"#800080\";\r\n        default:\r\n            return \"#a4b2b7\";\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setSelectedCategory: bindActionCreators(setSelectedCategory, dispatch),\r\n        setSelectedItem: bindActionCreators(setSelectedItem, dispatch),\r\n        flushState: bindActionCreators(flushState, dispatch),\r\n        setAutherClusterSelectedItems: bindActionCreators(setAutherClusterSelectedItems, dispatch),\r\n        getAuthorGroups: bindActionCreators(getAuthorGroups, dispatch),\r\n        login: bindActionCreators(login, dispatch),\r\n        signup: bindActionCreators(signup, dispatch),\r\n        logout: bindActionCreators(logout, dispatch),\r\n        addTag: bindActionCreators(addTag, dispatch),\r\n        removeTag: bindActionCreators(removeTag, dispatch)\r\n\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        navbar: state.navbar,\r\n        userExist_admin: state.navbar.userExist_admin,\r\n        loginRequestStatus_admin: state.navbar.loginRequestStatus_admin,\r\n        loginStatus_admin: state.navbar.loginStatus_admin,\r\n        invalidLogin: state.navbar.invalidLogin,\r\n        loggedInUserAccount_admin: state.navbar.loggedInUserAccount_admin\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(HomePage));\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export default HomePage;","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport './style.css';\r\nimport Axios from 'axios';\r\nclass FileUpload extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedFile: null,\r\n            msg: \"\",\r\n            skip: [],\r\n            wait:false\r\n        }\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onClickHandler = this.onClickHandler.bind(this);\r\n    }\r\n\r\n    onChangeHandler(event) {\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n        });\r\n    }\r\n    async onClickHandler() {\r\n        this.setState({\r\n            wait:true\r\n        })\r\n        const data = new FormData();\r\n        data.append('file', this.state.selectedFile);\r\n        let response = await Axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspectives/upload`, data);\r\n        if (response.data.msg) {\r\n            this.setState({\r\n                msg: response.data.msg,\r\n                wait:false\r\n            })\r\n        }\r\n        if (response.data.skip.length > 0) {\r\n            this.setState({\r\n                skip: response.data.skip\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div class=\"container\" style={{ marginTop: \"5px\" }}>\r\n                <div class=\"row\">\r\n                    <div class=\"offset-md-3 col-md-6\">\r\n                        <div class=\"form-group files\">\r\n                            <label><b>Upload Your File </b></label>\r\n                            <input type=\"file\" name=\"file\" class=\"form-control\" multiple onChange={this.onChangeHandler} /><br></br>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            {/*<ToastContainer />\r\n                <Progress max=\"100\" color=\"success\" value={this.state.loaded} >{Math.round(this.state.loaded,2) }%</Progress>*/}\r\n\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn-success btn-block\" onClick={this.onClickHandler} disabled={(this.state.selectedFile?false:true)||(this.state.wait?true:false)}>Upload</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ display: this.state.msg ? 'block' : 'none' }}>\r\n                    <div class=\"offset-md-3 col-md-6\" style={{ marginTop: '50px' }}>\r\n                        <div class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n                            <strong>{this.state.msg}</strong>\r\n                            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ marginTop: '50px' }}>\r\n                    <div class=\"class=offset-md-3 col-md-6\">\r\n                        {\r\n                            this.state.wait&&(\r\n                                <h2>please wait......</h2>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" style={{ marginTop: '50px' }}>\r\n                    <div class=\"class=offset-md-2 col-md-6\">\r\n                        <ul style={{listStyleType:'none'}}>\r\n                           {\r\n                               this.state.skip.length>0&&(\r\n                                   this.state.skip.map(i=>{\r\n                                       return <li>row:{i} not saved from file</li>\r\n                                   })\r\n                               )\r\n                           }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FileUpload\r\n\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { Helmet } from \"react-helmet\";\r\nimport og from 'open-graph';\r\nclass PerspectiveDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Perspective: null,\r\n            Concept: null,\r\n            Author: null,\r\n            imgURL: null,\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        const { id } = this.props.match.params;\r\n        \r\n        let data = await axios.get(`${process.env.REACT_APP_SERVER}/api/rest/v1/perspective/detail/${id}`)\r\n        if (data.data.responseType == \"success\") {\r\n            console.log(\"Sending daTa\",data);\r\n            this.setState({\r\n                Perspective: data.data.data,\r\n                Concept: data.data.data.Concept,\r\n                Author: data.data.data.Author,\r\n                imgURL: data.data.img\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        if(this.state.Perspective)\r\n        {\r\n            var url = `http://conceptionary.io/perspective/${this.state.Perspective.id}`;\r\n            og(url, function(err, meta){\r\n            console.log(\"Your page is indexed\");\r\n            })\r\n        }\r\n \r\n        let title = \"\";\r\n        let description\r\n        if(this.state.Perspective)\r\n        {\r\n            console.log(\"this.state.Perspe\",this.state.Perspective.pronoun);\r\n            \r\n            if(this.state.Perspective.pronoun!==null && this.state.Perspective.pronoun!==undefined )\r\n            {\r\n                title=this.state.Perspective.pronoun.charAt(0).toUpperCase() + this.state.Perspective.pronoun.slice(1)+\" \"+this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1);   \r\n                console.log(\"first\");\r\n            }\r\n            else\r\n            {\r\n              \r\n               title=this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1);\r\n                \r\n            }\r\n            console.log(\"Title built is \",title)\r\n                description = title +\" is \"+this.state.Perspective.description;\r\n            console.log(\"Descriptin is \",description)\r\n            \r\n            \r\n        }\r\n        \r\n\r\n\r\n    return (\r\n            <div className=\"text-center\" style={{ marginTop: '50px' }}>\r\n                {this.state.Perspective && this.state.Concept && this.state.Author &&\r\n                    <React.Fragment>\r\n                        {/* {console.log(this.state.imgURL)} */}\r\n                        <iframe style={{width: \"0px\", height: \"0px\", margin: \"0px\", padding: \"0px\"}} src={`https://www.facebook.com/sharer/sharer.php?u=http://conceptionary.io/perspective/${this.state.Perspective.id}`}></iframe>\r\n            \r\n                        <Helmet>\r\n\r\n                          \r\n\r\n\r\n                            {/* <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"og:type\" content=\"video.movie\" />\r\n                            <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                            <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                            <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                            <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                            <meta property=\"og:image:type\" content=\"image/jpeg\" />\r\n                            <meta property=\"og:image:width\" content=\"200\" />\r\n                            <meta property=\"og:image:height\" content=\"200\" />\r\n                           \r\n\r\n                            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                            <meta name=\"Twitter:site\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta name=\"twitter:creator\" content=\"Conceptionary.com\" />\r\n                            <meta name=\"twitter:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                            <meta name=\"twitter:description\" content={this.state.Perspective.description} />\r\n                            <meta name=\"twitter:image:src\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} /> */}\r\n\r\n                              {/* <meta name=\"description\" content={this.state.Perspective.description}/>\r\n                                <meta property=\"og:site_name\" content=\"Conceptionary\" />\r\n                                <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                                <meta property=\"og:type\" content=\"article\" />\r\n                                <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                                <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                                <meta property=\"twitter:card\" content=\"summary\" />\r\n                                <meta property=\"twitter:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)} />\r\n                                <meta property=\"twitter:description\" content={this.state.Perspective.description} />\r\n                                <meta property=\"twitter:domain\" content=\"http://conceptionary.io\" />\r\n                                <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                                <meta property=\"og:image:type\" content=\"image/jpeg\" />\r\n                                <meta property=\"og:image:width\" content=\"200\" />\r\n                                <meta property=\"og:image:height\" content=\"200\" />\r\n                                <meta property=\"twitter:image:src\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} /> */}\r\n                            {/* <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"og:type\" content=\"website\" />\r\n                            <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)}  />\r\n                            <meta property=\"og:description\" content={this.state.Perspective.description} /> */}\r\n\r\n                            {/* <meta property=\"og:image\" content=\"https://thereduxjsbooks.com/images/redux-trio-1200x630.png\" />\r\n                            <meta property=\"og:image:alt\" content=\"3 books on ReduxJS. A sequel that takes you from beginner to pro.\" />\r\n                            <meta property=\"og:image:type\" content=\"image/png\" />\r\n                            <meta property=\"og:image:width\" content=\"1200\" />\r\n                            <meta property=\"og:image:height\" content=\"630\" /> */}\r\n\r\n\r\n                            {/* <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                            <meta name=\"twitter:image\" content=\"https://thereduxjsbooks.com/images/redux-trio-560x300.png\" />\r\n                            <meta name=\"twitter:image:alt\" content=\"3 books on ReduxJS. A sequel that takes you from beginner to pro.\" />\r\n                            <meta name=\"twitter:description\" content=\"For every book you buy, we will send a free copy to a developer in India, Nigeria, and Tunisia who can't afford the cost.\"\r\n                            /> */}\r\n                             <meta property=\"og:locale\" content=\"en_US\" />\r\n                            <meta property=\"og:type\" content=\"article\" />\r\n                            <meta property=\"og:title\" content={title}  />\r\n                            <meta property=\"og:description\" content={description} />\r\n                            <meta property=\"og:url\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"og:site_name\" content=\"Conceptionary.io\" />\r\n                            <meta property=\"article:publisher\" content={`http://conceptionary.io/perspective/${this.state.Perspective.id}`} />\r\n                            <meta property=\"article:author\" content=\"Conceptionary.io\" />\r\n                            <meta property=\"article:tag\" content=\"webdev\" />\r\n                            <meta property=\"article:tag\" content=\"webperf\" />\r\n                            <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                            <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                            <meta property=\"og:image:secure_url\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`} />\r\n                            <meta property=\"og:image:width\" content=\"600\"/>\r\n                            <meta property=\"og:image:height\" content=\"314\"/>\r\n                            \r\n  \r\n                            {/* <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n                            <meta name=\"twitter:site\" content=\"Conceptionary\" />\r\n                            <meta name=\"twitter:creator\" content=\"Conceptionary.io\" />\r\n                            <meta property=\"og:url\" content=\"http://conceptionary.io/perspective/130\" />\r\n                            <meta property=\"og:title\" content={this.state.Concept.name.charAt(0).toUpperCase() + this.state.Concept.name.slice(1)}  />\r\n                            <meta property=\"og:description\" content={this.state.Perspective.description}  />\r\n                            <meta property=\"og:image\" content={`http://conceptionary.io/images/${this.state.Perspective.id}.png`}/>\r\n                             */}\r\n\r\n\r\n                        </Helmet>\r\n                        <div>\r\n                            \r\n                            <img src={this.state.imgURL} style={{ width: '200px', height: '200px' }} alt={this.state.Author.lastName}></img>\r\n                            <h3>{this.state.Concept.name}</h3>\r\n                            <hr></hr>\r\n                            <p><b>{this.state.Concept.name}</b> {this.state.Perspective.description}</p>\r\n                            <h5>{this.state.Author.firstName + \" \" + this.state.Author.lastName}</h5>\r\n                        </div>\r\n                    </React.Fragment>\r\n                }\r\n                {/* <Helmet>\r\n                    <meta property=\"og:url\" content={`http://conceptionary-frontend.s3-website.us-east-2.amazonaws.com/perspective/${this.state.Perspective.id}`} />\r\n                    <meta property=\"og:type\" content=\"website\" />\r\n                    <meta property=\"fb:app_id\" content=\"930857800581355\" />\r\n                    <meta property=\"og:title\" content={this.state.Concept.name} />\r\n                    <meta property=\"og:description\" content={this.state.Perspective.description} />\r\n                    <meta property=\"og:image\" content=\"https://www.recordedbooks.com/RBDigital/media/site/new%20stuff/Authors%20600%20X%20600/Authors_Stephen-King_600x600_1.jpg?ext=.jpg\" />\r\n                </Helmet>\r\n                <div>\r\n                    <img alt=\"\" src=\"https://www.recordedbooks.com/RBDigital/media/site/new%20stuff/Authors%20600%20X%20600/Authors_Stephen-King_600x600_1.jpg?ext=.jpg\" style={{ width: '200px', height: '200px' }}></img>\r\n                    <h3>{this.state.Concept.name}</h3>\r\n                    <hr></hr>\r\n                    <p><b>{this.state.Concept.name}</b> {this.state.Perspective.description}</p>\r\n                    <h5>{this.state.Author.firstName + \" \" + this.state.Author.lastName}</h5>\r\n                    <p>conceptionary site</p>\r\n                </div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PerspectiveDetail","import React from 'react'\r\nimport {\r\n    FacebookIcon,TwitterIcon,LinkedinIcon,  EmailIcon,PinterestIcon,InstapaperIcon\r\n\r\n} from 'react-share';\r\nimport insta from '../../images/insta.png'\r\nclass About extends React.Component{\r\n    render()\r\n    {\r\n        return (\r\n            <div style={{paddingTop:\"5%\",paddingBottom:\"10%\"}} className=\"container\" >\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 text-justify\" style={{lineHeight:'normal'}}  >\r\n                        <center>\r\n                                <h1>Conceptionary.io</h1>\r\n                                \r\n                        </center>\r\n                        <p>Anyone who has ever held a purring cat in their arms or watched a cat walking along\r\n                        a wooden fence knows that Merriam-Webster’s definition of ‘cat’ doesn’t come within\r\n                        stalking distance of this mysterious creature when it defines it as . . .</p>\r\n                        <p5><q>. . . a carnivorous mammal long domesticated as a pet and for catching\r\n                        rats and mice</q></p5> <br/><br/>\r\n                        <p>The definition is drab. It’s static. Fittingly enough, it sounds like something someone\r\n                        just pulled from some dictionary.</p>\r\n                        <p>Dictionaries are generally concept killers. They put concepts under glass like a\r\n                        butterfly collection. They stick a pin through a concept’s dusty abdomen to hold it in\r\n                        place. A cat is oh so much more than Merriam-Webster would have it:</p>\r\n                        <p>While a definition ought to always be definitive, authoritative, and universally true, it should never purport to be the final word on a matter. Conceptionary believes that the essence of a thing is sooner to be discovered in a kaleidoscope of pointed insights rather than in one dull generalization.</p>\r\n                        \r\n                        <p><b>The cat</b> is a sculpture set to music.<br />\r\n                        - Merrit Malloy</p>\r\n                        <p><b> The cat </b>is there to give man the pleasure of caressing the tiger.<br />\r\n                        - Victor Hugo</p>\r\n                        <p><b>The cat</b> is a diagram and pattern of subtle air, just as the fish is the\r\n                        movement of water embodied, given shape.<br />\r\n                        - Doris Lessing</p>\r\n                        <p><b>The cat</b> is a thing that sleeps fat and walks thin.<br />\r\n                        - Rosalie Moore</p>\r\n                        <p><b>The cat </b>is Like a graceful vase, which, even when motionless, seems to\r\n                        flow.<br/>\r\n                        - George F. Will</p>\r\n                        <p>Great minds do not think alike. As such, we encourage you to visit Conceptionary much like you would a gourmet cooking festival, gliding from one smell to the next. We all know that the one perfect marinara sauce doesn’t exist. Nor would we have it any other way. Each master chef uses his own preferred herbs, leans on his own signature piquancy and develops a thickness unique to that chef alone. If we do find one that suits us better than all others, then it is because it speaks directly to us in a way the others don’t, because it understands us better than the others. The same rules apply here!</p>\r\n                        <h4>Welcome to Conceptionary!</h4>\r\n                    </div>\r\n                    <div className=\"col-md-4\" >\r\n                        <div>\r\n                            <br/>   \r\n                            <p><b>visit us on social media or contact us</b></p>\r\n                            <p >\r\n                                <a href=\"https://twitter.com/Conceptionaryio\" style={{display:\"inline-block\",padding:8}}><TwitterIcon size={30} /></a>\r\n                                <a href=\"https://www.pinterest.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><PinterestIcon size={30} /></a>\r\n                                <a href=\"https://www.facebook.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><FacebookIcon   Icon size={30} /></a>\r\n                                <a href=\"https://instagram.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><img src={insta} style={{height:'32px'}} /></a>\r\n                            \r\n                            </p>\r\n                            <div style={{color:'#32217a'}}>\r\n                                <p>Copyright &copy; 2019 conceptionary.io</p>\r\n                                <h4>Other Sources of Interest</h4>\r\n                                \r\n                                <h6><u><b>Online Quotations and Aphorisms</b></u></h6>\r\n                                <ul style={{listStyle:'none',padding:0,lineHeight:'1'}} >\r\n                                    <li><a href=\"https://www.azquotes.com/\"><h6>azquote</h6></a></li>\r\n                                    <li><a href=\"#\"><h6>quoteikon</h6></a></li>\r\n                                    <li href=\"https://www.azquotes.com/\"><a><h6>Quote Garden</h6></a></li>\r\n                                    <li><a href=\"#\"><h6>Bartlets Quotations</h6></a></li>\r\n                                    <li><a href=\"https://www.azquotes.com/\"><h6>Wiki Quotes</h6></a></li>\r\n                                    <li><a href=\"#\"><h6>Brainy Quotes</h6></a></li>\r\n                                    <li><a href=\"https://www.azquotes.com/\"><h6>Good Reads</h6></a></li>\r\n                                    <li><a href=\"https://www.azquotes.com/\"><h6>Quote Investigaotr</h6></a></li>\r\n                                    \r\n                                    \r\n                                </ul>\r\n                                <br/>\r\n                                <h6><u><b>Aphorism Feeds on Twitter</b></u></h6>\r\n                                <ul style={{listStyle:'none',padding:0}}>\r\n                                    <li><h6>Marty Rubin</h6></li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default About;","import React from 'react'\r\nimport axios from 'axios'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {\r\n    FacebookIcon,TwitterIcon,LinkedinIcon,  EmailIcon,PinterestIcon, InstapaperIcon\r\n\r\n} from 'react-share';\r\nimport insta from '../../images/insta.png'\r\nimport Instagram from 'react-share-icons/lib/Instagram';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\nclass Contact extends React.Component{\r\n    constructor(a)\r\n    {\r\n        super(a)\r\n        this.state={\r\n            name:'',\r\n            email:'',\r\n            subject: '',\r\n            body: '',\r\n            modal:false,\r\n            form:true\r\n        }\r\n        this.handleName=this.handleName.bind(this);\r\n        this.handleEmail=this.handleEmail.bind(this);\r\n        this.handleSubject=this.handleSubject.bind(this);\r\n        this.handleBody=this.handleBody.bind(this);\r\n        this.submitEmail=this.submitEmail.bind(this)\r\n    \r\n        this.toggle = this.toggle.bind(this);\r\n    \r\n    }\r\n    toggle() {\r\n        this.setState(prevState => ({\r\n          modal: !prevState.modal,\r\n          name: \"\",\r\n          email: '',\r\n          body : '',\r\n          subject: ''\r\n        }));\r\n      }\r\n    componentDidMount()\r\n    {\r\n        this.props.history.push('/contact');\r\n        console.log(\"pushed \");\r\n    }\r\n    handleName(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({name: value.target.value});\r\n    }\r\n    handleEmail(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({email: value.target.value});\r\n    }\r\n    handleSubject(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({subject: value.target.value});\r\n    }\r\n    handleBody(value)\r\n    {\r\n        console.log(value);\r\n        this.setState({body: value.target.value});\r\n    }\r\n    submitEmail(e)\r\n    {\r\n        e.preventDefault();\r\n        this.setState({form:false})\r\n        this.toggle();\r\n        console.log(\"Your Values are\",this.state);\r\n        let data={};\r\n        data.name=this.state.name;\r\n        data.email=this.state.email;\r\n        data.subject=this.state.subject;\r\n        data.body=this.state.body;\r\n        console.log(\"sending email\");\r\n        axios.post(`${process.env.REACT_APP_SERVER}/api/rest/v1/contact`,{email:this.state.email,name:this.state.name,contact:this.state.contact,body:this.state.body,subject:this.state.subject}).then(res => {\r\n            console.log(\"Your Email is sent \",res)\r\n            if(res.status=200)\r\n            {\r\n                // this.toggle();\r\n            }\r\n        })\r\n    }\r\n    \r\n    render()\r\n    {\r\n        return (\r\n            <div style={{paddingTop:\"5%\"}}>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6 \">\r\n                            <h1>Contact Us</h1>\r\n                            <p>We's love to hear from you. Feel free to let us know how you feel about conceptionary. Any ideas who we can improve ?</p>\r\n                            \r\n                            {this.state.form &&     <div className=\"\" style={{border:\"1px solid #4a4545\",padding:20}}>\r\n                               <form action=\"\" className=\"form-horizontal\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"email\">Name :</label>\r\n                                    <input value={this.state.name} style={{border:'1px solid #4a4545'}} type=\"name\" placeholder=\"Enter your name\" onChange={this.handleName} class=\"form-control\" id=\"email\" />\r\n                                </div>\r\n                                \r\n                                <div class=\"form-group\">\r\n                                    <label for=\"pwd\">Subject:</label>\r\n                                    <input  value={this.state.subject} style={{border:'1px solid #4a4545'}} type=\"text\" placeholder=\"Enter Subject\"  onChange={this.handleSubject} class=\"form-control\" id=\"pwd\" /> \r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"pwd\">Email:</label>\r\n                                    <input  value={this.state.email} style={{border:'1px solid #4a4545'}} type=\"email\"  onChange={this.handleEmail} placeholder=\"Enter your Email\" class=\"form-control\" id=\"pwd\" required /> \r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                <label htmlFor=\"body\">Body :</label>\r\n                                <textarea required  value={this.state.body} style={{border:'1px solid #4a4545'}}  onChange={this.handleBody} placeholder=\"Enter your Message\" className=\"form-control\" rows=\"4\">\r\n                                    \r\n                                </textarea>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                <button type=\"submit\" class=\"btn btn-info\" onClick={this.submitEmail}>Submit</button>\r\n                                </div>\r\n                                </form>\r\n                                \r\n                            </div>\r\n        }\r\n                            <Modal isOpen={this.state.modal} toggle={this.toggle} className=\"animated zoomIn\" style={{top:'30%'}}>\r\n                                <ModalHeader toggle={this.toggle} style={{padding:'0',paddingRight:'1rem'}}></ModalHeader>\r\n                                <ModalBody className=\"text-center\">\r\n                                    <h3>Thanks for getting in touch</h3>\r\n                                </ModalBody>\r\n                                {/* <ModalFooter>\r\n                                    <Button color=\"danger\" onClick={this.toggle}>Close</Button>\r\n                                </ModalFooter> */}\r\n                                </Modal>\r\n                                \r\n                          <br/><br/>\r\n                        </div>\r\n                        \r\n                    <div className=\"col-md-4 offset-md-2\" >\r\n                        <div>\r\n                            <br/>   \r\n                            <p><b>visit us on social media or contact us</b></p>\r\n                            <p >\r\n                                <a href=\"https://twitter.com/Conceptionaryio\" style={{display:\"inline-block\",padding:8}}><TwitterIcon size={30} /></a>\r\n                                <a href=\"https://www.pinterest.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><PinterestIcon size={30} /></a>\r\n                                <a href=\"https://www.facebook.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><FacebookIcon   Icon size={30} /></a>\r\n                                <a href=\"https://instagram.com/conceptionary/\" style={{display:\"inline-block\",padding:8}}><img src={insta} style={{height:'32px'}} /></a>\r\n                            \r\n                            </p>\r\n                            <div style={{color:'#32217a'}}>\r\n                                <p>Copyright &copy; 2019 conceptionary.io</p>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            \r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(Contact);","import React from 'react'\r\nclass TermsOfUse extends React.Component{\r\n    render()\r\n    {\r\n        return (\r\n            <div style={{paddingTop:\"5%\"}} className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12 text-justify\">\r\n                    <br/>\r\n                    <h2>Terms and Conditions</h2>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                    <br/> \r\n                    <h4>Lorem Ipsum</h4>\r\n                    <p>\r\n                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n                     </p>\r\n                </div>\r\n            </div>\r\n\r\n                {/* <h3>Terms and Conditions</h3>\r\nGeneral Site Usage\r\nLast Revised: December 16, 2013\r\n\r\nWelcome to www.lorem-ipsum.info. This site is provided as a service to our visitors and may be used for informational purposes only. Because the Terms and Conditions contain legal obligations, please read them carefully.\r\n\r\n<h3>1. YOUR AGREEMENT</h3>\r\nBy using this Site, you agree to be bound by, and to comply with, these Terms and Conditions. If you do not agree to these Terms and Conditions, please do not use this site.\r\n\r\nPLEASE NOTE: We reserve the right, at our sole discretion, to change, modify or otherwise alter these Terms and Conditions at any time. Unless otherwise indicated, amendments will become effective immediately. Please review these Terms and Conditions periodically. Your continued use of the Site following the posting of changes and/or modifications will constitute your acceptance of the revised Terms and Conditions and the reasonableness of these standards for notice of changes. For your information, this page was last updated as of the date at the top of these terms and conditions.\r\n<h3>2. PRIVACY</h3>\r\nPlease review our Privacy Policy, which also governs your visit to this Site, to understand our practices.\r\n\r\n<h3>3. LINKED SITES</h3>\r\nThis Site may contain links to other independent third-party Web sites (\"Linked Sites”). These Linked Sites are provided solely as a convenience to our visitors. Such Linked Sites are not under our control, and we are not responsible for and does not endorse the content of such Linked Sites, including any information or materials contained on such Linked Sites. You will need to make your own independent judgment regarding your interaction with these Linked Sites.\r\n\r\n<h3>4. FORWARD LOOKING STATEMENTS\r\n</h3>\r\nAll materials reproduced on this site speak as of the original date of publication or filing. The fact that a document is available on this site does not mean that the information contained in such document has not been modified or superseded by events or by a subsequent document or filing. We have no duty or policy to update any information or statements contained on this site and, therefore, such information or statements should not be relied upon as being current as of the date you access this site.\r\n\r\n5. DISCLAIMER OF WARRANTIES AND LIMITATION OF LIABILITY\r\nA. THIS SITE MAY CONTAIN INACCURACIES AND TYPOGRAPHICAL ERRORS. WE DOES NOT WARRANT THE ACCURACY OR COMPLETENESS OF THE MATERIALS OR THE RELIABILITY OF ANY ADVICE, OPINION, STATEMENT OR OTHER INFORMATION DISPLAYED OR DISTRIBUTED THROUGH THE SITE. YOU EXPRESSLY UNDERSTAND AND AGREE THAT: (i) YOUR USE OF THE SITE, INCLUDING ANY RELIANCE ON ANY SUCH OPINION, ADVICE, STATEMENT, MEMORANDUM, OR INFORMATION CONTAINED HEREIN, SHALL BE AT YOUR SOLE RISK; (ii) THE SITE IS PROVIDED ON AN \"AS IS\" AND \"AS AVAILABLE\" BASIS; (iii) EXCEPT AS EXPRESSLY PROVIDED HEREIN WE DISCLAIM ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, WORKMANLIKE EFFORT, TITLE AND NON-INFRINGEMENT; (iv) WE MAKE NO WARRANTY WITH RESPECT TO THE RESULTS THAT MAY BE OBTAINED FROM THIS SITE, THE PRODUCTS OR SERVICES ADVERTISED OR OFFERED OR MERCHANTS INVOLVED; (v) ANY MATERIAL DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE SITE IS DONE AT YOUR OWN DISCRETION AND RISK; and (vi) YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR FOR ANY LOSS OF DATA THAT RESULTS FROM THE DOWNLOAD OF ANY SUCH MATERIAL.\r\n\r\nB. YOU UNDERSTAND AND AGREE THAT UNDER NO CIRCUMSTANCES, INCLUDING, BUT NOT LIMITED TO, NEGLIGENCE, SHALL WE BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, PUNITIVE OR CONSEQUENTIAL DAMAGES THAT RESULT FROM THE USE OF, OR THE INABILITY TO USE, ANY OF OUR SITES OR MATERIALS OR FUNCTIONS ON ANY SUCH SITE, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THE FOREGOING LIMITATIONS SHALL APPLY NOTWITHSTANDING ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY.\r\n\r\n6. EXCLUSIONS AND LIMITATIONS\r\nSOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES. ACCORDINGLY, OUR LIABILITY IN SUCH JURISDICTION SHALL BE LIMITED TO THE MAXIMUM EXTENT PERMITTED BY LAW.\r\n\r\n7. OUR PROPRIETARY RIGHTS\r\nThis Site and all its Contents are intended solely for personal, non-commercial use. Except as expressly provided, nothing within the Site shall be construed as conferring any license under our or any third party's intellectual property rights, whether by estoppel, implication, waiver, or otherwise. Without limiting the generality of the foregoing, you acknowledge and agree that all content available through and used to operate the Site and its services is protected by copyright, trademark, patent, or other proprietary rights. You agree not to: (a) modify, alter, or deface any of the trademarks, service marks, trade dress (collectively \"Trademarks\") or other intellectual property made available by us in connection with the Site; (b) hold yourself out as in any way sponsored by, affiliated with, or endorsed by us, or any of our affiliates or service providers; (c) use any of the Trademarks or other content accessible through the Site for any purpose other than the purpose for which we have made it available to you; (d) defame or disparage us, our Trademarks, or any aspect of the Site; and (e) adapt, translate, modify, decompile, disassemble, or reverse engineer the Site or any software or programs used in connection with it or its products and services.\r\n\r\nThe framing, mirroring, scraping or data mining of the Site or any of its content in any form and by any method is expressly prohibited.\r\n\r\n8. INDEMNITY\r\nBy using the Site web sites you agree to indemnify us and affiliated entities (collectively \"Indemnities\") and hold them harmless from any and all claims and expenses, including (without limitation) attorney's fees, arising from your use of the Site web sites, your use of the Products and Services, or your submission of ideas and/or related materials to us or from any person's use of any ID, membership or password you maintain with any portion of the Site, regardless of whether such use is authorized by you.\r\n\r\n9. COPYRIGHT AND TRADEMARK NOTICE\r\nExcept our generated dummy copy, which is free to use for private and commercial use, all other text is copyrighted. generator.lorem-ipsum.info © 2013, all rights reserved\r\n\r\n10. INTELLECTUAL PROPERTY INFRINGEMENT CLAIMS\r\nIt is our policy to respond expeditiously to claims of intellectual property infringement. We will promptly process and investigate notices of alleged infringement and will take appropriate actions under the Digital Millennium Copyright Act (\"DMCA\") and other applicable intellectual property laws. Notices of claimed infringement should be directed to:\r\n\r\ngenerator.lorem-ipsum.info\r\n\r\n126 Electricov St.\r\n\r\nKiev, Kiev 04176\r\n\r\nUkraine\r\n\r\ncontact@lorem-ipsum.info\r\n\r\n11. PLACE OF PERFORMANCE\r\nThis Site is controlled, operated and administered by us from our office in Kiev, Ukraine. We make no representation that materials at this site are appropriate or available for use at other locations outside of the Ukraine and access to them from territories where their contents are illegal is prohibited. If you access this Site from a location outside of the Ukraine, you are responsible for compliance with all local laws.\r\n\r\n12. GENERAL\r\nA. If any provision of these Terms and Conditions is held to be invalid or unenforceable, the provision shall be removed (or interpreted, if possible, in a manner as to be enforceable), and the remaining provisions shall be enforced. Headings are for reference purposes only and in no way define, limit, construe or describe the scope or extent of such section. Our failure to act with respect to a breach by you or others does not waive our right to act with respect to subsequent or similar breaches. These Terms and Conditions set forth the entire understanding and agreement between us with respect to the subject matter contained herein and supersede any other agreement, proposals and communications, written or oral, between our representatives and you with respect to the subject matter hereof, including any terms and conditions on any of customer's documents or purchase orders.\r\n\r\nB. No Joint Venture, No Derogation of Rights. You agree that no joint venture, partnership, employment, or agency relationship exists between you and us as a result of these Terms and Conditions or your use of the Site. Our performance of these Terms and Conditions is subject to existing laws and legal process, and nothing contained herein is in derogation of our right to comply with governmental, court and law enforcement requests or requirements relating to your use of the Site or information provided to or gathered by us with respect to such use. */}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default TermsOfUse;","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Router, Route, Link, Switch, Redirect } from 'react-router-dom';\r\nimport ConceptsPage from \"./components/ConceptsPage/ConceptsPage\";\r\nimport ConceptClustersPage from \"./components/ConceptClustersPage/ConceptClustersPage\";\r\nimport Message from \"./components/Messages/Message\";\r\nimport AuthorCluster from \"./components/AutherCluster/AutherCluster\";\r\nimport AuthorPage from \"./components/AuthorPage/AutherPage\";\r\nimport Login from \"./components/Login/Login\";\r\nimport Signup from \"./components/Signup/Signup\";\r\nimport TopNavBar from \"./components/TopNavBar/TopNavBar\";\r\nimport HomePage from \"./components/HomePage/HomePage\";\r\nimport FileUpload from './components/FileUpload/FileUpload';\r\nimport PerspectiveDetail from './components/perspectiveDetail/perspective';\r\nimport { connect } from 'react-redux';\r\nimport { createBrowserHistory } from \"history\";\r\nimport About from './components/about/about'\r\nimport Contact from './components/contact/contact'\r\nimport TermsOfUse from './components/termsofuse/termsofuse'\r\nconst history = createBrowserHistory()\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isAuthenticated: false,\r\n      user: this.props.auth.user,\r\n    }\r\n  }\r\n  render() {\r\n    const { isAuthenticated } = this.props.auth;\r\n    // const { id, username, email } = this.props.auth.user;\r\n    const PrivateRoute = ({ component: Component, ...rest }) => {\r\n      // console.log(\"...Rest\", rest);\r\n      return <Route {...rest} render={(props) => {\r\n        // console.log(\"Props in Private Route\", props);\r\n        return isAuthenticated === true ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }} />\r\n    };\r\n    return (\r\n       <Router history={history}>\r\n        <div>\r\n          <TopNavBar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={HomePage} />\r\n            <Route path=\"/login\" exact component={Login} />\r\n            <Route path=\"/signup\" exact component={Signup} />\r\n            <Route path=\"/concepts\" exact component={ConceptsPage} />\r\n            <Route path=\"/concepts/:name\" exact component={ConceptsPage} />\r\n            <Route path=\"/concept-clusters\" exact component={ConceptClustersPage} />\r\n            <Route path=\"/concept-clusters/:name\" exact component={ConceptClustersPage} />\r\n            <Route path=\"/authors\" exact component={AuthorPage} />\r\n            <Route path=\"/authors/:name\" exact component={AuthorPage} />\r\n            <Route path=\"/author-clusters\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-groups\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-groups/:name\" exact component={AuthorCluster} />\r\n            <Route path=\"/author-clusters/:name\" exact component={AuthorCluster} />\r\n            <Route path=\"/Message\" exact component={Message} />\r\n            <Route path=\"/Fileupload\" exact component={FileUpload}/>\r\n            <Route path=\"/perspective/:id\" exact component={PerspectiveDetail}/>\r\n            <Route path=\"/contact\" exact component={Contact}/>\r\n            <Route path=\"/TermsOfUse\" exact component={TermsOfUse}/>\r\n            <Route path=\"/about\" exact component={About}/>\r\n          </Switch>\r\n        </div>\r\n        </Router>\r\n    );\r\n  }\r\n}\r\nfunction mapStatToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n  }\r\n}\r\nexport default connect(mapStatToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.1/8 is considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS } from \"constants\";\r\nimport isEmpty from \"lodash/isEmpty\";\r\nconst initialState = {\r\n    isAuthenticated: false,\r\n    user: {}\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"SET_CURRENT_USER\":\r\n            return {\r\n                isAuthenticated: !isEmpty(action.user),\r\n                user: action.user,\r\n            }\r\n        case \"LOG_OUT\":\r\n            return {\r\n                isAuthenticated: false,\r\n                user: {}\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","\r\nconst initialState = {\r\n    // searchSuggestions: [],\r\n    tags: [],\r\n    selectedOption: \"\",\r\n    authorClusterSelectedOptions: \"\",\r\n    searchCategory: \"All\",\r\n    concepts: [],\r\n    authors: [],\r\n    conceptClusters: [],\r\n    authorClusters: [],\r\n    authorGroups: [],\r\n    loading: true,\r\n    userExist_admin: false,\r\n    loginStatus_admin: false,\r\n    loggedInUserAccount_admin: {},\r\n    loginRequestStatus_admin: true,\r\n    invalidLogin: false,\r\n    SIGNUP_SUCCESS: false,\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"GET_CONCEPTS_NAMES_NAVBAR\":\r\n            // console.log(\"GET_CONCEPTS_NAMES_NAVBAR\");\r\n            return {\r\n                ...state,\r\n                searchSuggestions: action.payload,\r\n            }\r\n        case \"SET_SEARCH_CATEGORY\":\r\n            // console.log(\"SET_SEARCH_CATEGORY \");\r\n            return {\r\n                ...state,\r\n                searchCategory: action.payload,\r\n            }\r\n        case \"SET_SELECTED_OPTION\":\r\n            // console.log(\"SET_SELECTED_OPTION\");\r\n            return {\r\n                ...state,\r\n                selectedOption: action.payload\r\n            }\r\n        case \"FLUSH_NAV_BAR\":\r\n            return {\r\n                ...state,\r\n                selectedOption: \"\",\r\n            }\r\n        case \"SET_AUTHOR_CLUSTER_SELECTED_OPTIONS\":\r\n            return {\r\n                ...state,\r\n                authorClusterSelectedOptions: action.payload,\r\n            }\r\n        case \"CONCEPTS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(action.payload);\r\n            // console.log(\"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                concepts: action.payload,\r\n            }\r\n        case \"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"CONCEPT_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                conceptClusters: action.payload,\r\n            }\r\n        case \"AUTHORS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"AUTHORS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                authors: action.payload,\r\n            }\r\n        case \"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\":\r\n            // console.log(\"AUTHOR_CLUSTERS_TRIMMED_FOR_NAVBAR\")\r\n            return {\r\n                ...state,\r\n                authorClusters: action.payload,\r\n            }\r\n\r\n        case \"AUTHOR_GROUPS_TRIMMED_FOR_NAVBAR\":\r\n            return {\r\n                ...state,\r\n                authorGroups: action.payload,\r\n            }\r\n\r\n        case \"LOGIN_REQUEST\":\r\n            return {\r\n                ...state,\r\n                loginRequestStatus_admin: false,\r\n                invalidLogin: false,\r\n                loginStatus_admin: false\r\n\r\n            }\r\n\r\n        case \"LOGIN_SUCCESS\":\r\n            // return state;\r\n            return {\r\n                ...state,\r\n                userExist_admin: true,\r\n                loggedInUserAccount_admin: action.userInfo,\r\n                loginRequestStatus_admin: true,\r\n                loginStatus_admin: true,\r\n                invalidLogin: false\r\n\r\n            }\r\n\r\n        case \"LOGIN_FAILURE\":\r\n            return {\r\n                ...state,\r\n                loginRequestStatus_admin: true,\r\n                loginStatus_admin: false,\r\n                invalidLogin: true\r\n            }\r\n\r\n        case \"LOGOUT\":\r\n            return {\r\n                ...state,\r\n                loginStatus_admin: false,\r\n                loggedInUserAccount_admin: {},\r\n                loginRequestStatus_admin: false,\r\n                userExist_admin: false,\r\n            }\r\n        case \"SIGNUP_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                SIGNUP_SUCCESS: true\r\n            }\r\n        case \"ADD_TAG\": {\r\n            let tags = [...state.tags]\r\n            if(Array.isArray(action.payload)){\r\n                tags.push(...action.payload)\r\n            }else{\r\n                tags.push(action.payload)\r\n            }\r\n            return {\r\n                ...state,\r\n                tags: tags\r\n            }\r\n        }\r\n        case \"REMOVE_TAG\":\r\n            let tags = [...state.tags];\r\n            for (let i = 0; i < tags.length; i++) {\r\n                if (tags[i].id == action.payload) {\r\n                    tags.splice(i, 1);\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                tags: tags\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { stat } from \"fs\";\r\n\r\nconst initialState = {\r\n    listRelatedData: [],\r\n    loading: true,\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    perspectiveIds: [],\r\n    sortedAuthorIds: [],\r\n    perspectivesRelations: {},\r\n    perspectivesDetail: [],\r\n    perspectivesByAuthor: {},\r\n    sortedAuthors: [],\r\n    authors: {},\r\n    concept: {},\r\n    keywordIds: [],\r\n    keywords: {},\r\n    isLike: false,\r\n    initial:false,\r\n    normalizedPerspectives:{},\r\n    sortByLikes:false,\r\n    isScroll:true,\r\n    isScrollByLike:true\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':{\r\n            \r\n            return {\r\n                apiLoading: true,\r\n                sortByLikes:false,\r\n                isScrollByLike:state.isScrollByLike\r\n            }}\r\n        case 'REQUEST_SUCCESSFUL':\r\n            return {\r\n                ...state,\r\n                apiLoading: false,\r\n                apiServerError: false,\r\n                apiNetworkError: false,\r\n            }\r\n        case 'SET_CONCEPT_DETAILS': {\r\n            return {\r\n                ...state,\r\n                perspectivesRelations: action.payload.perspectivesRelations,\r\n                authors: action.payload.authors,\r\n                concept: action.payload.concepts,\r\n                keywords: action.payload.keywords,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                sortedAuthorIds: action.payload.sortedAuthorIds,\r\n                sortedAuthors: action.payload.sortedAuthors,\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_SCROLL': {\r\n            let oldPerspectives=state.normalizedPerspectives;\r\n            let perspectivesByAuthor = state.perspectivesByAuthor;\r\n            action.payload.perspectives.forEach(p => {\r\n                perspectivesByAuthor[p.AuthorId].push(p.id);\r\n            })\r\n            let normalizedPerspectives=action.payload.normalizedPerspectives;\r\n            Object.keys(normalizedPerspectives).map(id => {\r\n                state.normalizedPerspectives[id]=normalizedPerspectives[id];\r\n            })\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: perspectivesByAuthor,\r\n                normalizedPerspectives:oldPerspectives\r\n            }\r\n        }\r\n        case 'LOAD_BY_LIKES': {\r\n            return {\r\n                isScrollByLike:false,\r\n                initial : false\r\n            }\r\n        }\r\n        case 'SET_NORMALIZED_PERSPECTIVES':\r\n        {\r\n\r\n            return {\r\n                ...state,\r\n                normalizedPerspectives:action.payload.data,\r\n                sortByLikes:true,\r\n                initial:true,\r\n                offset:1,\r\n                isScrollByLike:action.payload.isScrollLike\r\n\r\n            }\r\n        }\r\n        case 'SET_NORMALIZED_PERSPECTIVES_BY_SCROLL':\r\n        {\r\n            let normalizedPerspectives=action.payload;\r\n            let oldPerspectives=state.normalizedPerspectives;\r\n            let newPerspectives=oldPerspectives.concat(normalizedPerspectives);\r\n            let oldoffset=++state.offset;\r\n            return {\r\n                ...state,\r\n                normalizedPerspectives:newPerspectives,\r\n                sortByLikes:true,\r\n                offset:oldoffset\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_AUTHOR': {\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                normalizedPerspectives:action.payload.normalizedPerspectives,\r\n                initial:true,\r\n                sortByLikes:false,\r\n                isScrollByLike:false,\r\n                offset:0,\r\n                isScrollByLike:false\r\n            }\r\n        }\r\n        case 'SET_DETAILED_PERSPECTIVE_BY_KEYWORDS': {\r\n           if(state.sortByLikes)\r\n           {\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                normalizedPerspectives:action.payload.Perspectives,\r\n                initial:true\r\n            }\r\n           }\r\n           else\r\n           {\r\n            return {\r\n                ...state,\r\n                perspectivesByAuthor: action.payload.perspectivesByAuthor,\r\n                normalizedPerspectives:action.payload.normalizedPerspectives,\r\n                initial:true\r\n            }\r\n           }\r\n        }\r\n        case 'setPerspectiveIds': {\r\n            return {\r\n                ...state,\r\n                perspectiveIds: action.payload\r\n            }\r\n        }\r\n        case 'sortByAuthorLast': {\r\n            return {\r\n                ...state,\r\n                sortBy: action.payload\r\n            }\r\n        }\r\n        case 'sortByKeyword': {\r\n            return {\r\n                ...state,\r\n                sortBy: action.payload.sortBy,\r\n                sortByKeywordId: action.payload.sortByKeywordId,\r\n                all: action.payload.all\r\n\r\n            }\r\n        }\r\n        case 'SHOW_ALL_PERSPECTIVE': {\r\n            return {\r\n                ...state,\r\n                all: action.payload\r\n            }\r\n        }\r\n        case 'SET_PERSPECTIVE_LIKE': {\r\n            let perspectives = state.perspectives;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return {\r\n                ...state,\r\n                perspectives: perspectives\r\n            }\r\n        }\r\n        case 'SET_IS_LIKE': {\r\n            return {\r\n                ...state,\r\n                isLike: action.payload\r\n            }\r\n        }\r\n\r\n        // case \"GET_CONCEPT_DETAILS\":\r\n        //     // console.log(\"Dispatch Called!\");\r\n        //     return {\r\n        //         ...state,\r\n        //         conceptsWithDetails: [...action.payload]\r\n        //     }\r\n        // case \"GET_CONCEPT_KEYWORDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         keywords: [...action.payload],\r\n        //     }\r\n        // case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         perspectiveids: [...action.payload]\r\n        //     }\r\n        // case \"REFRESH_CONCEPT_PAGE\":\r\n        //     return {\r\n        //         ...state,\r\n\r\n        //     }\r\n        case 'FLUSH_CONCEPT':{\r\n            return {\r\n                isScrollByLike:state.isScrollByLike\r\n            }\r\n        }\r\n        case 'GET_LIST_RELATED':\r\n            return {\r\n                ...state,\r\n                listRelatedData: action.payload,\r\n            }\r\n        // case 'LOADING_FALSE':\r\n        //     console.log(\"Loading False\")\r\n        //     return {\r\n        //         ...state,\r\n        //         loading: false\r\n        //     }\r\n        // case 'LOADING_TRUE':\r\n        //     console.log(\"Loaing True\")\r\n        //     return {\r\n        //         loading: true,\r\n        //     }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    conceptClustersWithDetails: [],\r\n    conceptClusterConceptsDiscrete: [],\r\n    authors:{},\r\n    concepts:{},\r\n    perspective:{},\r\n    keywords:{},\r\n    conceptCluster:{},\r\n    authorClicked: false,\r\n    conceptClicked: true,\r\n    loading: true,\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    conceptClusterWithDetails: {}\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'CONCEPT_CLUSTER_DETAIL':{\r\n            let conceptCluster=action.payload.conceptCluster[Object.keys(action.payload.conceptCluster)[0]]\r\n            return{\r\n                ...state,\r\n                authors:action.payload.authors,\r\n                concepts:action.payload.concepts,\r\n                perspective:action.payload.perspectives,\r\n                conceptCluster:conceptCluster,\r\n                keywords:action.payload.keywords\r\n            }\r\n        }\r\n        case 'CLICKED_STATE':{\r\n            return{\r\n                ...state,\r\n                authorClicked:action.payload.authorClicked,\r\n                conceptClicked:action.payload.conceptClicked\r\n            }\r\n        }\r\n        case 'CONCEPT_CLUSTER_PERSPECTIVE_LIKE':{\r\n            let perspectives = state.perspective;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return{\r\n                ...state,\r\n                perspective: perspectives\r\n            }\r\n        }\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':\r\n            return {\r\n                apiLoading: true,\r\n            }\r\n        case 'REQUEST_SUCCESSFUL':\r\n            return {\r\n                ...state,\r\n                conceptClusterWithDetails: action.payload,\r\n                apiLoading: false,\r\n                apiServerError: false,\r\n                apiNetworkError: false,\r\n            }\r\n        case \"GET_CONCEPT_CLUSTER_DETAILS\":\r\n            // console.log(\"Dispatch Called!\");\r\n            return {\r\n                ...state,\r\n                conceptClustersWithDetails: [...action.payload]\r\n            }\r\n        case \"GET_CONCEPT_CLUSTER_CONCEPTS_DISCRETE\":\r\n            return {\r\n                ...state,\r\n                conceptClusterConceptsDiscrete: [...action.payload],\r\n            }\r\n        case 'FLUSH_CONCEPT_CLUSTER':\r\n            return {\r\n                loading: true,\r\n            }\r\n        // case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n        //     return {\r\n        //         ...state,\r\n        //         perspectiveids: [...action.payload]\r\n        //     }\r\n        case \"LOADING_FALSE\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { stat } from \"fs\";\r\n\r\nconst initialState = {\r\n    authorsWithDetails: {},\r\n    authorBioHeadings: {},\r\n    authorBooks: {},\r\n    authorPerspectives:{},\r\n    authorGroups:{},\r\n    concepts:{},\r\n    author:{},\r\n    apiLoading: false,\r\n    apiServerError: false,\r\n    apiNetworkError: false,\r\n    author_authors_apiLoading: false,\r\n    author_authors_apiServerError: false,\r\n    author_authors_apiNetworkError: false,\r\n    author_authors: {\r\n    AuthorInfluenceAuthors: [],\r\n    AuthorConvoAuthors: [],\r\n    ends:true,\r\n    finish:false\r\n    }\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'AUTHOR_DETAILS':{\r\n            \r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n            return{\r\n                ...state,\r\n                authorPerspectives:action.payload.perspectives,\r\n                authorBioHeadings:action.payload.AuthorBioHeadings,\r\n                authorGroups:action.payload.AuthorGroups,\r\n                author:author,\r\n                concepts:action.payload.concepts,\r\n                authorBooks:action.payload.books\r\n            }\r\n        }\r\n        case 'AUTHOR_DETAILS_BY_SCROLL':{\r\n            \r\n            let author=action.payload.authors[Object.keys(action.payload.authors)[0]]\r\n            let prevAuthorPerspective=state.authorPerspectives;\r\n            console.log(action.payload)\r\n            console.log(\"befor \",Object.keys(prevAuthorPerspective).length);\r\n            Object.keys(action.payload.perspectives).map(key => {\r\n            \r\n                prevAuthorPerspective[key]=action.payload.perspectives[key];\r\n            });\r\n            console.log(\"after\",Object.keys(prevAuthorPerspective).length)\r\n    \r\n            let prevAuthor=state.author;\r\n            author.Perspectives.map(key => {\r\n               \r\n                prevAuthor.Perspectives.push(key);\r\n            })\r\n            \r\n            let prevConcept=state.concepts;\r\n            Object.keys(action.payload.concepts).map(key => {\r\n                prevConcept[key]=action.payload.concepts[key];\r\n            })\r\n            console.log(\"prevAuthor\",Object.keys(prevAuthorPerspective).length);\r\n            console.log(\"prevAuthor\",prevAuthor)\r\n            console.log(\"prevConcepti\",prevConcept)\r\n\r\n\r\n            return{\r\n                ...state,\r\n                authorPerspectives:prevAuthorPerspective,\r\n                author:prevAuthor,\r\n                concepts:prevConcept,\r\n                finish:action.payload.finish\r\n                \r\n            }\r\n        }\r\n        case 'AUTHOR_PERSPECTIVE_LIKE':{\r\n            let perspectives = state.authorPerspectives;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            // return{\r\n            //     ...state,\r\n            //     authorPerspectives: perspectives\r\n            // }\r\n        }\r\n        case 'SERVER_ERROR':\r\n            return {\r\n                ...state,\r\n                apiServerError: true,\r\n            }\r\n        case 'NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                apiNetworkError: true,\r\n            }\r\n        case 'REQUEST_STARTED':\r\n            return {\r\n                ...state,\r\n                apiLoading: true,\r\n            }\r\n            case \"GET_AUTHOR_DETAILS\":\r\n                return {\r\n                    ...state,\r\n                    authorsWithDetails: action.payload,\r\n                    apiLoading: false,\r\n                    apiServerError: false,\r\n                    apiNetworkError: false,\r\n                    finish:action.payload.finish\r\n                }\r\n                case \"GET_AUTHOR_DETAILS_BY_SCROLL\":\r\n                    { \r\n                        let prevAuthor=state.authorsWithDetails\r\n                        action.payload.Perspectives.map(data => {\r\n                            prevAuthor.Perspectives.push(data);\r\n                        });\r\n                        return {\r\n                            ...state,\r\n                            authorsWithDetails:prevAuthor,\r\n                            apiLoading: false,\r\n                            apiServerError: false,\r\n                            apiNetworkError: false,\r\n                            finish:action.payload.finish\r\n                        }\r\n                    }\r\n        case \"GET_AUTHOR_AUTHORS_PENDING\":\r\n            return {\r\n                ...state,\r\n                author_authors_apiLoading: true,\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_SUCCESS':\r\n            // console.log('reducer get author success')\r\n            return {\r\n                ...state,\r\n                author_authors_apiLoading: false,\r\n                author_authors_apiServerError: false,\r\n                author_authors_apiNetworkError: false,\r\n                author_authors: action.payload\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_SERVER_ERROR':\r\n            return {\r\n                ...state,\r\n                author_authors_apiServerError: true,\r\n                author_authors_apiLoading: false,\r\n            }\r\n        case 'GET_AUTHOR_AUTHORS_NETWORK_ERROR':\r\n            return {\r\n                ...state,\r\n                author_authors_apiNetworkrError: true,\r\n                author_authors_apiLoading: false,\r\n            }\r\n        case \"GET_AUTHOR_BIO\":\r\n            // console.log(\"Get AuthorBio dispatch called in reducer catching\");\r\n            return {\r\n                ...state,\r\n                authorBioData: [...action.payload]\r\n            }\r\n        case \"GET_AUTHOR_BOOKS\":\r\n            // console.log(\"Get AuthorBooks dispatch called in reducer catching\");\r\n            return {\r\n                ...state,\r\n                authorBooks: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_INFLUENCED_BY_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorInfluencedByAuthors: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_INFLUENCED_ON_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorInfluencedOnAuthors: [...action.payload]\r\n            }\r\n        case 'GET_AUTHOR_CONVO_WITH_AUTHORS':\r\n            return {\r\n                ...state,\r\n                authorConvoWithAuthors: [...action.payload]\r\n            }\r\n        case 'FLUSH_AUTHOR':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'LOADING_FALSE':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    keywordsForPerspectiveId: [],\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case \"GET_SINGLE_CONCEPT_KEYWORDS\":\r\n            return {\r\n                ...state,\r\n                keywordsForPerspectiveId: [...action.payload]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    authorClustersWithDetails: [],\r\n    authorClusterConceptsDiscrete: [],\r\n    authorCluster: {},\r\n    perspectives: [],\r\n    authorClicked: false,\r\n    conceptClicked: true,\r\n    resort:3\r\n}\r\nexport default (state = initialState, action = {}) => {\r\n    switch (action.type) {\r\n        case 'CLICKED_STATE': {\r\n            return {\r\n                ...state,\r\n                authorClicked: action.payload.authorClicked,\r\n                conceptClicked: action.payload.conceptClicked\r\n            }\r\n        }\r\n        case 'AUTHOR_CLUSTER_PERSPECTIVE_LIKE': {\r\n            let perspectives = state.authorCluster;\r\n            perspectives[action.payload.id].loves = action.payload.loves;\r\n            perspectives[action.payload.id].isLike = action.payload.isLike;\r\n            return {\r\n                ...state,\r\n                authorCluster: perspectives\r\n            }\r\n        }\r\n        case \"GET_AUTHOR_CLUSTER_DETAILS\":\r\n            return {\r\n                ...state,\r\n                authorClustersWithDetails: [...action.payload.data],\r\n                authorCluster: action.payload.entities.authorCluster,\r\n                perspectives: [...action.payload.result]\r\n            }\r\n        case \"GET_AUTHOR_CLUSTER_CONCEPTS_DISCRETE\":\r\n            return {\r\n                ...state,\r\n                authorClusterConceptsDiscrete: [...action.payload],\r\n            }\r\n\r\n        case 'FLUSH_AUTHOR_CLUSTER':\r\n            return {\r\n\r\n            }\r\n        case \"GET_CONCEPT_PERSPECTIVEIDS\":\r\n            return {\r\n                ...state,\r\n                perspectiveids: [...action.payload]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport auth from \"./auth\";\r\nimport navbar from \"./navbar\";\r\nimport concepts from \"./concepts\";\r\nimport conceptClusters from \"./conceptClusters\";\r\nimport author from \"./author\";\r\nimport keyword from './keyword';\r\nimport autherCluster from \"./autherCluster\";\r\nexport default combineReducers({\r\n    auth,\r\n    concepts,\r\n    navbar,\r\n    keyword,\r\n    author,\r\n    conceptClusters,\r\n    autherCluster,\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport setAuthorizationToken from \"./utils/setAuthorizationToken\";\r\nimport combineReducers from \"./reducers\";\r\nimport { setCurrentUser } from './actions/loginActions';\r\nimport jwt from \"jsonwebtoken\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Favicon from 'react-favicon';\r\n\r\n//import { PersistGate } from 'redux-persist/integration/react';\r\n//import configureStore from './store/configureStore';\r\n//const {store,persistor}=configureStore();\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(combineReducers, composeEnhancers(applyMiddleware(thunk)));\r\nif (localStorage.jwtToken) {\r\n    setAuthorizationToken(localStorage.jwtToken);\r\n    store.dispatch(setCurrentUser(jwt.decode(localStorage.jwtToken)));\r\n}\r\n\r\n\r\n\r\nReactDOM.render(<Provider store={store}>\r\n    <Router>\r\n    {/*<PersistGate loading={null} persistor={persistor}>*/}\r\n        <App />\r\n   {/* </PersistGate>*/}\r\n    </Router>\r\n\r\n</Provider>, document.getElementById('root'));\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}